<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 Plotting with ggplot2 | STAT 234: Data Science</title>
  <meta name="description" content="This book contains all examples for SLU’s Introduction to Data Science course." />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 Plotting with ggplot2 | STAT 234: Data Science" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This book contains all examples for SLU’s Introduction to Data Science course." />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Plotting with ggplot2 | STAT 234: Data Science" />
  
  <meta name="twitter:description" content="This book contains all examples for SLU’s Introduction to Data Science course." />
  

<meta name="author" content="Matt Higham" />


<meta name="date" content="2021-05-20" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="intro.html"/>
<link rel="next" href="dplyr.html"/>
<script src="libs/header-attrs-2.6/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">STAT 234: Data Science</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Syllabus and Course Information</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#general-information"><i class="fa fa-check"></i><b>1.1</b> General Information</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#course-information"><i class="fa fa-check"></i><b>1.2</b> Course Information</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#general-course-outcomes"><i class="fa fa-check"></i><b>1.3</b> General Course Outcomes</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="index.html"><a href="index.html#use-of-r-and-rstudio"><i class="fa fa-check"></i><b>1.3.1</b> Use of <code>R</code> and <code>RStudio</code></a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#how-you-will-be-assessed"><i class="fa fa-check"></i><b>1.4</b> How You Will Be Assessed</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="index.html"><a href="index.html#breakdown"><i class="fa fa-check"></i><b>1.4.1</b> Breakdown</a></li>
<li class="chapter" data-level="1.4.2" data-path="index.html"><a href="index.html#grading-scale"><i class="fa fa-check"></i><b>1.4.2</b> Grading Scale</a></li>
<li class="chapter" data-level="1.4.3" data-path="index.html"><a href="index.html#rules-for-collaboration"><i class="fa fa-check"></i><b>1.4.3</b> Rules for Collaboration</a></li>
<li class="chapter" data-level="1.4.4" data-path="index.html"><a href="index.html#diversity-statement"><i class="fa fa-check"></i><b>1.4.4</b> Diversity Statement</a></li>
<li class="chapter" data-level="1.4.5" data-path="index.html"><a href="index.html#accessibility-statement"><i class="fa fa-check"></i><b>1.4.5</b> Accessibility Statement</a></li>
<li class="chapter" data-level="1.4.6" data-path="index.html"><a href="index.html#academic-dishonesty"><i class="fa fa-check"></i><b>1.4.6</b> Academic Dishonesty</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="index.html"><a href="index.html#tentative-schedule"><i class="fa fa-check"></i><b>1.5</b> Tentative Schedule</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>2</b> Getting Started with <code>R</code> and <code>R Studio</code></a>
<ul>
<li class="chapter" data-level="2.1" data-path="intro.html"><a href="intro.html#intro-to-r-and-r-studio"><i class="fa fa-check"></i><b>2.1</b> Intro to <code>R</code> and <code>R Studio</code></a></li>
<li class="chapter" data-level="2.2" data-path="intro.html"><a href="intro.html#what-are-r-r-studio-and-r-markdown"><i class="fa fa-check"></i><b>2.2</b> What are <code>R</code>, <code>R Studio</code>, and <code>R Markdown</code>?</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="intro.html"><a href="intro.html#r-packages-and-the-tidyverse"><i class="fa fa-check"></i><b>2.2.1</b> <code>R</code> Packages and the <code>tidyverse</code></a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="intro.html"><a href="intro.html#putting-code-in-a-.rmd-file"><i class="fa fa-check"></i><b>2.3</b> Putting Code in a <code>.Rmd</code> File</a></li>
<li class="chapter" data-level="2.4" data-path="intro.html"><a href="intro.html#alcohol-data-example"><i class="fa fa-check"></i><b>2.4</b> Alcohol Data Example</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="intro.html"><a href="intro.html#exercise-1-1"><i class="fa fa-check"></i><b>2.4.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="intro.html"><a href="intro.html#athlete-data-example"><i class="fa fa-check"></i><b>2.5</b> Athlete Data Example</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="intro.html"><a href="intro.html#exercise-1-2"><i class="fa fa-check"></i><b>2.5.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="intro.html"><a href="intro.html#finishing-up-common-errors-in-r"><i class="fa fa-check"></i><b>2.6</b> Finishing Up: Common Errors in <code>R</code></a></li>
<li class="chapter" data-level="2.7" data-path="intro.html"><a href="intro.html#chapexercise-1"><i class="fa fa-check"></i><b>2.7</b> Chapter Exercises</a></li>
<li class="chapter" data-level="2.8" data-path="intro.html"><a href="intro.html#solutions-1"><i class="fa fa-check"></i><b>2.8</b> Exercise Solutions</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="ggplot2.html"><a href="ggplot2.html"><i class="fa fa-check"></i><b>3</b> Plotting with <code>ggplot2</code></a>
<ul>
<li class="chapter" data-level="3.1" data-path="ggplot2.html"><a href="ggplot2.html#introduction-and-basic-terminology"><i class="fa fa-check"></i><b>3.1</b> Introduction and Basic Terminology</a></li>
<li class="chapter" data-level="3.2" data-path="ggplot2.html"><a href="ggplot2.html#basic-plot-structure"><i class="fa fa-check"></i><b>3.2</b> Basic Plot Structure</a></li>
<li class="chapter" data-level="3.3" data-path="ggplot2.html"><a href="ggplot2.html#graphing-a-single-variable"><i class="fa fa-check"></i><b>3.3</b> Graphing a Single Variable</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="ggplot2.html"><a href="ggplot2.html#histograms-and-frequency-plots-for-a-quantitative-variable"><i class="fa fa-check"></i><b>3.3.1</b> Histograms and Frequency Plots for a Quantitative Variable</a></li>
<li class="chapter" data-level="3.3.2" data-path="ggplot2.html"><a href="ggplot2.html#r-code-style"><i class="fa fa-check"></i><b>3.3.2</b> <code>R</code> Code Style</a></li>
<li class="chapter" data-level="3.3.3" data-path="ggplot2.html"><a href="ggplot2.html#bar-plots-for-a-categorical-variable"><i class="fa fa-check"></i><b>3.3.3</b> Bar Plots for a Categorical Variable</a></li>
<li class="chapter" data-level="3.3.4" data-path="ggplot2.html"><a href="ggplot2.html#exercise-2-1"><i class="fa fa-check"></i><b>3.3.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="ggplot2.html"><a href="ggplot2.html#graphing-two-quantitative-variables-faceting-and-aes-options"><i class="fa fa-check"></i><b>3.4</b> Graphing Two Quantitative Variables, Faceting, and <code>aes()</code> Options</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="ggplot2.html"><a href="ggplot2.html#scatterplots"><i class="fa fa-check"></i><b>3.4.1</b> Scatterplots</a></li>
<li class="chapter" data-level="3.4.2" data-path="ggplot2.html"><a href="ggplot2.html#aesthetics-in-aes"><i class="fa fa-check"></i><b>3.4.2</b> Aesthetics in <code>aes()</code></a></li>
<li class="chapter" data-level="3.4.3" data-path="ggplot2.html"><a href="ggplot2.html#using-more-than-one-geom"><i class="fa fa-check"></i><b>3.4.3</b> Using More Than One <code>geom()</code></a></li>
<li class="chapter" data-level="3.4.4" data-path="ggplot2.html"><a href="ggplot2.html#line-plots-with-geom_line"><i class="fa fa-check"></i><b>3.4.4</b> Line Plots with <code>geom_line()</code></a></li>
<li class="chapter" data-level="3.4.5" data-path="ggplot2.html"><a href="ggplot2.html#faceting"><i class="fa fa-check"></i><b>3.4.5</b> Faceting</a></li>
<li class="chapter" data-level="3.4.6" data-path="ggplot2.html"><a href="ggplot2.html#exercise-2-2"><i class="fa fa-check"></i><b>3.4.6</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="ggplot2.html"><a href="ggplot2.html#boxplots-stacked-barplots-and-others"><i class="fa fa-check"></i><b>3.5</b> Boxplots, Stacked Barplots and Others</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="ggplot2.html"><a href="ggplot2.html#graphing-a-quant.-variable-vs.-a-cat.-variable"><i class="fa fa-check"></i><b>3.5.1</b> Graphing a Quant. Variable vs. a Cat. Variable</a></li>
<li class="chapter" data-level="3.5.2" data-path="ggplot2.html"><a href="ggplot2.html#graphing-two-categorical-variables"><i class="fa fa-check"></i><b>3.5.2</b> Graphing Two Categorical Variables</a></li>
<li class="chapter" data-level="3.5.3" data-path="ggplot2.html"><a href="ggplot2.html#exercise-2-3"><i class="fa fa-check"></i><b>3.5.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="ggplot2.html"><a href="ggplot2.html#chapexercise-2"><i class="fa fa-check"></i><b>3.6</b> Chapter Exercises</a></li>
<li class="chapter" data-level="3.7" data-path="ggplot2.html"><a href="ggplot2.html#solutions-2"><i class="fa fa-check"></i><b>3.7</b> Exercise Solutions</a>
<ul>
<li class="chapter" data-level="3.7.1" data-path="ggplot2.html"><a href="ggplot2.html#introduction-etc.-s"><i class="fa fa-check"></i><b>3.7.1</b> Introduction etc. S</a></li>
<li class="chapter" data-level="3.7.2" data-path="ggplot2.html"><a href="ggplot2.html#basic-plot-structure-s"><i class="fa fa-check"></i><b>3.7.2</b> Basic Plot Structure S</a></li>
<li class="chapter" data-level="3.7.3" data-path="ggplot2.html"><a href="ggplot2.html#graphing-a-single-variable-s"><i class="fa fa-check"></i><b>3.7.3</b> Graphing a Single Variable S</a></li>
<li class="chapter" data-level="3.7.4" data-path="ggplot2.html"><a href="ggplot2.html#graphing-two-quant.-etc.-s"><i class="fa fa-check"></i><b>3.7.4</b> Graphing Two Quant. etc. S</a></li>
<li class="chapter" data-level="3.7.5" data-path="ggplot2.html"><a href="ggplot2.html#boxplots-stacked-etc.-s"><i class="fa fa-check"></i><b>3.7.5</b> Boxplots, Stacked, etc. S</a></li>
<li class="chapter" data-level="3.7.6" data-path="ggplot2.html"><a href="ggplot2.html#chapter-exercises-2-s"><i class="fa fa-check"></i><b>3.7.6</b> Chapter Exercises 2 S</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="dplyr.html"><a href="dplyr.html"><i class="fa fa-check"></i><b>4</b> Wrangling with <code>dplyr</code></a>
<ul>
<li class="chapter" data-level="4.1" data-path="dplyr.html"><a href="dplyr.html#mutate-create-variables"><i class="fa fa-check"></i><b>4.1</b> <code>mutate()</code>: Create Variables</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="dplyr.html"><a href="dplyr.html#a-little-more-on-piping"><i class="fa fa-check"></i><b>4.1.1</b> A Little More on Piping</a></li>
<li class="chapter" data-level="4.1.2" data-path="dplyr.html"><a href="dplyr.html#if_else-and-case_when"><i class="fa fa-check"></i><b>4.1.2</b> <code>if_else()</code> and <code>case_when()</code></a></li>
<li class="chapter" data-level="4.1.3" data-path="dplyr.html"><a href="dplyr.html#exercise-3-1"><i class="fa fa-check"></i><b>4.1.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="dplyr.html"><a href="dplyr.html#arrange-select-and-slice-and-filter"><i class="fa fa-check"></i><b>4.2</b> <code>arrange()</code>, <code>select()</code>, and <code>slice()</code>, and <code>filter()</code></a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="dplyr.html"><a href="dplyr.html#arrange-ordering-rows"><i class="fa fa-check"></i><b>4.2.1</b> <code>arrange()</code>: Ordering Rows</a></li>
<li class="chapter" data-level="4.2.2" data-path="dplyr.html"><a href="dplyr.html#select-choose-columns"><i class="fa fa-check"></i><b>4.2.2</b> <code>select()</code> Choose Columns</a></li>
<li class="chapter" data-level="4.2.3" data-path="dplyr.html"><a href="dplyr.html#slice-and-filter-choose-rows"><i class="fa fa-check"></i><b>4.2.3</b> <code>slice()</code> and <code>filter()</code>: Choose Rows</a></li>
<li class="chapter" data-level="4.2.4" data-path="dplyr.html"><a href="dplyr.html#exercise-3-2"><i class="fa fa-check"></i><b>4.2.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="dplyr.html"><a href="dplyr.html#summarise-and-group_by-create-summaries"><i class="fa fa-check"></i><b>4.3</b> <code>summarise()</code> and <code>group_by()</code>: Create Summaries</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="dplyr.html"><a href="dplyr.html#group_by-groups"><i class="fa fa-check"></i><b>4.3.1</b> <code>group_by()</code>: Groups</a></li>
<li class="chapter" data-level="4.3.2" data-path="dplyr.html"><a href="dplyr.html#exercise-3-3"><i class="fa fa-check"></i><b>4.3.2</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="dplyr.html"><a href="dplyr.html#missing-values"><i class="fa fa-check"></i><b>4.4</b> Missing Values</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="dplyr.html"><a href="dplyr.html#exercise-3-4"><i class="fa fa-check"></i><b>4.4.1</b> Exercises</a></li>
<li class="chapter" data-level="4.4.2" data-path="dplyr.html"><a href="dplyr.html#removing-missing-values"><i class="fa fa-check"></i><b>4.4.2</b> Removing Missing Values</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="dplyr.html"><a href="dplyr.html#chapexercise-3"><i class="fa fa-check"></i><b>4.5</b> Chapter Exercises</a></li>
<li class="chapter" data-level="4.6" data-path="dplyr.html"><a href="dplyr.html#solutions-3"><i class="fa fa-check"></i><b>4.6</b> Exercise Solutions</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="dplyr.html"><a href="dplyr.html#mutate-s"><i class="fa fa-check"></i><b>4.6.1</b> <code>mutate()</code> S</a></li>
<li class="chapter" data-level="4.6.2" data-path="dplyr.html"><a href="dplyr.html#arrange-select-.-s"><i class="fa fa-check"></i><b>4.6.2</b> <code>arrange()</code>, <code>select()</code>, …. S</a></li>
<li class="chapter" data-level="4.6.3" data-path="dplyr.html"><a href="dplyr.html#summarise-and-group_by-s"><i class="fa fa-check"></i><b>4.6.3</b> <code>summarise()</code> and <code>group_by()</code> S</a></li>
<li class="chapter" data-level="4.6.4" data-path="dplyr.html"><a href="dplyr.html#missing-values-s"><i class="fa fa-check"></i><b>4.6.4</b> Missing Values S</a></li>
<li class="chapter" data-level="4.6.5" data-path="dplyr.html"><a href="dplyr.html#chapter-exercises-3-s"><i class="fa fa-check"></i><b>4.6.5</b> Chapter Exercises 3 S</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="tidying-with-tidyr.html"><a href="tidying-with-tidyr.html"><i class="fa fa-check"></i><b>5</b> Tidying with <code>tidyr</code></a>
<ul>
<li class="chapter" data-level="5.1" data-path="tidying-with-tidyr.html"><a href="tidying-with-tidyr.html#what-is-tidy-data"><i class="fa fa-check"></i><b>5.1</b> What is Tidy Data?</a></li>
<li class="chapter" data-level="5.2" data-path="tidying-with-tidyr.html"><a href="tidying-with-tidyr.html#separate-and-unite-columns"><i class="fa fa-check"></i><b>5.2</b> <code>separate()</code> and <code>unite()</code> Columns</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="tidying-with-tidyr.html"><a href="tidying-with-tidyr.html#separate-a-column"><i class="fa fa-check"></i><b>5.2.1</b> <code>separate()</code> a Column</a></li>
<li class="chapter" data-level="5.2.2" data-path="tidying-with-tidyr.html"><a href="tidying-with-tidyr.html#unite-columns"><i class="fa fa-check"></i><b>5.2.2</b> <code>unite()</code> Columns</a></li>
<li class="chapter" data-level="5.2.3" data-path="tidying-with-tidyr.html"><a href="tidying-with-tidyr.html#column-names-and-rename"><i class="fa fa-check"></i><b>5.2.3</b> Column Names and <code>rename()</code></a></li>
<li class="chapter" data-level="5.2.4" data-path="tidying-with-tidyr.html"><a href="tidying-with-tidyr.html#exercise-4-1"><i class="fa fa-check"></i><b>5.2.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="tidying-with-tidyr.html"><a href="tidying-with-tidyr.html#reshaping-with-pivot_"><i class="fa fa-check"></i><b>5.3</b> Reshaping with <code>pivot_()</code></a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="tidying-with-tidyr.html"><a href="tidying-with-tidyr.html#pivot_longer-to-gather-columns"><i class="fa fa-check"></i><b>5.3.1</b> <code>pivot_longer()</code> to Gather Columns</a></li>
<li class="chapter" data-level="5.3.2" data-path="tidying-with-tidyr.html"><a href="tidying-with-tidyr.html#pivot_wider-to-spread-to-multiple-columns"><i class="fa fa-check"></i><b>5.3.2</b> <code>pivot_wider()</code> to Spread to Multiple Columns</a></li>
<li class="chapter" data-level="5.3.3" data-path="tidying-with-tidyr.html"><a href="tidying-with-tidyr.html#exercise-4-2"><i class="fa fa-check"></i><b>5.3.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="tidying-with-tidyr.html"><a href="tidying-with-tidyr.html#skimming-data-with-skimr"><i class="fa fa-check"></i><b>5.4</b> Skimming Data with <code>skimr</code></a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="tidying-with-tidyr.html"><a href="tidying-with-tidyr.html#exercises-exercise-4-3"><i class="fa fa-check"></i><b>5.4.1</b> Exercises {exercise-4-3}</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="tidying-with-tidyr.html"><a href="tidying-with-tidyr.html#chapexercise-4"><i class="fa fa-check"></i><b>5.5</b> Chapter Exercises</a></li>
<li class="chapter" data-level="5.6" data-path="tidying-with-tidyr.html"><a href="tidying-with-tidyr.html#solutions-4"><i class="fa fa-check"></i><b>5.6</b> Exercise Solutions</a>
<ul>
<li class="chapter" data-level="5.6.1" data-path="tidying-with-tidyr.html"><a href="tidying-with-tidyr.html#what-is-tidy-data-s"><i class="fa fa-check"></i><b>5.6.1</b> What is Tidy Data? S</a></li>
<li class="chapter" data-level="5.6.2" data-path="tidying-with-tidyr.html"><a href="tidying-with-tidyr.html#separate-and-unite-s"><i class="fa fa-check"></i><b>5.6.2</b> <code>separate()</code> and <code>unite()</code> S</a></li>
<li class="chapter" data-level="5.6.3" data-path="tidying-with-tidyr.html"><a href="tidying-with-tidyr.html#pivot_-s"><i class="fa fa-check"></i><b>5.6.3</b> <code>pivot_()</code> S</a></li>
<li class="chapter" data-level="5.6.4" data-path="tidying-with-tidyr.html"><a href="tidying-with-tidyr.html#skimming-data-with-skimr-s"><i class="fa fa-check"></i><b>5.6.4</b> Skimming Data with <code>skimr()</code> S</a></li>
<li class="chapter" data-level="5.6.5" data-path="tidying-with-tidyr.html"><a href="tidying-with-tidyr.html#chapter-exercises-4-s"><i class="fa fa-check"></i><b>5.6.5</b> Chapter Exercises 4 S</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="communication-with-rmarkdown.html"><a href="communication-with-rmarkdown.html"><i class="fa fa-check"></i><b>6</b> Communication with <code>RMarkdown</code></a>
<ul>
<li class="chapter" data-level="6.1" data-path="communication-with-rmarkdown.html"><a href="communication-with-rmarkdown.html#reproducbility"><i class="fa fa-check"></i><b>6.1</b> Reproducbility</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="communication-with-rmarkdown.html"><a href="communication-with-rmarkdown.html#r-scripts-vs.-r-markdown"><i class="fa fa-check"></i><b>6.1.1</b> <code>R</code> Scripts vs. <code>R Markdown</code></a></li>
<li class="chapter" data-level="6.1.2" data-path="communication-with-rmarkdown.html"><a href="communication-with-rmarkdown.html#spell-checking"><i class="fa fa-check"></i><b>6.1.2</b> Spell-Checking</a></li>
<li class="chapter" data-level="6.1.3" data-path="communication-with-rmarkdown.html"><a href="communication-with-rmarkdown.html#exercise-5-1"><i class="fa fa-check"></i><b>6.1.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="communication-with-rmarkdown.html"><a href="communication-with-rmarkdown.html#r-markdown-files"><i class="fa fa-check"></i><b>6.2</b> <code>R Markdown</code> Files</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="communication-with-rmarkdown.html"><a href="communication-with-rmarkdown.html#code-chunk-options"><i class="fa fa-check"></i><b>6.2.1</b> Code Chunk Options</a></li>
<li class="chapter" data-level="6.2.2" data-path="communication-with-rmarkdown.html"><a href="communication-with-rmarkdown.html#figures-and-tables"><i class="fa fa-check"></i><b>6.2.2</b> Figures and Tables</a></li>
<li class="chapter" data-level="6.2.3" data-path="communication-with-rmarkdown.html"><a href="communication-with-rmarkdown.html#non-code-options"><i class="fa fa-check"></i><b>6.2.3</b> Non-Code Options</a></li>
<li class="chapter" data-level="6.2.4" data-path="communication-with-rmarkdown.html"><a href="communication-with-rmarkdown.html#yaml"><i class="fa fa-check"></i><b>6.2.4</b> YAML</a></li>
<li class="chapter" data-level="6.2.5" data-path="communication-with-rmarkdown.html"><a href="communication-with-rmarkdown.html#exercise-5-2"><i class="fa fa-check"></i><b>6.2.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="communication-with-rmarkdown.html"><a href="communication-with-rmarkdown.html#ggplot2-communication"><i class="fa fa-check"></i><b>6.3</b> <code>ggplot2</code> Communication</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="communication-with-rmarkdown.html"><a href="communication-with-rmarkdown.html#change-labels-and-titles"><i class="fa fa-check"></i><b>6.3.1</b> Change Labels and Titles</a></li>
<li class="chapter" data-level="6.3.2" data-path="communication-with-rmarkdown.html"><a href="communication-with-rmarkdown.html#changing-x-and-y-axis-limits"><i class="fa fa-check"></i><b>6.3.2</b> Changing x and y axis Limits</a></li>
<li class="chapter" data-level="6.3.3" data-path="communication-with-rmarkdown.html"><a href="communication-with-rmarkdown.html#changing-a-colour-scale"><i class="fa fa-check"></i><b>6.3.3</b> Changing A Colour Scale</a></li>
<li class="chapter" data-level="6.3.4" data-path="communication-with-rmarkdown.html"><a href="communication-with-rmarkdown.html#labeling-points-or-lines-of-interest"><i class="fa fa-check"></i><b>6.3.4</b> Labeling Points or Lines of Interest</a></li>
<li class="chapter" data-level="6.3.5" data-path="communication-with-rmarkdown.html"><a href="communication-with-rmarkdown.html#plot-themes"><i class="fa fa-check"></i><b>6.3.5</b> Plot Themes</a></li>
<li class="chapter" data-level="6.3.6" data-path="communication-with-rmarkdown.html"><a href="communication-with-rmarkdown.html#exercise-5-3"><i class="fa fa-check"></i><b>6.3.6</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="communication-with-rmarkdown.html"><a href="communication-with-rmarkdown.html#chapexercise-5"><i class="fa fa-check"></i><b>6.4</b> Chapter Exercises</a></li>
<li class="chapter" data-level="6.5" data-path="communication-with-rmarkdown.html"><a href="communication-with-rmarkdown.html#solutions-5"><i class="fa fa-check"></i><b>6.5</b> Exercise Solutions</a>
<ul>
<li class="chapter" data-level="6.5.1" data-path="communication-with-rmarkdown.html"><a href="communication-with-rmarkdown.html#reproducibility-s"><i class="fa fa-check"></i><b>6.5.1</b> Reproducibility S</a></li>
<li class="chapter" data-level="6.5.2" data-path="communication-with-rmarkdown.html"><a href="communication-with-rmarkdown.html#r-markdown-files-s"><i class="fa fa-check"></i><b>6.5.2</b> <code>R Markdown</code> Files S</a></li>
<li class="chapter" data-level="6.5.3" data-path="communication-with-rmarkdown.html"><a href="communication-with-rmarkdown.html#ggplot2-communication-s"><i class="fa fa-check"></i><b>6.5.3</b> <code>ggplot2</code> Communication S</a></li>
<li class="chapter" data-level="6.5.4" data-path="communication-with-rmarkdown.html"><a href="communication-with-rmarkdown.html#chapter-exercises-5-s"><i class="fa fa-check"></i><b>6.5.4</b> Chapter Exercises 5 S</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="r-basics.html"><a href="r-basics.html"><i class="fa fa-check"></i><b>7</b> <code>R</code> Basics</a>
<ul>
<li class="chapter" data-level="7.1" data-path="r-basics.html"><a href="r-basics.html#variable-classes-in-r"><i class="fa fa-check"></i><b>7.1</b> Variable Classes in <code>R</code></a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="r-basics.html"><a href="r-basics.html#referencing-variables-and-using-str"><i class="fa fa-check"></i><b>7.1.1</b> Referencing Variables and Using <code>str()</code></a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="r-basics.html"><a href="r-basics.html#classes-in-detail"><i class="fa fa-check"></i><b>7.2</b> Classes in Detail</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="r-basics.html"><a href="r-basics.html#chr-and-fct-class"><i class="fa fa-check"></i><b>7.2.1</b> <code>&lt;chr&gt;</code> and <code>&lt;fct&gt;</code> Class</a></li>
<li class="chapter" data-level="7.2.2" data-path="r-basics.html"><a href="r-basics.html#date-class"><i class="fa fa-check"></i><b>7.2.2</b> <code>&lt;date&gt;</code> Class</a></li>
<li class="chapter" data-level="7.2.3" data-path="r-basics.html"><a href="r-basics.html#dbl-and-int-class"><i class="fa fa-check"></i><b>7.2.3</b> <code>&lt;dbl&gt;</code> and <code>&lt;int&gt;</code> Class</a></li>
<li class="chapter" data-level="7.2.4" data-path="r-basics.html"><a href="r-basics.html#lgl-class"><i class="fa fa-check"></i><b>7.2.4</b> <code>&lt;lgl&gt;</code> Class</a></li>
<li class="chapter" data-level="7.2.5" data-path="r-basics.html"><a href="r-basics.html#exercise-6-1"><i class="fa fa-check"></i><b>7.2.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="r-basics.html"><a href="r-basics.html#object-types-and-subsetting"><i class="fa fa-check"></i><b>7.3</b> Object Types and Subsetting</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="r-basics.html"><a href="r-basics.html#tibble-and-data.frame"><i class="fa fa-check"></i><b>7.3.1</b> <code>tibble</code> and <code>data.frame</code></a></li>
<li class="chapter" data-level="7.3.2" data-path="r-basics.html"><a href="r-basics.html#vectors"><i class="fa fa-check"></i><b>7.3.2</b> Vectors</a></li>
<li class="chapter" data-level="7.3.3" data-path="r-basics.html"><a href="r-basics.html#lists"><i class="fa fa-check"></i><b>7.3.3</b> Lists</a></li>
<li class="chapter" data-level="7.3.4" data-path="r-basics.html"><a href="r-basics.html#exercise-6-2"><i class="fa fa-check"></i><b>7.3.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="r-basics.html"><a href="r-basics.html#piping-with-magrittr"><i class="fa fa-check"></i><b>7.4</b> Piping with <code>magrittr</code></a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="r-basics.html"><a href="r-basics.html#when-you-cant-use-the-pipe"><i class="fa fa-check"></i><b>7.4.1</b> When You Can’t Use the Pipe</a></li>
<li class="chapter" data-level="7.4.2" data-path="r-basics.html"><a href="r-basics.html#exercise-6-3"><i class="fa fa-check"></i><b>7.4.2</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="r-basics.html"><a href="r-basics.html#r-cleanup-other-topics"><i class="fa fa-check"></i><b>7.5</b> <code>R</code> Cleanup: Other Topics</a>
<ul>
<li class="chapter" data-level="7.5.1" data-path="r-basics.html"><a href="r-basics.html#r-projects-and-working-directories"><i class="fa fa-check"></i><b>7.5.1</b> <code>R Projects</code> and Working Directories</a></li>
<li class="chapter" data-level="7.5.2" data-path="r-basics.html"><a href="r-basics.html#r-studio-server"><i class="fa fa-check"></i><b>7.5.2</b> <code>R Studio</code> Server</a></li>
<li class="chapter" data-level="7.5.3" data-path="r-basics.html"><a href="r-basics.html#installing-r-packages"><i class="fa fa-check"></i><b>7.5.3</b> Installing <code>R</code> Packages</a></li>
<li class="chapter" data-level="7.5.4" data-path="r-basics.html"><a href="r-basics.html#exercise-6-4"><i class="fa fa-check"></i><b>7.5.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="r-basics.html"><a href="r-basics.html#chapexercise-6"><i class="fa fa-check"></i><b>7.6</b> Chapter Exercises</a></li>
<li class="chapter" data-level="7.7" data-path="r-basics.html"><a href="r-basics.html#solutions-6"><i class="fa fa-check"></i><b>7.7</b> Exercise Solutions</a>
<ul>
<li class="chapter" data-level="7.7.1" data-path="r-basics.html"><a href="r-basics.html#variable-classes-s"><i class="fa fa-check"></i><b>7.7.1</b> Variable Classes S</a></li>
<li class="chapter" data-level="7.7.2" data-path="r-basics.html"><a href="r-basics.html#classes-in-detail-s"><i class="fa fa-check"></i><b>7.7.2</b> Classes in Detail S</a></li>
<li class="chapter" data-level="7.7.3" data-path="r-basics.html"><a href="r-basics.html#object-types-s"><i class="fa fa-check"></i><b>7.7.3</b> Object Types S</a></li>
<li class="chapter" data-level="7.7.4" data-path="r-basics.html"><a href="r-basics.html#piping-s"><i class="fa fa-check"></i><b>7.7.4</b> Piping S</a></li>
<li class="chapter" data-level="7.7.5" data-path="r-basics.html"><a href="r-basics.html#other-r-topics-s"><i class="fa fa-check"></i><b>7.7.5</b> Other R Topics S</a></li>
<li class="chapter" data-level="7.7.6" data-path="r-basics.html"><a href="r-basics.html#chapter-exercises-6-s"><i class="fa fa-check"></i><b>7.7.6</b> Chapter Exercises 6 S</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="factors-with-forcats.html"><a href="factors-with-forcats.html"><i class="fa fa-check"></i><b>8</b> Factors with <code>forcats</code></a></li>
<li class="chapter" data-level="9" data-path="reprexes-and-import.html"><a href="reprexes-and-import.html"><i class="fa fa-check"></i><b>9</b> Reprexes and Import</a></li>
<li class="chapter" data-level="10" data-path="data-ethics.html"><a href="data-ethics.html"><i class="fa fa-check"></i><b>10</b> Data Ethics</a></li>
<li class="chapter" data-level="11" data-path="merging-with-dplyr.html"><a href="merging-with-dplyr.html"><i class="fa fa-check"></i><b>11</b> Merging with <code>dplyr</code></a></li>
<li class="chapter" data-level="12" data-path="dates-with-lubridate.html"><a href="dates-with-lubridate.html"><i class="fa fa-check"></i><b>12</b> Dates with <code>lubridate</code></a></li>
<li class="chapter" data-level="13" data-path="strings-with-stringr.html"><a href="strings-with-stringr.html"><i class="fa fa-check"></i><b>13</b> Strings with <code>stringr</code></a></li>
<li class="chapter" data-level="14" data-path="predictive-modeling-with-knn.html"><a href="predictive-modeling-with-knn.html"><i class="fa fa-check"></i><b>14</b> Predictive Modeling with knn</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">STAT 234: Data Science</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="ggplot2" class="section level1" number="3">
<h1><span class="header-section-number">Chapter 3</span> Plotting with <code>ggplot2</code></h1>
<p><strong>Goals:</strong></p>
<ol style="list-style-type: decimal">
<li><p>Use the <code>ggplot2</code> package to make exploratory plots from STAT 113 of a single quantitative variable, two quantitative variables, a quantitative and a categorical variable, a single categorical variable, and two categorical variables.</p></li>
<li><p>Use the plots produced to answer questions about the Presidential election data set and the Fitness data set.</p></li>
<li><p>Further practice running code in <code>R</code>.</p></li>
</ol>
<div id="introduction-and-basic-terminology" class="section level2" number="3.1">
<h2><span class="header-section-number">3.1</span> Introduction and Basic Terminology</h2>
<p>We will begin our data science journey with plotting in the <code>ggplot2</code> package. We are starting with plotting for a couple of reasons:</p>
<ol style="list-style-type: decimal">
<li><p>Plotting is cool! We get to see an immediate result of our coding efforts in the form of a nice-to-look-at plot.</p></li>
<li><p>In an exploratory data analysis, you would typically start by making plots of your data.</p></li>
<li><p>Plotting can lead us to ask and subsequently investigate interesting questions, as we will see in our first example.</p></li>
</ol>
<p>We will first use a data set on the 2000 United States Presidential election between former President George Bush and Al Gore obtained from <a href="http://www.econometrics.com/intro/votes.htm" target="_blank">http://www.econometrics.com/intro/votes.htm</a>. For those unfamiliar with U.S. political elections, it is enough to know that each state is allocated a certain number of “electoral votes” for the president: states award all of their electoral votes to the candidate that receives the most ballots in that state. You can read more about this strange system <a href="https://en.wikipedia.org/wiki/United_States_Electoral_College" target="_blank">on Wikipedia</a>.</p>
<p>Florida is typically a highly-contentious “battleground” state. The data set that we have has the following variables, recorded for each of the 67 counties in Florida:</p>
<ul>
<li><code>Gore</code>, the number of people who voted for Al Gore in 2000</li>
<li><code>Bush</code>, the number of people who voted for George Bush in 2000</li>
<li><code>Buchanan</code>, the number of people who voted for the third-party candidate Buchanan</li>
<li><code>Nader</code>, the number of people who voted for the third-party candidate Nader</li>
<li><code>Other</code>, the number of people who voted for a candidate other than the previous 4 listed</li>
<li><code>County</code>, the name of the county in Florida</li>
</ul>
<p>To get started exploring the data, complete the following steps that you learned in Week 0:</p>
<ol style="list-style-type: decimal">
<li><p>Log-on to the SLU <code>R Studio</code> server <a href="http://rstudio.stlawu.local:8787" target="_blank">http://rstudio.stlawu.local:8787</a></p></li>
<li><p>Create a new .Rmd file in the same folder as your Notes <code>R Project</code> using File -&gt; New File -&gt; <code>R Markdown</code>.</p></li>
<li><p>Finally, read in and name the data set <code>pres_df</code>, and take a look at the data set by running the <code>head(pres_df)</code> line, which shows the first few observations of the data set:</p></li>
</ol>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="ggplot2.html#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb30-2"><a href="ggplot2.html#cb30-2" aria-hidden="true" tabindex="-1"></a>pres_df <span class="ot">&lt;-</span> <span class="fu">read_table</span>(<span class="st">&quot;data/PRES2000.txt&quot;</span>) </span>
<span id="cb30-3"><a href="ggplot2.html#cb30-3" aria-hidden="true" tabindex="-1"></a><span class="do">## don&#39;t worry about the `read_table` function....yet</span></span>
<span id="cb30-4"><a href="ggplot2.html#cb30-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(pres_df)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 6
##     Gore   Bush Buchanan Nader Other County  
##    &lt;dbl&gt;  &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;   
## 1  47365  34124      263  3226   751 ALACHUA 
## 2   2392   5610       73    53    26 BAKER   
## 3  18850  38637      248   828   242 BAY     
## 4   3075   5414       65    84    35 BRADFORD
## 5  97318 115185      570  4470   852 BREVARD 
## 6 386561 177323      788  7101  1623 BROWAR</code></pre>
<p>Pay special attention to the variable names: we’ll need to use these names when we make all of our plots. And, <code>R</code> is case-sensitive, meaning that we will, for example, need to use <code>Gore</code>, not <code>gore</code>.</p>
<p>We are trying to go very light on the technical code terminology to start out with (but we will come back to some things later in the semester). The terminology will make a lot more sense once you’ve actually worked with data. But, there are three terms that will be thrown around quite a bit in the next few weeks: <em>function</em>, <em>argument</em>, and <em>object</em>.</p>
<ul>
<li><p>a <em>function</em> in <code>R</code> is always* (*always for this class) followed by an open <code>(</code> and ended with a closed <code>)</code>. In non-technical terms, a <em>function</em> <strong>does</strong> something to its inputs and is often analagous to an English verb. For example, the <code>mean()</code> function calculates the mean, the <code>rank()</code> functions ranks a variable from lowest to highest, and the <code>labs()</code> is used to add labels to a plot. Every function has a help file that can be accessed by typing in <code>?name_of_function</code>. Try typing <code>?mean</code> in your lower left window.</p></li>
<li><p>an <em>argument</em> is something that goes inside the parentheses in a function. Arguments could include <em>objects</em>, or they might not. In the bottom-left window, type <code>?mean</code> to view the Help file on this <code>R</code> function. We see that <code>mean()</code> has 3 arguments: <code>x</code>, which is an <code>R</code> object, <code>trim</code>, and <code>na.rm</code>. <code>trim = 0</code> is the default, which means that, by default, <code>R</code> will not trim any of the numbers when commputing the mean.</p></li>
<li><p>an <em>object</em> is something created in <code>R</code>, usually with <code>&lt;-</code>. So, looking at the code above where we read in the data, <code>pres_df</code> is an <code>R</code> object.</p></li>
</ul>
<p>All of this will make more sense as we go through these first couple of weeks.</p>
</div>
<div id="basic-plot-structure" class="section level2" number="3.2">
<h2><span class="header-section-number">3.2</span> Basic Plot Structure</h2>
<p>We will use the <code>ggplot()</code> function in the <code>ggplot2</code> package to contruct visualizations of data. the <code>ggplot()</code> function has 3 basic components:</p>
<ul>
<li>a <code>data</code> argument, specifying the name of your data set (<code>pres_df</code> above)</li>
<li>a <code>mapping</code> argument, specifying that specifies the aesthetics of your plot (<code>aes()</code>). Common aesthetics are <code>x</code> position, <code>y</code> position, <code>colour</code>, <code>size</code>, <code>shape</code>, <code>group</code>, and <code>fill</code>.</li>
<li>a <code>geom_    ()</code> component, specifying the geometric shape used to display the data.</li>
</ul>
<p>The components are combined in the following form:</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="ggplot2.html#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> name_of_data, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> name_of_x_var, </span>
<span id="cb32-2"><a href="ggplot2.html#cb32-2" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">y =</span> name_of_y_var,</span>
<span id="cb32-3"><a href="ggplot2.html#cb32-3" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">colour =</span> name_of_colour_var,</span>
<span id="cb32-4"><a href="ggplot2.html#cb32-4" aria-hidden="true" tabindex="-1"></a>                                          etc.)) <span class="sc">+</span></span>
<span id="cb32-5"><a href="ggplot2.html#cb32-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_nameofgeom</span>() <span class="sc">+</span></span>
<span id="cb32-6"><a href="ggplot2.html#cb32-6" aria-hidden="true" tabindex="-1"></a>  .....<span class="sc">&lt;</span>other stuff<span class="sc">&gt;</span></span></code></pre></div>
<p>The structure of <code>ggplot()</code> plots is based on the Grammar of Graphics <a href="https://www.springer.com/gp/book/9780387245447" target="_blank">https://www.springer.com/gp/book/9780387245447</a>. As with most new things, the components above will be easier to think about with some examples.</p>
</div>
<div id="graphing-a-single-variable" class="section level2" number="3.3">
<h2><span class="header-section-number">3.3</span> Graphing a Single Variable</h2>
<div id="histograms-and-frequency-plots-for-a-quantitative-variable" class="section level3" number="3.3.1">
<h3><span class="header-section-number">3.3.1</span> Histograms and Frequency Plots for a Quantitative Variable</h3>
<p>Let’s go ahead and begin our exploration of the data by making a histogram of the number of people who voted for <code>Gore</code> in each county. Recall that a histogram is useful if we would like a graph of a single quantitative variable. Copy the following code to an <code>R</code> chunk and run the code:</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="ggplot2.html#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> pres_df, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> Gore)) <span class="sc">+</span></span>
<span id="cb33-2"><a href="ggplot2.html#cb33-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">colour =</span> <span class="st">&quot;black&quot;</span>, <span class="at">fill =</span> <span class="st">&quot;white&quot;</span>) <span class="sc">+</span></span>
<span id="cb33-3"><a href="ggplot2.html#cb33-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Votes for Gore in Florida&quot;</span>)</span></code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="02-ggplot2_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
<p>What do the 1e+05, 2e+05, etc. labels on the x-axis mean?</p>
<p><code>R</code> gives us a message to “Pick a better value with <code>binwidth</code>” instead of the default <code>bins = 30</code>. Add <code>, bins = 15</code> inside the parentheses of <code>geom_histogram()</code> to change the number of bins in the histogram.</p>
<p>Change the colour of the inside of the bins to “darkred.” Do you think that the colour of the inside of the bins maps to <code>colour</code> or <code>fill</code>? Try both!</p>
<p>There are a couple of observations with very high vote values. What could explain these large outliers?</p>
<p><br></p>
<p>Another graph useful in visualizing a single quantitative variable is a frequency plot. The code to make a frequency plot is given below. We are simply replacing <code>geom_histogram()</code> with <code>geom_freqpoly()</code>.</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="ggplot2.html#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> pres_df, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> Gore)) <span class="sc">+</span></span>
<span id="cb35-2"><a href="ggplot2.html#cb35-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_freqpoly</span>(<span class="at">colour =</span> <span class="st">&quot;black&quot;</span>) <span class="sc">+</span></span>
<span id="cb35-3"><a href="ggplot2.html#cb35-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Votes for Gore in Florida&quot;</span>) </span></code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="02-ggplot2_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
<p>The frequency plot is just like a histogram but the counts are connected by a line instead of represented with bins. You can see how they relate by including <strong>both</strong> a geom_freqpoly() and a geom_histogram() in your plot, though it doesn’t make for the prettiest graph:</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="ggplot2.html#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> pres_df, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> Gore)) <span class="sc">+</span></span>
<span id="cb37-2"><a href="ggplot2.html#cb37-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_freqpoly</span>(<span class="at">colour =</span> <span class="st">&quot;black&quot;</span>) <span class="sc">+</span></span>
<span id="cb37-3"><a href="ggplot2.html#cb37-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Votes for Gore in Florida&quot;</span>) <span class="sc">+</span></span>
<span id="cb37-4"><a href="ggplot2.html#cb37-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>() </span></code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.
## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="02-ggplot2_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
</div>
<div id="r-code-style" class="section level3" number="3.3.2">
<h3><span class="header-section-number">3.3.2</span> <code>R</code> Code Style</h3>
<p>We want our code to be as readable as possible. This not only benefits other people who may read your code (like me), but it also benefits you, particularly if you read your own code in the future. I try to follow the Style Guide in the Advanced <code>R</code> book: <a href="http://adv-r.had.co.nz/Style.html" target="_blank">http://adv-r.had.co.nz/Style.html</a>. Feel free to skim through that, but you don’t need to worry about it too much: you should be able to pick up on some important elements just from going through this course. You might actually end up having better code style if you <em>haven’t</em> had any previous coding experience.</p>
<p>As a quick example of why code style can be important, consider the following two code chunks, both of which produce the same graph.</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="ggplot2.html#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>pres_df,<span class="at">mapping=</span><span class="fu">aes</span>(<span class="at">x=</span>Gore))<span class="sc">+</span><span class="fu">geom_histogram</span>(<span class="at">colour=</span><span class="st">&quot;black&quot;</span>,<span class="at">fill=</span><span class="st">&quot;white&quot;</span>)<span class="sc">+</span></span>
<span id="cb39-2"><a href="ggplot2.html#cb39-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Votes for Gore in Florida&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="ggplot2.html#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> pres_df, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> Gore)) <span class="sc">+</span></span>
<span id="cb40-2"><a href="ggplot2.html#cb40-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">colour =</span> <span class="st">&quot;black&quot;</span>, <span class="at">fill =</span> <span class="st">&quot;white&quot;</span>) <span class="sc">+</span></span>
<span id="cb40-3"><a href="ggplot2.html#cb40-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Votes for Gore in Florida&quot;</span>)</span></code></pre></div>
<p>Which code chunk would you want to read two years from now? Which code chunk would you want your classmate/friend/coworker to read? (assuming you like your classmate/friend/coworker….)</p>
</div>
<div id="bar-plots-for-a-categorical-variable" class="section level3" number="3.3.3">
<h3><span class="header-section-number">3.3.3</span> Bar Plots for a Categorical Variable</h3>
<p>Recall from STAT 113 that bar plots are useful if you want to examine the distribution of one categorical variable. Side-by-side bar plots or stacked bar plots are plots that are useful for looking at the relationship between two categorical variables. There actually aren’t any categorical variables that would be interesting to plot in this data set, so we’ll make one, called <code>winner</code> using code that we don’t need to understand until next week. <code>winner</code> will be <code>"Gore"</code> if Gore won the county and <code>"Bush"</code> if Bush won the county. We’ll name this new data set <code>pres_cat</code>.</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="ggplot2.html#cb41-1" aria-hidden="true" tabindex="-1"></a>pres_cat <span class="ot">&lt;-</span> pres_df <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">winner =</span> <span class="fu">if_else</span>(Gore <span class="sc">&gt;</span> Bush,</span>
<span id="cb41-2"><a href="ggplot2.html#cb41-2" aria-hidden="true" tabindex="-1"></a>                                                <span class="at">true =</span> <span class="st">&quot;Gore&quot;</span>,</span>
<span id="cb41-3"><a href="ggplot2.html#cb41-3" aria-hidden="true" tabindex="-1"></a>                                                <span class="at">false =</span> <span class="st">&quot;Bush&quot;</span>))</span>
<span id="cb41-4"><a href="ggplot2.html#cb41-4" aria-hidden="true" tabindex="-1"></a>pres_cat</span></code></pre></div>
<pre><code>## # A tibble: 67 x 7
##      Gore   Bush Buchanan Nader Other County    winner
##     &lt;dbl&gt;  &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;     &lt;chr&gt; 
##  1  47365  34124      263  3226   751 ALACHUA   Gore  
##  2   2392   5610       73    53    26 BAKER     Bush  
##  3  18850  38637      248   828   242 BAY       Bush  
##  4   3075   5414       65    84    35 BRADFORD  Bush  
##  5  97318 115185      570  4470   852 BREVARD   Bush  
##  6 386561 177323      788  7101  1623 BROWAR    Gore  
##  7   2155   2873       90    39    17 CALHOUN   Bush  
##  8  29645  35426      182  1462   181 CHARLOTTE Bush  
##  9  25525  29765      270  1379   261 CITRUS    Bush  
## 10  14632  41736      186   562   237 CLAY      Bush  
## # … with 57 more rows</code></pre>
<p>Using this data set, we can make a bar plot with <code>geom_bar()</code>. The beauty of <code>ggplot()</code> is that the code is super-similar to what we used for histograms and frequency plots!</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="ggplot2.html#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> pres_cat, <span class="fu">aes</span>(<span class="at">x =</span> winner)) <span class="sc">+</span></span>
<span id="cb43-2"><a href="ggplot2.html#cb43-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>()</span></code></pre></div>
<p><img src="02-ggplot2_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
<p>Note that, sometimes, data are in format such that one column contains the <em>levels</em> of the categorical variable while another column contains the counts directly. For example, we can create such a data set using code that we will learn next week:</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="ggplot2.html#cb44-1" aria-hidden="true" tabindex="-1"></a>pres_cat2 <span class="ot">&lt;-</span> pres_cat <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(winner) <span class="sc">%&gt;%</span></span>
<span id="cb44-2"><a href="ggplot2.html#cb44-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">nwins =</span> <span class="fu">n</span>())</span>
<span id="cb44-3"><a href="ggplot2.html#cb44-3" aria-hidden="true" tabindex="-1"></a>pres_cat2</span></code></pre></div>
<pre><code>## # A tibble: 2 x 2
##   winner nwins
## * &lt;chr&gt;  &lt;int&gt;
## 1 Bush      51
## 2 Gore      16</code></pre>
<p>This data set has just two observations and contains a column for the two major presidential candidates and a column for the number of counties that each candidate won. If we wanted to make a barplot showing the number of wins for each candidate, we can’t use <code>geom_bar()</code>. Predict what the result will be from running the following code.</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="ggplot2.html#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(pres_cat2, <span class="fu">aes</span>(<span class="at">x =</span> winner)) <span class="sc">+</span></span>
<span id="cb46-2"><a href="ggplot2.html#cb46-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>()</span></code></pre></div>
<p>Instead, we can use <code>geom_col()</code>, which takes an <code>x</code> aesthetic giving the column with names of the levels of our categorical variable, and a <code>y</code> aesthetic giving the column with the counts:</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="ggplot2.html#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(pres_cat2, <span class="fu">aes</span>(<span class="at">x =</span> winner, <span class="at">y =</span> nwins)) <span class="sc">+</span></span>
<span id="cb47-2"><a href="ggplot2.html#cb47-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>()</span></code></pre></div>
<p><img src="02-ggplot2_files/figure-html/unnamed-chunk-12-1.png" width="672" /></p>
</div>
<div id="exercise-2-1" class="section level3" number="3.3.4">
<h3><span class="header-section-number">3.3.4</span> Exercises</h3>
<p>Exercises marked with an * indicate that the exercise has a solution at the end of the chapter at <a href="ggplot2.html#solutions-2">3.7</a>.</p>
<ol style="list-style-type: decimal">
<li><p>Change the frequency plot to plot the number of votes for Bush instead of the number for Gore. Are there any obvious outliers in the Bush frequency plot?</p></li>
<li><p>Do you have a preference for histograms or a preference for frequency plots? Can you think of a situation where one would be more desirable than the other?</p></li>
<li><p>It looks like Bush won a lot more….does that necessarily mean that Bush won more votes in total in Florida? Why or why not?</p></li>
</ol>
<p>We will be using survey data from STAT 113 in the 2018-2019 academic year for many exercises in this section. For those who may not have taken STAT 113 from having AP credit or another reason, the STAT 113 survey is given to all students in STAT 113 across all sections. Some analyses in Intro Stat are then carried out using the survey.</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="ggplot2.html#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb48-2"><a href="ggplot2.html#cb48-2" aria-hidden="true" tabindex="-1"></a>stat113_df <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/stat113.csv&quot;</span>)</span>
<span id="cb48-3"><a href="ggplot2.html#cb48-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(stat113_df)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 14
##   Year    Sex     Hgt   Wgt Hand  Haircut   GPA Exercise Sport    TV Award Pulse
##   &lt;chr&gt;   &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;   &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt;
## 1 Sophom… M        66   155 right       0  2.9        15 Yes       8 Olym…    72
## 2 FirstY… F        69   170 right      17  3.87       14 Yes      12 Olym…    51
## 3 FirstY… F        64   130 right      40  3.3         5 No        5 Olym…    68
## 4 FirstY… M        68   157 right      35  3.21       10 Yes      15 Olym…    54
## 5 FirstY… M        72   175 right      20  3.1         2 No        5 Nobel    NA
## 6 Junior  F        62   150 right      50  3.3         8 Yes       5 Olym…    86
## # … with 2 more variables: Computer &lt;chr&gt;, SocialMedia &lt;chr&gt;</code></pre>
<p>The data set contains the following variables:</p>
<ul>
<li><code>Year</code>, FirstYear, Sophomore, Junior, or Senior</li>
<li><code>Sex</code>, M or F (for this data set, <code>Sex</code> is considered binary).</li>
<li><code>Hgt</code>, height, in inches.</li>
<li><code>Wgt</code>, weight, in pounds.</li>
<li><code>Hand</code>, right, left, or both</li>
<li><code>Haircut</code>, how much is paid for a haircut, typically.</li>
<li><code>GPA</code></li>
<li><code>Exercise</code>, amount of hours of exercise in a typical week.</li>
<li><code>Sport</code>, whether or not the student plays a varsity sport.</li>
<li><code>TV</code>, amount of hours spent watching TV in a typical week.</li>
<li><code>Award</code>, Award preferred: choices are Olympic Medal, Nobel Prize, or Academy Award.</li>
<li><code>Pulse</code>, pulse rate, in beats per minute.</li>
<li><code>Computer</code>, whether the student owns a Mac or a PC.</li>
<li><code>SocialMedia</code>, most used social media platform (Instagram, SnapChat, FaceBook, Twitter, Other, or None).</li>
</ul>
<ol start="4" style="list-style-type: decimal">
<li><p>* Create a histogram of the <code>Exercise</code> variable, change the x-axis label to be “Exercise (hours per typical week),” change the number of <code>bins</code> to <code>14</code>, and change the <code>fill</code> of the bins to be “lightpink2” and the outline <code>colour</code> of the bins to be black.</p></li>
<li><p>* We can change the y-axis of a histogram to be “density” instead of a raw count. This means that each bar shows a <strong>proportion</strong> of cases instead of a raw count. Google something like “geom_histogram with density” to figure out how to create a y <code>aes()</code> to show density instead of count.</p></li>
<li><p>Construct a histogram using a quantitative variable of your choice. Change the <code>fill</code> and <code>colour</code> using <a href="http://www.stat.columbia.edu/~tzheng/files/Rcolor.pdf" target="_blank">http://www.stat.columbia.edu/~tzheng/files/Rcolor.pdf</a> to help you choose colours.</p></li>
<li><p>Construct a bar plot for a variable of your choosing. What do you find?</p></li>
<li><p>What format would the STAT 113 data set need to be in to construct your bar plot with <code>geom_col()</code> instead of <code>geom_bar()</code>?</p></li>
</ol>
</div>
</div>
<div id="graphing-two-quantitative-variables-faceting-and-aes-options" class="section level2" number="3.4">
<h2><span class="header-section-number">3.4</span> Graphing Two Quantitative Variables, Faceting, and <code>aes()</code> Options</h2>
<div id="scatterplots" class="section level3" number="3.4.1">
<h3><span class="header-section-number">3.4.1</span> Scatterplots</h3>
<p>Moving back to the 2000 presidential election data set, thus far, we’ve figured out that there a couple of counties with very large numbers of votes for Gore and very large number of votes for Bush. We don’t know the reason for this (if some counties are very democratic, very republican, or if some counties are just more populous). Do the counties that have a large number of votes for Bush also tend to have a large number of votes for Gore? And what about the other candidates: do they have any interesting patterns?</p>
<p>Let’s start by making a scatterplot of the number of votes for Gore and the number of votes for Bush. Note that the <code>geom_</code> for making a scatterplot is called <code>geom_point()</code> because we are adding a layer of points to the plot.</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="ggplot2.html#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> pres_df, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> Gore, <span class="at">y =</span> Bush)) <span class="sc">+</span></span>
<span id="cb50-2"><a href="ggplot2.html#cb50-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code></pre></div>
<p><img src="02-ggplot2_files/figure-html/unnamed-chunk-16-1.png" width="672" /></p>
<p>What patterns do you see in the scatterplot?</p>
<p>Now, change the x variable from <code>Gore</code> to <code>Buchanan</code>. You should notice something strange in this scatterplot. Try to come up with one explanation for why the outlying point has so many votes for <code>Buchanan</code>.</p>
<p>In trying to come up with an explanation, it would be nice to figure out which Florida county has that outlying point and it would be nice if we knew something about Florida counties. To remedy the first issue, recall that we can type <code>View(pres_df)</code> to pull up the data set. Once you have the new window open, click on the column heading <code>Buchanan</code> to sort the votes for Buchanan from high to low to figure out which county is the outlier.</p>
<p>Use some Google sleuthing skills to find an explanation: try to search for “2000 united states presidential election [name of outlier county].” Write a sentence about what you find. Hint: if nothing useful pops up, try adding the term “butterfly ballot” to your search.</p>
<p><br></p>
<p>We have used the 2000 Presidential data set to find out something really interesting! In particular, we have used <em>exploratory data analysis</em> to examine a data set, without having a specific question of interest that we want to answer. This type of exploring is often really useful, but does have some drawbacks, which we will discuss later in the semester.</p>
</div>
<div id="aesthetics-in-aes" class="section level3" number="3.4.2">
<h3><span class="header-section-number">3.4.2</span> Aesthetics in <code>aes()</code></h3>
<p>For the remainder of this chapter, we will work with some fitness data collected from my Apple Watch since November 2018. The <code>higham_fitness_clean.csv</code> contains information on the following variables:</p>
<ul>
<li><code>Start</code>, the month, day, and year that the fitness data was recorded on</li>
<li><code>month</code>, the month</li>
<li><code>weekday</code>, the day of the week</li>
<li><code>dayofyear</code>, the day of the year (so that 304 corresponds to the 304th day of the year)</li>
<li><code>distance</code>, distance walked in miles</li>
<li><code>steps</code>, the number of steps taken</li>
<li><code>flights</code>, the number of flights of stairs climbed</li>
<li><code>active_cals</code>, the number of calories burned from activity</li>
<li><code>stepgoal</code>, whether or not I reached 10,000 steps for the day</li>
<li><code>weekend_ind</code>, a variable for whether or not the day of the week was a weekend day (Saturday or Sunday) or a weekday (Monday - Friday).</li>
</ul>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="ggplot2.html#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb51-2"><a href="ggplot2.html#cb51-2" aria-hidden="true" tabindex="-1"></a>fitness_full <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/higham_fitness_clean.csv&quot;</span>) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">weekend_ind =</span> <span class="fu">case_when</span>(weekday <span class="sc">==</span> <span class="st">&quot;Sat&quot;</span> <span class="sc">|</span> weekday <span class="sc">==</span> <span class="st">&quot;Sun&quot;</span> <span class="sc">~</span> <span class="st">&quot;weekend&quot;</span>,</span>
<span id="cb51-3"><a href="ggplot2.html#cb51-3" aria-hidden="true" tabindex="-1"></a>  <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">&quot;weekday&quot;</span>))</span></code></pre></div>
<pre><code>## Parsed with column specification:
## cols(
##   Start = col_date(format = &quot;&quot;),
##   month = col_character(),
##   weekday = col_character(),
##   dayofyear = col_double(),
##   distance = col_double(),
##   steps = col_double(),
##   flights = col_double(),
##   active_cals = col_double(),
##   stepgoal = col_character()
## )</code></pre>
<p>First, let’s make a basic scatterplot to illustrate why it’s so important to plot your data. I’ll use the variable <code>distance</code> as the x-variable and <code>active_cals</code> as the y-variable.</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="ggplot2.html#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> fitness_full, <span class="fu">aes</span>(<span class="at">x =</span> distance, <span class="at">y =</span> active_cals)) <span class="sc">+</span></span>
<span id="cb53-2"><a href="ggplot2.html#cb53-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code></pre></div>
<p><img src="02-ggplot2_files/figure-html/unnamed-chunk-18-1.png" width="672" /></p>
<p>One aspect of the plot that you may notice is that there are observations where I burned 0 or very few active calories, yet walked/jogged/ran/moved some distance. Is it possible to not burn any calories and move ~ 4 miles? Probably not, so let’s drop these observations from the data set and make a note of why we dropped those observations. Unfortunately, we don’t have the tools to do this yet, so just run the following chunk of code without worrying too much about the syntax.</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="ggplot2.html#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="do">## drop observations that have active calories &lt; 50. </span></span>
<span id="cb54-2"><a href="ggplot2.html#cb54-2" aria-hidden="true" tabindex="-1"></a><span class="do">## assuming that these are data errors or </span></span>
<span id="cb54-3"><a href="ggplot2.html#cb54-3" aria-hidden="true" tabindex="-1"></a><span class="do">## days where the Apple Watch wasn&#39;t worn.</span></span>
<span id="cb54-4"><a href="ggplot2.html#cb54-4" aria-hidden="true" tabindex="-1"></a>fitness <span class="ot">&lt;-</span> fitness_full <span class="sc">%&gt;%</span></span>
<span id="cb54-5"><a href="ggplot2.html#cb54-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(active_cals <span class="sc">&gt;</span> <span class="dv">50</span>)</span></code></pre></div>
<p>Let’s make the plot again with the <code>fitness</code> data set instead of <code>fitness_full</code> to see if the outliers are actually gone. This time, we will put the <code>aes()</code> in the <code>geom_point()</code> function:</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="ggplot2.html#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> fitness) <span class="sc">+</span></span>
<span id="cb55-2"><a href="ggplot2.html#cb55-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> distance, <span class="at">y =</span> active_cals))</span></code></pre></div>
<p><img src="02-ggplot2_files/figure-html/unnamed-chunk-20-1.png" width="672" /></p>
<p>Putting the <code>aes()</code> in <code>ggplot()</code> and putting the <code>aes()</code> in <code>geom_point()</code> results in the same graph in this case. When you put the <code>aes()</code> in <code>ggplot()</code>, <code>R</code> perpetuates these <code>aes()</code> aesthetics in all <code>geom_</code>s in your plotting command. However, if you put your <code>aes()</code> in <code>geom_point()</code>, then any future <code>geom</code>s that you use will need you to re-specify different <code>aes()</code>. We’ll see an example of this in the exercises.</p>
<p><strong>Other <code>aes()</code> Options</strong></p>
<p>In addition to <code>x</code> and <code>y</code>, we can also use <code>aes()</code> to map variables to things like <code>colour</code>, <code>size</code>, and <code>shape</code>. For example, we might make a scatterplot with <code>Start</code> on the x-axis (for the date) and <code>active_cals</code> on the y-axis, colouring by whether or not the day of the week was a weekend.</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="ggplot2.html#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> fitness) <span class="sc">+</span></span>
<span id="cb56-2"><a href="ggplot2.html#cb56-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> Start, <span class="at">y =</span> active_cals, <span class="at">colour =</span> weekend_ind))</span></code></pre></div>
<p><img src="02-ggplot2_files/figure-html/unnamed-chunk-21-1.png" width="672" /></p>
<p>Is there anything useful that you notice about the plot? Is there anything about the plot that could be improved?</p>
<p>Instead of using colour, you can also specify the point shape. This could be useful, for example, if you are printing something in black and white.</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="ggplot2.html#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> fitness) <span class="sc">+</span></span>
<span id="cb57-2"><a href="ggplot2.html#cb57-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> Start, <span class="at">y =</span> active_cals, <span class="at">shape =</span> weekend_ind))</span></code></pre></div>
<p><img src="02-ggplot2_files/figure-html/unnamed-chunk-22-1.png" width="672" /></p>
<p>Do you prefer the colour or the shape? Why?</p>
<p>Finally, another common <code>aes()</code> is <code>size</code>. For example, we could make the size of the points in the scatterplot change depending on how many <code>flights</code> of stairs I climbed.</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="ggplot2.html#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> fitness) <span class="sc">+</span></span>
<span id="cb58-2"><a href="ggplot2.html#cb58-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> Start, <span class="at">y =</span> active_cals, <span class="at">size =</span> flights))</span></code></pre></div>
<p><img src="02-ggplot2_files/figure-html/unnamed-chunk-23-1.png" width="672" /></p>
<p>I don’t think any of the previous three plots are necessarily the “best” and need some work, but, part of the fun of exploratory data analysis is making trying out different plots to see what “works.”</p>
<p><strong>Inside vs Outside <code>aes()</code></strong></p>
<p>We’ve changed the colour of the points to correspond to <code>weekend_ind</code>, but what if we just wanted to change the colour of points to all be the same colour, <code>"purple"</code>. Try running the following code chunk:</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="ggplot2.html#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> fitness) <span class="sc">+</span></span>
<span id="cb59-2"><a href="ggplot2.html#cb59-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> Start, <span class="at">y =</span> active_cals, <span class="at">colour =</span> <span class="st">&quot;purple&quot;</span>))</span></code></pre></div>
<p><img src="02-ggplot2_files/figure-html/unnamed-chunk-24-1.png" width="672" /></p>
<p>What does the graph look like? Did it do what you expected?</p>
<p>Putting <code>colour = ____</code> inside <code>aes()</code> or outside <code>aes()</code> achieves different things. In general,</p>
<ul>
<li><p>when we want to map something in our data set (<code>fitness</code>) to something in our plot (<code>x</code>, <code>y</code>, <code>colour</code>, <code>size</code>, etc.), we put that <strong>inside</strong> the <code>aes()</code> as in <code>geom_point(aes(colour = weekend_ind))</code>.</p></li>
<li><p>When we assign fixed characteristics that don’t come from the data, we put them <strong>outside</strong> the <code>aes()</code>, as in <code>geom_point(colour = "purple")</code>.</p></li>
</ul>
<p>You can also change the overall point size and shape. The standard size is <code>1</code> so the following code chunk makes the points bigger. The standard shape is <code>19</code>: you can try changing that to other integers to see what other shapes you can get.</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="ggplot2.html#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> fitness) <span class="sc">+</span></span>
<span id="cb60-2"><a href="ggplot2.html#cb60-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> Start, <span class="at">y =</span> active_cals), <span class="at">size =</span> <span class="fl">1.5</span>, <span class="at">shape =</span> <span class="dv">19</span>)</span></code></pre></div>
<p><img src="02-ggplot2_files/figure-html/unnamed-chunk-25-1.png" width="672" /></p>
</div>
<div id="using-more-than-one-geom" class="section level3" number="3.4.3">
<h3><span class="header-section-number">3.4.3</span> Using More Than One <code>geom()</code></h3>
<p>We might also be interested in fitting a smooth curve to our scatterplot. When we want to put more than one “geom” on our plot, we can use multiple <code>geoms</code>. Since I want the <code>aes()</code> to apply to <strong>both</strong> <code>geom_point()</code> and <code>geom_smooth()</code>, I am going to move the <code>aes()</code> command to the overall <code>ggplot()</code> line of code:</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="ggplot2.html#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> fitness, <span class="fu">aes</span>(<span class="at">x =</span> Start, <span class="at">y =</span> active_cals)) <span class="sc">+</span></span>
<span id="cb61-2"><a href="ggplot2.html#cb61-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb61-3"><a href="ggplot2.html#cb61-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>()</span></code></pre></div>
<pre><code>## `geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;</code></pre>
<p><img src="02-ggplot2_files/figure-html/unnamed-chunk-26-1.png" width="672" /></p>
<p>Within <code>geom_smooth()</code>, you can set <code>se = FALSE</code> to get rid of the grey standard errors around each of the lines, and you can set<code>method = "lm"</code> to fit straight linear regression lines instead of smooth curves:</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="ggplot2.html#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> fitness, <span class="fu">aes</span>(<span class="at">x =</span> Start, <span class="at">y =</span> active_cals)) <span class="sc">+</span></span>
<span id="cb63-2"><a href="ggplot2.html#cb63-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb63-3"><a href="ggplot2.html#cb63-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>, <span class="at">method =</span> <span class="st">&quot;lm&quot;</span>)</span></code></pre></div>
<pre><code>## `geom_smooth()` using formula &#39;y ~ x&#39;</code></pre>
<p><img src="02-ggplot2_files/figure-html/unnamed-chunk-27-1.png" width="672" /></p>
<p>Does it look like there is an increasing overall trend? decreasing? Does it make sense to use a line to model the relationship or did you prefer the smooth curve?</p>
</div>
<div id="line-plots-with-geom_line" class="section level3" number="3.4.4">
<h3><span class="header-section-number">3.4.4</span> Line Plots with <code>geom_line()</code></h3>
<p>Line plots are often useful when you have a quantitative variable that you’d like to explore over time. The y-axis is the quantitative variable while the x-axis is typically time. More generally, line plots are often used when the x-axis variable has one discrete value for each y-axis variable. For example, suppose we want to explore how my step count has changed through time over the past couple of years. Compare the standard scatterplot with the following line plot: which do you prefer?</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="ggplot2.html#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> fitness, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> Start, <span class="at">y =</span> steps)) <span class="sc">+</span></span>
<span id="cb65-2"><a href="ggplot2.html#cb65-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> <span class="fu">geom_smooth</span>() <span class="sc">+</span> <span class="fu">xlab</span>(<span class="st">&quot;Date&quot;</span>)</span></code></pre></div>
<pre><code>## `geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;</code></pre>
<p><img src="02-ggplot2_files/figure-html/unnamed-chunk-28-1.png" width="672" /></p>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="ggplot2.html#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> fitness, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> Start, <span class="at">y =</span> steps)) <span class="sc">+</span></span>
<span id="cb67-2"><a href="ggplot2.html#cb67-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span> <span class="fu">geom_smooth</span>() <span class="sc">+</span> <span class="fu">xlab</span>(<span class="st">&quot;Date&quot;</span>)</span></code></pre></div>
<pre><code>## `geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;</code></pre>
<p><img src="02-ggplot2_files/figure-html/unnamed-chunk-28-2.png" width="672" /></p>
<p>Can you spot the start of the pandemic in the graph? What seemed to happen with the step count?</p>
</div>
<div id="faceting" class="section level3" number="3.4.5">
<h3><span class="header-section-number">3.4.5</span> Faceting</h3>
<p>Using colour to colour points of different levels of a categorical variable is generally fine when there are just a couple of levels and/or there is little overlap among the levels. But, what if there are a lot more than two categories to colour by. For example, let’s move back to the STAT 113 survey data set and investigate the relationship between <code>Pulse</code> and <code>Exercise</code> for different class <code>Year</code>’s. We might hypothesize that students who get more exercise tend to have lower pulse rates.</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="ggplot2.html#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> stat113_df, <span class="fu">aes</span>(<span class="at">x =</span> Exercise, <span class="at">y =</span> Pulse,</span>
<span id="cb69-2"><a href="ggplot2.html#cb69-2" aria-hidden="true" tabindex="-1"></a>                           <span class="at">colour =</span> Year)) <span class="sc">+</span></span>
<span id="cb69-3"><a href="ggplot2.html#cb69-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb69-4"><a href="ggplot2.html#cb69-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## `geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;</code></pre>
<pre><code>## Warning: Removed 40 rows containing non-finite values (stat_smooth).</code></pre>
<pre><code>## Warning: Removed 40 rows containing missing values (geom_point).</code></pre>
<p><img src="02-ggplot2_files/figure-html/unnamed-chunk-29-1.png" width="672" /></p>
<p>When there are many different categories for a categorical variable (there are only 4 categories for <code>Year</code>, but this particular plot is still a bit difficult to read), it can sometimes be useful to <code>facet</code> the plot by that variable instead of trying to use different <code>colour</code>s or <code>shape</code>s.</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb73-1"><a href="ggplot2.html#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> stat113_df, <span class="fu">aes</span>(<span class="at">x =</span> Exercise, <span class="at">y =</span> Pulse)) <span class="sc">+</span></span>
<span id="cb73-2"><a href="ggplot2.html#cb73-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb73-3"><a href="ggplot2.html#cb73-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb73-4"><a href="ggplot2.html#cb73-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> Year)</span></code></pre></div>
<pre><code>## `geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;</code></pre>
<pre><code>## Warning: Removed 40 rows containing non-finite values (stat_smooth).</code></pre>
<pre><code>## Warning: Removed 40 rows containing missing values (geom_point).</code></pre>
<p><img src="02-ggplot2_files/figure-html/unnamed-chunk-30-1.png" width="672" /></p>
<p>We have eliminated the <code>colour =</code> argument and added <code>facet_wrap( ~ name_of_facet_variable)</code>. Doing so creates a different scatterplot and smooth line for each level of <code>name_of_facet_variable</code>.</p>
<p>What can you see from this plot that was harder to see from the plot with colour?</p>
<p>Does the data seem to support the hypothesis that more exercise is associated with lower pulse rates in this sample of students?</p>
</div>
<div id="exercise-2-2" class="section level3" number="3.4.6">
<h3><span class="header-section-number">3.4.6</span> Exercises</h3>
<p>Exercises marked with an * indicate that the exercise has a solution at the end of the chapter at <a href="ggplot2.html#solutions-2">3.7</a>.</p>
<ol style="list-style-type: decimal">
<li><p>Fix the code chunk where we tried to specify the colour of all points to be purple to actually make all of the points “purple” by moving <code>colour = "purple"</code> outside the parentheses in <code>aes()</code> (but still inside <code>geom_point()</code>).</p></li>
<li><p>In the console (bottom-left) window, type <code>?geom_smooth</code> and scroll down to “Arguments.” Find <code>span</code>, read about it, and then, within the <code>geom_smooth()</code> argument of the line plot with steps vs. date, add a <code>span</code> argument to make the smooth line wigglier.</p></li>
<li><p>Explain why it doesn’t make sense to construct a line plot of <code>Exercise</code> vs. <code>GPA</code>.</p></li>
<li><p>* Make a scatterplot of <code>Hgt</code> on the y-axis and <code>Wgt</code> on the x-axis, colouring by <code>Sport</code>. Add a smooth fitted curve to your scatterplot. Then, move <code>colour = Sport</code> from an <code>aes()</code> in the <code>ggplot()</code> function to an <code>aes()</code> in the <code>geom_point()</code> function. What changes in the plot? Can you give an explanation as to why that change occurs?</p></li>
<li><p>* Faceting can be used for other types of plots too! Make a pair of faceted histograms for a quantitative variable of your choosing that are faceted by a categorical variable of your choosing.</p></li>
</ol>
<p><br></p>
</div>
</div>
<div id="boxplots-stacked-barplots-and-others" class="section level2" number="3.5">
<h2><span class="header-section-number">3.5</span> Boxplots, Stacked Barplots and Others</h2>
<p>There are a few other common geoms that will be useful throughout the semester. These only skim the surface: we’ll come back to plotting in a few weeks, after we’re able to do more with data wrangling and reshaping.</p>
<div id="graphing-a-quant.-variable-vs.-a-cat.-variable" class="section level3" number="3.5.1">
<h3><span class="header-section-number">3.5.1</span> Graphing a Quant. Variable vs. a Cat. Variable</h3>
<p>Another common plot used in Intro Stat courses is a boxplot. Side-by-side boxplots are particularly useful if you want to compare a quantitative response variable across two or more levels of a categorical variable. Let’s stick with the STAT 113 survey data to examine the relationship between <code>Exercise</code> and <code>Award</code> preference.</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="ggplot2.html#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> stat113_df, <span class="fu">aes</span>(<span class="at">x =</span> Award, <span class="at">y =</span> Exercise)) <span class="sc">+</span></span>
<span id="cb77-2"><a href="ggplot2.html#cb77-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>()</span></code></pre></div>
<pre><code>## Warning: Removed 7 rows containing non-finite values (stat_boxplot).</code></pre>
<p><img src="02-ggplot2_files/figure-html/unnamed-chunk-31-1.png" width="672" /></p>
<p>What can you conclude from the plot?</p>
<p><br></p>
<p>An alternative to side-by-side boxplots are violin plots:</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="ggplot2.html#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> stat113_df, <span class="fu">aes</span>(<span class="at">x =</span> Award, <span class="at">y =</span> Exercise)) <span class="sc">+</span></span>
<span id="cb79-2"><a href="ggplot2.html#cb79-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_violin</span>()</span></code></pre></div>
<pre><code>## Warning: Removed 7 rows containing non-finite values (stat_ydensity).</code></pre>
<p><img src="02-ggplot2_files/figure-html/unnamed-chunk-32-1.png" width="672" /></p>
<p>Read about Violin plots by typing <code>?geom_violin</code> into your console (bottom-left window). How are they different than boxplots?</p>
</div>
<div id="graphing-two-categorical-variables" class="section level3" number="3.5.2">
<h3><span class="header-section-number">3.5.2</span> Graphing Two Categorical Variables</h3>
<p>The only combination of two variables that we have yet to explore are two variables that are both categorical. Let’s look at the relationship between <code>Year</code> and <code>SocialMedia</code> first using a stacked bar plot.</p>
<p>To make the graph, we specify <code>position = "fill"</code> so that the bars are “filled” by <code>stepgoal</code>.</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="ggplot2.html#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> stat113_df, <span class="fu">aes</span>(<span class="at">x =</span> Year, <span class="at">fill =</span> SocialMedia)) <span class="sc">+</span></span>
<span id="cb81-2"><a href="ggplot2.html#cb81-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">position =</span> <span class="st">&quot;fill&quot;</span>) <span class="sc">+</span></span>
<span id="cb81-3"><a href="ggplot2.html#cb81-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Proportion&quot;</span>)</span></code></pre></div>
<p><img src="02-ggplot2_files/figure-html/unnamed-chunk-33-1.png" width="672" /></p>
<p>What patterns do you notice from the plot? Is there anything about the plot that could be improved?</p>
</div>
<div id="exercise-2-3" class="section level3" number="3.5.3">
<h3><span class="header-section-number">3.5.3</span> Exercises</h3>
<p>Exercises marked with an * indicate that the exercise has a solution at the end of the chapter at <a href="ggplot2.html#solutions-2">3.7</a>.</p>
<ol style="list-style-type: decimal">
<li><p>* Change the colour of the inside of the boxplots in the Exercise vs. Award graph to be <code>"blue"</code>. Do you think you’ll use <code>colour = "blue"</code> or <code>fill = "blue"</code>?</p></li>
<li><p>* Create a side-by-side boxplot that compares the <code>GPA</code>s of students who prefer different <code>Award</code>s. Then change the fill of the boxplot to be a colour of your choice. What do you notice in the plot?</p></li>
<li><p>* When making the previous plot, <code>R</code> gives us a warning message that it “Removed 70 rows containing non-finite values.” This is <code>R</code>’s robotic way of telling us that 70 <code>GPA</code> values are missing in the data set. Use what you know about how the data was collected (Fall and Spring semeseter of the 2018-2019 school-year) to guess why these are missing.</p></li>
<li><p>* Make a stacked bar plot for two variables of your choosing in the STAT 113 data set. Comment on something that you notice in the plot.</p></li>
</ol>
</div>
</div>
<div id="chapexercise-2" class="section level2" number="3.6">
<h2><span class="header-section-number">3.6</span> Chapter Exercises</h2>
<p>Exercises marked with an * indicate that the exercise has a solution at the end of the chapter at <a href="ggplot2.html#solutions-2">3.7</a>.</p>
<ol style="list-style-type: decimal">
<li><p>* The default of <code>geom_smooth()</code> is to use LOESS (locally estimated scatterplot smoothing). Read about LOESS here: <a href="https://19january2017snapshot.epa.gov/sites/production/files/2016-07/documents/loess-lowess.pdf" target="_blank">here</a>. Write one or two sentences explaining what LOESS does.</p></li>
<li><p>* Thus far, we have only faceted by a single variable. Use Google to figure out how to facet by two variables to make a plot that shows the relationship between GPA (y-axis) and Exercise (x-axis) with four facets: one for male students who play a sport, one for female students who play a sport, one for male students who do not play a sport, and one for female students who do not play a sport.</p></li>
<li><p>* In Intro-Stat, boxplots are typically introduced using the <code>*</code> symbol to identify outliers. Using a combination of the help <code>?geom_boxplot</code> and Googling “R point shapes,” figure out how to modify your side-by-side boxplots so that the outliers are shown using <code>*</code>, not the default dots.</p></li>
</ol>
<p>Then, using Google, figure out how to add the mean to each boxplot as a “darkgreen” diamond-shaped symbol with <code>stat_summary()</code>.</p>
<ol start="4" style="list-style-type: decimal">
<li>A common theme that we’ll see throughout the course is that it’s advantageous to know as much background information as possible about the data set we are analyzing. Data sets will be easier to analyze and pose questions about if you’re familiar with the subject matter.</li>
</ol>
<p>Give an example of something that you know about STAT 113 and the survey data set that helped you answer or pose a question that someone from another university (and therefore unfamiliar with our intro stat course) wouldn’t know.</p>
<p>Give an example of something that you don’t know about the fitness data set that the person who owns the fitness data would know. Why does that give an advantage to the person who is more familiar with the fitness data?</p>
</div>
<div id="solutions-2" class="section level2" number="3.7">
<h2><span class="header-section-number">3.7</span> Exercise Solutions</h2>
<div id="introduction-etc.-s" class="section level3" number="3.7.1">
<h3><span class="header-section-number">3.7.1</span> Introduction etc. S</h3>
</div>
<div id="basic-plot-structure-s" class="section level3" number="3.7.2">
<h3><span class="header-section-number">3.7.2</span> Basic Plot Structure S</h3>
</div>
<div id="graphing-a-single-variable-s" class="section level3" number="3.7.3">
<h3><span class="header-section-number">3.7.3</span> Graphing a Single Variable S</h3>
<ol start="4" style="list-style-type: decimal">
<li>* Create a histogram of the <code>Exercise</code> variable, change the x-axis label to be “Exercise (hours per typical week),” change the number of <code>bins</code> to <code>14</code>, and change the <code>fill</code> of the bins to be “lightpink2” and the outline <code>colour</code> of the bins to be black.</li>
</ol>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="ggplot2.html#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> stat113_df, <span class="fu">aes</span>(<span class="at">x =</span> Exercise)) <span class="sc">+</span></span>
<span id="cb82-2"><a href="ggplot2.html#cb82-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">bins =</span> <span class="dv">14</span>, <span class="at">fill =</span> <span class="st">&quot;lightpink2&quot;</span>, <span class="at">colour =</span> <span class="st">&quot;black&quot;</span>) <span class="sc">+</span></span>
<span id="cb82-3"><a href="ggplot2.html#cb82-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Exercise (hours per typical week)&quot;</span>)</span></code></pre></div>
<pre><code>## Warning: Removed 7 rows containing non-finite values (stat_bin).</code></pre>
<p><img src="02-ggplot2_files/figure-html/unnamed-chunk-34-1.png" width="672" /></p>
<ol start="5" style="list-style-type: decimal">
<li>* We can change the y-axis of a histogram to be “density” instead of a raw count. This means that each bar shows a <strong>proportion</strong> of cases instead of a raw count. Google something like “geom_histogram with density” to figure out how to create a y <code>aes()</code> to show density instead of count.</li>
</ol>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="ggplot2.html#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> stat113_df, <span class="fu">aes</span>(<span class="at">x =</span> Exercise, <span class="at">y =</span> ..density..)) <span class="sc">+</span></span>
<span id="cb84-2"><a href="ggplot2.html#cb84-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">bins =</span> <span class="dv">14</span>, <span class="at">fill =</span> <span class="st">&quot;lightpink2&quot;</span>, <span class="at">colour =</span> <span class="st">&quot;black&quot;</span>) <span class="sc">+</span></span>
<span id="cb84-3"><a href="ggplot2.html#cb84-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Exercise (hours per typical week)&quot;</span>)</span></code></pre></div>
<pre><code>## Warning: Removed 7 rows containing non-finite values (stat_bin).</code></pre>
<p><img src="02-ggplot2_files/figure-html/unnamed-chunk-35-1.png" width="672" /></p>
</div>
<div id="graphing-two-quant.-etc.-s" class="section level3" number="3.7.4">
<h3><span class="header-section-number">3.7.4</span> Graphing Two Quant. etc. S</h3>
<ol start="4" style="list-style-type: decimal">
<li>* Make a scatterplot of <code>Hgt</code> on the y-axis and <code>Wgt</code> on the x-axis, colouring by <code>Sport</code>. Add a smooth fitted curve to your scatterplot. Then, move <code>colour = Sport</code> from an <code>aes()</code> in the <code>ggplot()</code> function to an <code>aes()</code> in the <code>geom_point()</code> function. What changes in the plot? Can you give an explanation as to why that change occurs?</li>
</ol>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="ggplot2.html#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> stat113_df, <span class="fu">aes</span>(<span class="at">x =</span> Wgt, <span class="at">y =</span> Hgt, <span class="at">colour =</span> Sport)) <span class="sc">+</span></span>
<span id="cb86-2"><a href="ggplot2.html#cb86-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb86-3"><a href="ggplot2.html#cb86-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>()</span></code></pre></div>
<pre><code>## `geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;</code></pre>
<pre><code>## Warning: Removed 16 rows containing non-finite values (stat_smooth).</code></pre>
<pre><code>## Warning in simpleLoess(y, x, w, span, degree = degree, parametric =
## parametric, : span too small. fewer data values than degrees of freedom.</code></pre>
<pre><code>## Warning in simpleLoess(y, x, w, span, degree = degree, parametric =
## parametric, : pseudoinverse used at 114.65</code></pre>
<pre><code>## Warning in simpleLoess(y, x, w, span, degree = degree, parametric =
## parametric, : neighborhood radius 25.35</code></pre>
<pre><code>## Warning in simpleLoess(y, x, w, span, degree = degree, parametric =
## parametric, : reciprocal condition number 0</code></pre>
<pre><code>## Warning in simpleLoess(y, x, w, span, degree = degree, parametric =
## parametric, : There are other near singularities as well. 2056.6</code></pre>
<pre><code>## Warning in simpleLoess(y, x, w, span, degree = degree, parametric =
## parametric, : Chernobyl! trL&gt;n 5

## Warning in simpleLoess(y, x, w, span, degree = degree, parametric =
## parametric, : Chernobyl! trL&gt;n 5</code></pre>
<pre><code>## Warning in sqrt(sum.squares/one.delta): NaNs produced</code></pre>
<pre><code>## Warning in predLoess(object$y, object$x, newx = if
## (is.null(newdata)) object$x else if (is.data.frame(newdata))
## as.matrix(model.frame(delete.response(terms(object)), : span too small. fewer
## data values than degrees of freedom.</code></pre>
<pre><code>## Warning in predLoess(object$y, object$x, newx = if
## (is.null(newdata)) object$x else if (is.data.frame(newdata))
## as.matrix(model.frame(delete.response(terms(object)), : pseudoinverse used at
## 114.65</code></pre>
<pre><code>## Warning in predLoess(object$y, object$x, newx = if
## (is.null(newdata)) object$x else if (is.data.frame(newdata))
## as.matrix(model.frame(delete.response(terms(object)), : neighborhood radius
## 25.35</code></pre>
<pre><code>## Warning in predLoess(object$y, object$x, newx = if
## (is.null(newdata)) object$x else if (is.data.frame(newdata))
## as.matrix(model.frame(delete.response(terms(object)), : reciprocal condition
## number 0</code></pre>
<pre><code>## Warning in predLoess(object$y, object$x, newx = if
## (is.null(newdata)) object$x else if (is.data.frame(newdata))
## as.matrix(model.frame(delete.response(terms(object)), : There are other near
## singularities as well. 2056.6</code></pre>
<pre><code>## Warning in stats::qt(level/2 + 0.5, pred$df): NaNs produced</code></pre>
<pre><code>## Warning: Removed 16 rows containing missing values (geom_point).</code></pre>
<pre><code>## Warning in max(ids, na.rm = TRUE): no non-missing arguments to max; returning -
## Inf</code></pre>
<p><img src="02-ggplot2_files/figure-html/unnamed-chunk-36-1.png" width="672" /></p>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="ggplot2.html#cb104-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> stat113_df, <span class="fu">aes</span>(<span class="at">x =</span> Wgt, <span class="at">y =</span> Hgt)) <span class="sc">+</span></span>
<span id="cb104-2"><a href="ggplot2.html#cb104-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">colour =</span> Sport)) <span class="sc">+</span></span>
<span id="cb104-3"><a href="ggplot2.html#cb104-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>()</span></code></pre></div>
<pre><code>## `geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;</code></pre>
<pre><code>## Warning: Removed 16 rows containing non-finite values (stat_smooth).</code></pre>
<pre><code>## Warning: Removed 16 rows containing missing values (geom_point).</code></pre>
<p><img src="02-ggplot2_files/figure-html/unnamed-chunk-36-2.png" width="672" /></p>
<p>The points are now coloured by <code>Sport</code> but there is only one smooth fitted line. This makes sense because <code>geom_point()</code> now has the two global aesthetics x and y, as well as the colour aesthetic. <code>geom_smooth()</code> no longer has the colour aesthetic but still inherits the two global aesthetics, x and y.</p>
<ol start="5" style="list-style-type: decimal">
<li>* Faceting can be used for other types of plots too! Make a pair of faceted histograms for a quantitative variable of your choosing that are faceted by a categorical variable of your choosing.</li>
</ol>
<p>Answers will vary:</p>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb108-1"><a href="ggplot2.html#cb108-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> stat113_df, <span class="fu">aes</span>(<span class="at">x =</span> GPA)) <span class="sc">+</span> </span>
<span id="cb108-2"><a href="ggplot2.html#cb108-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">bins =</span> <span class="dv">15</span>) <span class="sc">+</span></span>
<span id="cb108-3"><a href="ggplot2.html#cb108-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>( <span class="sc">~</span> Sport)</span></code></pre></div>
<pre><code>## Warning: Removed 70 rows containing non-finite values (stat_bin).</code></pre>
<p><img src="02-ggplot2_files/figure-html/unnamed-chunk-37-1.png" width="672" /></p>
</div>
<div id="boxplots-stacked-etc.-s" class="section level3" number="3.7.5">
<h3><span class="header-section-number">3.7.5</span> Boxplots, Stacked, etc. S</h3>
<ol style="list-style-type: decimal">
<li>* Change the colour of the inside of the boxplots in the Exercise vs. Award graph to be <code>"blue"</code>. Do you think you’ll use <code>colour = "blue"</code> or <code>fill = "blue"</code>?</li>
</ol>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb110-1"><a href="ggplot2.html#cb110-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> stat113_df, <span class="fu">aes</span>(<span class="at">x =</span> Award, <span class="at">y =</span> Exercise)) <span class="sc">+</span></span>
<span id="cb110-2"><a href="ggplot2.html#cb110-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">fill =</span> <span class="st">&quot;blue&quot;</span>)</span></code></pre></div>
<pre><code>## Warning: Removed 7 rows containing non-finite values (stat_boxplot).</code></pre>
<p><img src="02-ggplot2_files/figure-html/unnamed-chunk-38-1.png" width="672" /></p>
<p><code>fill</code> because it’s the inside of the boxplots that we want to modify. <code>colour</code> will modify the outline colour.</p>
<ol start="2" style="list-style-type: decimal">
<li>* Create a side-by-side boxplot that compares the <code>GPA</code>s of students who prefer different <code>Award</code>s. Then change the fill of the boxplot to be a colour of your choice. What do you notice in the plot?</li>
</ol>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb112-1"><a href="ggplot2.html#cb112-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> stat113_df, <span class="fu">aes</span>(<span class="at">x =</span> Award, <span class="at">y =</span> GPA)) <span class="sc">+</span></span>
<span id="cb112-2"><a href="ggplot2.html#cb112-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">fill =</span> <span class="st">&quot;lightpink1&quot;</span>)</span></code></pre></div>
<pre><code>## Warning: Removed 70 rows containing non-finite values (stat_boxplot).</code></pre>
<p><img src="02-ggplot2_files/figure-html/unnamed-chunk-39-1.png" width="672" /></p>
<p>There are a few outlier students, but the three groups overall seem to have similar GPAs.</p>
<ol start="3" style="list-style-type: decimal">
<li>* When making the previous plot, <code>R</code> gives us a warning message that it “Removed 70 rows containing non-finite values.” This is <code>R</code>’s robotic way of telling us that 70 <code>GPA</code> values are missing in the data set. Use what you know about how the data was collected (Fall and Spring semeseter of the 2018-2019 school-year) to guess why these are missing.</li>
</ol>
<p>STAT 113 has first-year students: first-years taking the course in the fall would not have a GPA to report. Additionally, another reason might be that a student chose not to report his or her GPA.</p>
<ol start="4" style="list-style-type: decimal">
<li>* Make a stacked bar plot for two variables of your choosing in the STAT 113 data set. Comment on something that you notice in the plot.</li>
</ol>
<p>Answers will vary.</p>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb114-1"><a href="ggplot2.html#cb114-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> stat113_df, <span class="fu">aes</span>(<span class="at">x =</span> Sport, <span class="at">fill =</span> Award)) <span class="sc">+</span></span>
<span id="cb114-2"><a href="ggplot2.html#cb114-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">position =</span> <span class="st">&quot;fill&quot;</span>)</span></code></pre></div>
<p><img src="02-ggplot2_files/figure-html/unnamed-chunk-40-1.png" width="672" /></p>
<p>As we might expect, it does seem like a higher proportion of students who play a sport would prefer to win an olympic medal, compared with students who do not play a sport.</p>
</div>
<div id="chapter-exercises-2-s" class="section level3" number="3.7.6">
<h3><span class="header-section-number">3.7.6</span> Chapter Exercises 2 S</h3>
<ol style="list-style-type: decimal">
<li>* The default of <code>geom_smooth()</code> is to use LOESS (locally estimated scatterplot smoothing). Read about LOESS here: <a href="https://19january2017snapshot.epa.gov/sites/production/files/2016-07/documents/loess-lowess.pdf" target="_blank">here</a>. Write one or two sentences explaining what LOESS does.</li>
</ol>
<p>Loess uses a bunch of local regressions to predict the y-variable at each point, giving more weight to observations near the point of interest on the x-axis. Once this is done for every point, the predictions are connected with a smooth curve.</p>
<ol start="2" style="list-style-type: decimal">
<li>* Thus far, we have only faceted by a single variable. Use Google to figure out how to facet by two variables to make a plot that shows the relationship between GPA (y-axis) and Exercise (x-axis) with four facets: one for male students who play a sport, one for female students who play a sport, one for male students who do not play a sport, and one for female students who do not play a sport.</li>
</ol>
<div class="sourceCode" id="cb115"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb115-1"><a href="ggplot2.html#cb115-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> stat113_df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(Sport) <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(Sex)),</span>
<span id="cb115-2"><a href="ggplot2.html#cb115-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">aes</span>(<span class="at">x =</span> Exercise, <span class="at">y =</span> GPA)) <span class="sc">+</span> </span>
<span id="cb115-3"><a href="ggplot2.html#cb115-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> <span class="fu">geom_smooth</span>() <span class="sc">+</span></span>
<span id="cb115-4"><a href="ggplot2.html#cb115-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(Sex <span class="sc">~</span> Sport)</span></code></pre></div>
<pre><code>## `geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;</code></pre>
<pre><code>## Warning: Removed 71 rows containing non-finite values (stat_smooth).</code></pre>
<pre><code>## Warning: Removed 71 rows containing missing values (geom_point).</code></pre>
<p><img src="02-ggplot2_files/figure-html/unnamed-chunk-41-1.png" width="672" /></p>
<ol start="3" style="list-style-type: decimal">
<li>* In Intro-Stat, boxplots are typically introduced using the <code>*</code> symbol to identify outliers. Using a combination of the help <code>?geom_boxplot</code> and Googling “R point shapes,” figure out how to modify your side-by-side boxplots so that the outliers are shown using <code>*</code>, not the default dots.</li>
</ol>
<p>Then, using Google, figure out how to add the mean to each boxplot as a “darkgreen” diamond-shaped symbol with <code>stat_summary()</code>.</p>
<div class="sourceCode" id="cb119"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb119-1"><a href="ggplot2.html#cb119-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> stat113_df, <span class="fu">aes</span>(<span class="at">x =</span> Sex, <span class="at">y =</span> GPA)) <span class="sc">+</span></span>
<span id="cb119-2"><a href="ggplot2.html#cb119-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">fill =</span> <span class="st">&quot;lightpink1&quot;</span>, <span class="at">outlier.shape =</span> <span class="dv">8</span>) <span class="sc">+</span></span>
<span id="cb119-3"><a href="ggplot2.html#cb119-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>(<span class="at">fun =</span> mean, <span class="at">shape =</span> <span class="dv">18</span>, <span class="at">colour =</span> <span class="st">&quot;darkgreen&quot;</span>)</span></code></pre></div>
<pre><code>## Warning: Removed 70 rows containing non-finite values (stat_boxplot).</code></pre>
<pre><code>## Warning: Removed 70 rows containing non-finite values (stat_summary).</code></pre>
<pre><code>## Warning: Removed 3 rows containing missing values (geom_segment).</code></pre>
<p><img src="02-ggplot2_files/figure-html/unnamed-chunk-42-1.png" width="672" /></p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="intro.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="dplyr.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": false,
"whatsapp": false
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/02-ggplot2.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub"],
"toc": {
"collapse": "section",
"scroll_highlight": true
},
"info": true
});
});
</script>

</body>

</html>
