<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 12 Dates with lubridate | STAT 234: Data Science</title>
  <meta name="description" content="This book contains all examples for SLU’s Introduction to Data Science course." />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 12 Dates with lubridate | STAT 234: Data Science" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This book contains all examples for SLU’s Introduction to Data Science course." />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 12 Dates with lubridate | STAT 234: Data Science" />
  
  <meta name="twitter:description" content="This book contains all examples for SLU’s Introduction to Data Science course." />
  

<meta name="author" content="Matt Higham" />


<meta name="date" content="2021-06-24" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="merging-with-dplyr.html"/>
<link rel="next" href="strings-with-stringr.html"/>
<script src="libs/header-attrs-2.6/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">STAT 234: Data Science</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Syllabus and Course Information</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#general-information"><i class="fa fa-check"></i><b>1.1</b> General Information</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#course-information"><i class="fa fa-check"></i><b>1.2</b> Course Information</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#general-course-outcomes"><i class="fa fa-check"></i><b>1.3</b> General Course Outcomes</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="index.html"><a href="index.html#use-of-r-and-rstudio"><i class="fa fa-check"></i><b>1.3.1</b> Use of <code>R</code> and <code>RStudio</code></a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#how-you-will-be-assessed"><i class="fa fa-check"></i><b>1.4</b> How You Will Be Assessed</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="index.html"><a href="index.html#breakdown"><i class="fa fa-check"></i><b>1.4.1</b> Breakdown</a></li>
<li class="chapter" data-level="1.4.2" data-path="index.html"><a href="index.html#grading-scale"><i class="fa fa-check"></i><b>1.4.2</b> Grading Scale</a></li>
<li class="chapter" data-level="1.4.3" data-path="index.html"><a href="index.html#rules-for-collaboration"><i class="fa fa-check"></i><b>1.4.3</b> Rules for Collaboration</a></li>
<li class="chapter" data-level="1.4.4" data-path="index.html"><a href="index.html#diversity-statement"><i class="fa fa-check"></i><b>1.4.4</b> Diversity Statement</a></li>
<li class="chapter" data-level="1.4.5" data-path="index.html"><a href="index.html#accessibility-statement"><i class="fa fa-check"></i><b>1.4.5</b> Accessibility Statement</a></li>
<li class="chapter" data-level="1.4.6" data-path="index.html"><a href="index.html#academic-dishonesty"><i class="fa fa-check"></i><b>1.4.6</b> Academic Dishonesty</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="index.html"><a href="index.html#tentative-schedule"><i class="fa fa-check"></i><b>1.5</b> Tentative Schedule</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>2</b> Getting Started with <code>R</code> and <code>R Studio</code></a>
<ul>
<li class="chapter" data-level="2.1" data-path="intro.html"><a href="intro.html#intro-to-r-and-r-studio"><i class="fa fa-check"></i><b>2.1</b> Intro to <code>R</code> and <code>R Studio</code></a></li>
<li class="chapter" data-level="2.2" data-path="intro.html"><a href="intro.html#what-are-r-r-studio-and-r-markdown"><i class="fa fa-check"></i><b>2.2</b> What are <code>R</code>, <code>R Studio</code>, and <code>R Markdown</code>?</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="intro.html"><a href="intro.html#r-packages-and-the-tidyverse"><i class="fa fa-check"></i><b>2.2.1</b> <code>R</code> Packages and the <code>tidyverse</code></a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="intro.html"><a href="intro.html#putting-code-in-a-.rmd-file"><i class="fa fa-check"></i><b>2.3</b> Putting Code in a <code>.Rmd</code> File</a></li>
<li class="chapter" data-level="2.4" data-path="intro.html"><a href="intro.html#alcohol-data-example"><i class="fa fa-check"></i><b>2.4</b> Alcohol Data Example</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="intro.html"><a href="intro.html#exercise-1-1"><i class="fa fa-check"></i><b>2.4.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="intro.html"><a href="intro.html#athlete-data-example"><i class="fa fa-check"></i><b>2.5</b> Athlete Data Example</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="intro.html"><a href="intro.html#exercise-1-2"><i class="fa fa-check"></i><b>2.5.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="intro.html"><a href="intro.html#finishing-up-common-errors-in-r"><i class="fa fa-check"></i><b>2.6</b> Finishing Up: Common Errors in <code>R</code></a></li>
<li class="chapter" data-level="2.7" data-path="intro.html"><a href="intro.html#chapexercise-1"><i class="fa fa-check"></i><b>2.7</b> Chapter Exercises</a></li>
<li class="chapter" data-level="2.8" data-path="intro.html"><a href="intro.html#solutions-1"><i class="fa fa-check"></i><b>2.8</b> Exercise Solutions</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="ggplot2.html"><a href="ggplot2.html"><i class="fa fa-check"></i><b>3</b> Plotting with <code>ggplot2</code></a>
<ul>
<li class="chapter" data-level="3.1" data-path="ggplot2.html"><a href="ggplot2.html#introduction-and-basic-terminology"><i class="fa fa-check"></i><b>3.1</b> Introduction and Basic Terminology</a></li>
<li class="chapter" data-level="3.2" data-path="ggplot2.html"><a href="ggplot2.html#basic-plot-structure"><i class="fa fa-check"></i><b>3.2</b> Basic Plot Structure</a></li>
<li class="chapter" data-level="3.3" data-path="ggplot2.html"><a href="ggplot2.html#graphing-a-single-variable"><i class="fa fa-check"></i><b>3.3</b> Graphing a Single Variable</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="ggplot2.html"><a href="ggplot2.html#histograms-and-frequency-plots-for-a-quantitative-variable"><i class="fa fa-check"></i><b>3.3.1</b> Histograms and Frequency Plots for a Quantitative Variable</a></li>
<li class="chapter" data-level="3.3.2" data-path="ggplot2.html"><a href="ggplot2.html#r-code-style"><i class="fa fa-check"></i><b>3.3.2</b> <code>R</code> Code Style</a></li>
<li class="chapter" data-level="3.3.3" data-path="ggplot2.html"><a href="ggplot2.html#bar-plots-for-a-categorical-variable"><i class="fa fa-check"></i><b>3.3.3</b> Bar Plots for a Categorical Variable</a></li>
<li class="chapter" data-level="3.3.4" data-path="ggplot2.html"><a href="ggplot2.html#exercise-2-1"><i class="fa fa-check"></i><b>3.3.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="ggplot2.html"><a href="ggplot2.html#graphing-two-quantitative-variables-faceting-and-aes-options"><i class="fa fa-check"></i><b>3.4</b> Graphing Two Quantitative Variables, Faceting, and <code>aes()</code> Options</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="ggplot2.html"><a href="ggplot2.html#scatterplots"><i class="fa fa-check"></i><b>3.4.1</b> Scatterplots</a></li>
<li class="chapter" data-level="3.4.2" data-path="ggplot2.html"><a href="ggplot2.html#aesthetics-in-aes"><i class="fa fa-check"></i><b>3.4.2</b> Aesthetics in <code>aes()</code></a></li>
<li class="chapter" data-level="3.4.3" data-path="ggplot2.html"><a href="ggplot2.html#using-more-than-one-geom"><i class="fa fa-check"></i><b>3.4.3</b> Using More Than One <code>geom()</code></a></li>
<li class="chapter" data-level="3.4.4" data-path="ggplot2.html"><a href="ggplot2.html#line-plots-with-geom_line"><i class="fa fa-check"></i><b>3.4.4</b> Line Plots with <code>geom_line()</code></a></li>
<li class="chapter" data-level="3.4.5" data-path="ggplot2.html"><a href="ggplot2.html#faceting"><i class="fa fa-check"></i><b>3.4.5</b> Faceting</a></li>
<li class="chapter" data-level="3.4.6" data-path="ggplot2.html"><a href="ggplot2.html#exercise-2-2"><i class="fa fa-check"></i><b>3.4.6</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="ggplot2.html"><a href="ggplot2.html#boxplots-stacked-barplots-and-others"><i class="fa fa-check"></i><b>3.5</b> Boxplots, Stacked Barplots and Others</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="ggplot2.html"><a href="ggplot2.html#graphing-a-quant.-variable-vs.-a-cat.-variable"><i class="fa fa-check"></i><b>3.5.1</b> Graphing a Quant. Variable vs. a Cat. Variable</a></li>
<li class="chapter" data-level="3.5.2" data-path="ggplot2.html"><a href="ggplot2.html#graphing-two-categorical-variables"><i class="fa fa-check"></i><b>3.5.2</b> Graphing Two Categorical Variables</a></li>
<li class="chapter" data-level="3.5.3" data-path="ggplot2.html"><a href="ggplot2.html#exercise-2-3"><i class="fa fa-check"></i><b>3.5.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="ggplot2.html"><a href="ggplot2.html#chapexercise-2"><i class="fa fa-check"></i><b>3.6</b> Chapter Exercises</a></li>
<li class="chapter" data-level="3.7" data-path="ggplot2.html"><a href="ggplot2.html#solutions-2"><i class="fa fa-check"></i><b>3.7</b> Exercise Solutions</a>
<ul>
<li class="chapter" data-level="3.7.1" data-path="ggplot2.html"><a href="ggplot2.html#introduction-etc.-s"><i class="fa fa-check"></i><b>3.7.1</b> Introduction etc. S</a></li>
<li class="chapter" data-level="3.7.2" data-path="ggplot2.html"><a href="ggplot2.html#basic-plot-structure-s"><i class="fa fa-check"></i><b>3.7.2</b> Basic Plot Structure S</a></li>
<li class="chapter" data-level="3.7.3" data-path="ggplot2.html"><a href="ggplot2.html#graphing-a-single-variable-s"><i class="fa fa-check"></i><b>3.7.3</b> Graphing a Single Variable S</a></li>
<li class="chapter" data-level="3.7.4" data-path="ggplot2.html"><a href="ggplot2.html#graphing-two-quant.-etc.-s"><i class="fa fa-check"></i><b>3.7.4</b> Graphing Two Quant. etc. S</a></li>
<li class="chapter" data-level="3.7.5" data-path="ggplot2.html"><a href="ggplot2.html#boxplots-stacked-etc.-s"><i class="fa fa-check"></i><b>3.7.5</b> Boxplots, Stacked, etc. S</a></li>
<li class="chapter" data-level="3.7.6" data-path="ggplot2.html"><a href="ggplot2.html#chapexercise-2-S"><i class="fa fa-check"></i><b>3.7.6</b> Chapter Exercises S</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="dplyr.html"><a href="dplyr.html"><i class="fa fa-check"></i><b>4</b> Wrangling with <code>dplyr</code></a>
<ul>
<li class="chapter" data-level="4.1" data-path="dplyr.html"><a href="dplyr.html#mutate-create-variables"><i class="fa fa-check"></i><b>4.1</b> <code>mutate()</code>: Create Variables</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="dplyr.html"><a href="dplyr.html#a-little-more-on-piping"><i class="fa fa-check"></i><b>4.1.1</b> A Little More on Piping</a></li>
<li class="chapter" data-level="4.1.2" data-path="dplyr.html"><a href="dplyr.html#if_else-and-case_when"><i class="fa fa-check"></i><b>4.1.2</b> <code>if_else()</code> and <code>case_when()</code></a></li>
<li class="chapter" data-level="4.1.3" data-path="dplyr.html"><a href="dplyr.html#exercise-3-1"><i class="fa fa-check"></i><b>4.1.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="dplyr.html"><a href="dplyr.html#arrange-select-and-slice-and-filter"><i class="fa fa-check"></i><b>4.2</b> <code>arrange()</code>, <code>select()</code>, and <code>slice()</code>, and <code>filter()</code></a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="dplyr.html"><a href="dplyr.html#arrange-ordering-rows"><i class="fa fa-check"></i><b>4.2.1</b> <code>arrange()</code>: Ordering Rows</a></li>
<li class="chapter" data-level="4.2.2" data-path="dplyr.html"><a href="dplyr.html#select-choose-columns"><i class="fa fa-check"></i><b>4.2.2</b> <code>select()</code> Choose Columns</a></li>
<li class="chapter" data-level="4.2.3" data-path="dplyr.html"><a href="dplyr.html#slice-and-filter-choose-rows"><i class="fa fa-check"></i><b>4.2.3</b> <code>slice()</code> and <code>filter()</code>: Choose Rows</a></li>
<li class="chapter" data-level="4.2.4" data-path="dplyr.html"><a href="dplyr.html#exercise-3-2"><i class="fa fa-check"></i><b>4.2.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="dplyr.html"><a href="dplyr.html#summarise-and-group_by-create-summaries"><i class="fa fa-check"></i><b>4.3</b> <code>summarise()</code> and <code>group_by()</code>: Create Summaries</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="dplyr.html"><a href="dplyr.html#group_by-groups"><i class="fa fa-check"></i><b>4.3.1</b> <code>group_by()</code>: Groups</a></li>
<li class="chapter" data-level="4.3.2" data-path="dplyr.html"><a href="dplyr.html#exercise-3-3"><i class="fa fa-check"></i><b>4.3.2</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="dplyr.html"><a href="dplyr.html#missing-values"><i class="fa fa-check"></i><b>4.4</b> Missing Values</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="dplyr.html"><a href="dplyr.html#exercise-3-4"><i class="fa fa-check"></i><b>4.4.1</b> Exercises</a></li>
<li class="chapter" data-level="4.4.2" data-path="dplyr.html"><a href="dplyr.html#removing-missing-values"><i class="fa fa-check"></i><b>4.4.2</b> Removing Missing Values</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="dplyr.html"><a href="dplyr.html#chapexercise-3"><i class="fa fa-check"></i><b>4.5</b> Chapter Exercises</a></li>
<li class="chapter" data-level="4.6" data-path="dplyr.html"><a href="dplyr.html#solutions-3"><i class="fa fa-check"></i><b>4.6</b> Exercise Solutions</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="dplyr.html"><a href="dplyr.html#mutate-s"><i class="fa fa-check"></i><b>4.6.1</b> <code>mutate()</code> S</a></li>
<li class="chapter" data-level="4.6.2" data-path="dplyr.html"><a href="dplyr.html#arrange-select-.-s"><i class="fa fa-check"></i><b>4.6.2</b> <code>arrange()</code>, <code>select()</code>, …. S</a></li>
<li class="chapter" data-level="4.6.3" data-path="dplyr.html"><a href="dplyr.html#summarise-and-group_by-s"><i class="fa fa-check"></i><b>4.6.3</b> <code>summarise()</code> and <code>group_by()</code> S</a></li>
<li class="chapter" data-level="4.6.4" data-path="dplyr.html"><a href="dplyr.html#missing-values-s"><i class="fa fa-check"></i><b>4.6.4</b> Missing Values S</a></li>
<li class="chapter" data-level="4.6.5" data-path="dplyr.html"><a href="dplyr.html#chapexercise-3-S"><i class="fa fa-check"></i><b>4.6.5</b> Chapter Exercises S</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="tidying-with-tidyr.html"><a href="tidying-with-tidyr.html"><i class="fa fa-check"></i><b>5</b> Tidying with <code>tidyr</code></a>
<ul>
<li class="chapter" data-level="5.1" data-path="tidying-with-tidyr.html"><a href="tidying-with-tidyr.html#what-is-tidy-data"><i class="fa fa-check"></i><b>5.1</b> What is Tidy Data?</a></li>
<li class="chapter" data-level="5.2" data-path="tidying-with-tidyr.html"><a href="tidying-with-tidyr.html#separate-and-unite-columns"><i class="fa fa-check"></i><b>5.2</b> <code>separate()</code> and <code>unite()</code> Columns</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="tidying-with-tidyr.html"><a href="tidying-with-tidyr.html#separate-a-column"><i class="fa fa-check"></i><b>5.2.1</b> <code>separate()</code> a Column</a></li>
<li class="chapter" data-level="5.2.2" data-path="tidying-with-tidyr.html"><a href="tidying-with-tidyr.html#unite-columns"><i class="fa fa-check"></i><b>5.2.2</b> <code>unite()</code> Columns</a></li>
<li class="chapter" data-level="5.2.3" data-path="tidying-with-tidyr.html"><a href="tidying-with-tidyr.html#column-names-and-rename"><i class="fa fa-check"></i><b>5.2.3</b> Column Names and <code>rename()</code></a></li>
<li class="chapter" data-level="5.2.4" data-path="tidying-with-tidyr.html"><a href="tidying-with-tidyr.html#exercise-4-1"><i class="fa fa-check"></i><b>5.2.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="tidying-with-tidyr.html"><a href="tidying-with-tidyr.html#reshaping-with-pivot_"><i class="fa fa-check"></i><b>5.3</b> Reshaping with <code>pivot_()</code></a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="tidying-with-tidyr.html"><a href="tidying-with-tidyr.html#pivot_longer-to-gather-columns"><i class="fa fa-check"></i><b>5.3.1</b> <code>pivot_longer()</code> to Gather Columns</a></li>
<li class="chapter" data-level="5.3.2" data-path="tidying-with-tidyr.html"><a href="tidying-with-tidyr.html#pivot_wider-to-spread-to-multiple-columns"><i class="fa fa-check"></i><b>5.3.2</b> <code>pivot_wider()</code> to Spread to Multiple Columns</a></li>
<li class="chapter" data-level="5.3.3" data-path="tidying-with-tidyr.html"><a href="tidying-with-tidyr.html#exercise-4-2"><i class="fa fa-check"></i><b>5.3.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="tidying-with-tidyr.html"><a href="tidying-with-tidyr.html#skimming-data-with-skimr"><i class="fa fa-check"></i><b>5.4</b> Skimming Data with <code>skimr</code></a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="tidying-with-tidyr.html"><a href="tidying-with-tidyr.html#exercises-exercise-4-3"><i class="fa fa-check"></i><b>5.4.1</b> Exercises {exercise-4-3}</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="tidying-with-tidyr.html"><a href="tidying-with-tidyr.html#chapexercise-4"><i class="fa fa-check"></i><b>5.5</b> Chapter Exercises</a></li>
<li class="chapter" data-level="5.6" data-path="tidying-with-tidyr.html"><a href="tidying-with-tidyr.html#solutions-4"><i class="fa fa-check"></i><b>5.6</b> Exercise Solutions</a>
<ul>
<li class="chapter" data-level="5.6.1" data-path="tidying-with-tidyr.html"><a href="tidying-with-tidyr.html#what-is-tidy-data-s"><i class="fa fa-check"></i><b>5.6.1</b> What is Tidy Data? S</a></li>
<li class="chapter" data-level="5.6.2" data-path="tidying-with-tidyr.html"><a href="tidying-with-tidyr.html#separate-and-unite-s"><i class="fa fa-check"></i><b>5.6.2</b> <code>separate()</code> and <code>unite()</code> S</a></li>
<li class="chapter" data-level="5.6.3" data-path="tidying-with-tidyr.html"><a href="tidying-with-tidyr.html#pivot_-s"><i class="fa fa-check"></i><b>5.6.3</b> <code>pivot_()</code> S</a></li>
<li class="chapter" data-level="5.6.4" data-path="tidying-with-tidyr.html"><a href="tidying-with-tidyr.html#skimming-data-with-skimr-s"><i class="fa fa-check"></i><b>5.6.4</b> Skimming Data with <code>skimr()</code> S</a></li>
<li class="chapter" data-level="5.6.5" data-path="tidying-with-tidyr.html"><a href="tidying-with-tidyr.html#chapexercise-4-S"><i class="fa fa-check"></i><b>5.6.5</b> Chapter Exercises S</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="communication-with-rmarkdown.html"><a href="communication-with-rmarkdown.html"><i class="fa fa-check"></i><b>6</b> Communication with <code>RMarkdown</code></a>
<ul>
<li class="chapter" data-level="6.1" data-path="communication-with-rmarkdown.html"><a href="communication-with-rmarkdown.html#reproducbility"><i class="fa fa-check"></i><b>6.1</b> Reproducbility</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="communication-with-rmarkdown.html"><a href="communication-with-rmarkdown.html#r-scripts-vs.-r-markdown"><i class="fa fa-check"></i><b>6.1.1</b> <code>R</code> Scripts vs. <code>R Markdown</code></a></li>
<li class="chapter" data-level="6.1.2" data-path="communication-with-rmarkdown.html"><a href="communication-with-rmarkdown.html#spell-checking"><i class="fa fa-check"></i><b>6.1.2</b> Spell-Checking</a></li>
<li class="chapter" data-level="6.1.3" data-path="communication-with-rmarkdown.html"><a href="communication-with-rmarkdown.html#exercise-5-1"><i class="fa fa-check"></i><b>6.1.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="communication-with-rmarkdown.html"><a href="communication-with-rmarkdown.html#r-markdown-files"><i class="fa fa-check"></i><b>6.2</b> <code>R Markdown</code> Files</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="communication-with-rmarkdown.html"><a href="communication-with-rmarkdown.html#code-chunk-options"><i class="fa fa-check"></i><b>6.2.1</b> Code Chunk Options</a></li>
<li class="chapter" data-level="6.2.2" data-path="communication-with-rmarkdown.html"><a href="communication-with-rmarkdown.html#figures-and-tables"><i class="fa fa-check"></i><b>6.2.2</b> Figures and Tables</a></li>
<li class="chapter" data-level="6.2.3" data-path="communication-with-rmarkdown.html"><a href="communication-with-rmarkdown.html#non-code-options"><i class="fa fa-check"></i><b>6.2.3</b> Non-Code Options</a></li>
<li class="chapter" data-level="6.2.4" data-path="communication-with-rmarkdown.html"><a href="communication-with-rmarkdown.html#yaml"><i class="fa fa-check"></i><b>6.2.4</b> YAML</a></li>
<li class="chapter" data-level="6.2.5" data-path="communication-with-rmarkdown.html"><a href="communication-with-rmarkdown.html#exercise-5-2"><i class="fa fa-check"></i><b>6.2.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="communication-with-rmarkdown.html"><a href="communication-with-rmarkdown.html#ggplot2-communication"><i class="fa fa-check"></i><b>6.3</b> <code>ggplot2</code> Communication</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="communication-with-rmarkdown.html"><a href="communication-with-rmarkdown.html#change-labels-and-titles"><i class="fa fa-check"></i><b>6.3.1</b> Change Labels and Titles</a></li>
<li class="chapter" data-level="6.3.2" data-path="communication-with-rmarkdown.html"><a href="communication-with-rmarkdown.html#changing-x-and-y-axis-limits"><i class="fa fa-check"></i><b>6.3.2</b> Changing x and y axis Limits</a></li>
<li class="chapter" data-level="6.3.3" data-path="communication-with-rmarkdown.html"><a href="communication-with-rmarkdown.html#changing-a-colour-scale"><i class="fa fa-check"></i><b>6.3.3</b> Changing A Colour Scale</a></li>
<li class="chapter" data-level="6.3.4" data-path="communication-with-rmarkdown.html"><a href="communication-with-rmarkdown.html#labeling-points-or-lines-of-interest"><i class="fa fa-check"></i><b>6.3.4</b> Labeling Points or Lines of Interest</a></li>
<li class="chapter" data-level="6.3.5" data-path="communication-with-rmarkdown.html"><a href="communication-with-rmarkdown.html#plot-themes"><i class="fa fa-check"></i><b>6.3.5</b> Plot Themes</a></li>
<li class="chapter" data-level="6.3.6" data-path="communication-with-rmarkdown.html"><a href="communication-with-rmarkdown.html#exercise-5-3"><i class="fa fa-check"></i><b>6.3.6</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="communication-with-rmarkdown.html"><a href="communication-with-rmarkdown.html#chapexercise-5"><i class="fa fa-check"></i><b>6.4</b> Chapter Exercises</a></li>
<li class="chapter" data-level="6.5" data-path="communication-with-rmarkdown.html"><a href="communication-with-rmarkdown.html#solutions-5"><i class="fa fa-check"></i><b>6.5</b> Exercise Solutions</a>
<ul>
<li class="chapter" data-level="6.5.1" data-path="communication-with-rmarkdown.html"><a href="communication-with-rmarkdown.html#reproducibility-s"><i class="fa fa-check"></i><b>6.5.1</b> Reproducibility S</a></li>
<li class="chapter" data-level="6.5.2" data-path="communication-with-rmarkdown.html"><a href="communication-with-rmarkdown.html#r-markdown-files-s"><i class="fa fa-check"></i><b>6.5.2</b> <code>R Markdown</code> Files S</a></li>
<li class="chapter" data-level="6.5.3" data-path="communication-with-rmarkdown.html"><a href="communication-with-rmarkdown.html#ggplot2-communication-s"><i class="fa fa-check"></i><b>6.5.3</b> <code>ggplot2</code> Communication S</a></li>
<li class="chapter" data-level="6.5.4" data-path="communication-with-rmarkdown.html"><a href="communication-with-rmarkdown.html#chapexercise-5-S"><i class="fa fa-check"></i><b>6.5.4</b> Chapter Exercises S</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="r-basics.html"><a href="r-basics.html"><i class="fa fa-check"></i><b>7</b> <code>R</code> Basics</a>
<ul>
<li class="chapter" data-level="7.1" data-path="r-basics.html"><a href="r-basics.html#variable-classes-in-r"><i class="fa fa-check"></i><b>7.1</b> Variable Classes in <code>R</code></a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="r-basics.html"><a href="r-basics.html#referencing-variables-and-using-str"><i class="fa fa-check"></i><b>7.1.1</b> Referencing Variables and Using <code>str()</code></a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="r-basics.html"><a href="r-basics.html#classes-in-detail"><i class="fa fa-check"></i><b>7.2</b> Classes in Detail</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="r-basics.html"><a href="r-basics.html#chr-and-fct-class"><i class="fa fa-check"></i><b>7.2.1</b> <code>&lt;chr&gt;</code> and <code>&lt;fct&gt;</code> Class</a></li>
<li class="chapter" data-level="7.2.2" data-path="r-basics.html"><a href="r-basics.html#date-class"><i class="fa fa-check"></i><b>7.2.2</b> <code>&lt;date&gt;</code> Class</a></li>
<li class="chapter" data-level="7.2.3" data-path="r-basics.html"><a href="r-basics.html#dbl-and-int-class"><i class="fa fa-check"></i><b>7.2.3</b> <code>&lt;dbl&gt;</code> and <code>&lt;int&gt;</code> Class</a></li>
<li class="chapter" data-level="7.2.4" data-path="r-basics.html"><a href="r-basics.html#lgl-class"><i class="fa fa-check"></i><b>7.2.4</b> <code>&lt;lgl&gt;</code> Class</a></li>
<li class="chapter" data-level="7.2.5" data-path="r-basics.html"><a href="r-basics.html#exercise-6-1"><i class="fa fa-check"></i><b>7.2.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="r-basics.html"><a href="r-basics.html#object-types-and-subsetting"><i class="fa fa-check"></i><b>7.3</b> Object Types and Subsetting</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="r-basics.html"><a href="r-basics.html#tibble-and-data.frame"><i class="fa fa-check"></i><b>7.3.1</b> <code>tibble</code> and <code>data.frame</code></a></li>
<li class="chapter" data-level="7.3.2" data-path="r-basics.html"><a href="r-basics.html#vectors"><i class="fa fa-check"></i><b>7.3.2</b> Vectors</a></li>
<li class="chapter" data-level="7.3.3" data-path="r-basics.html"><a href="r-basics.html#lists"><i class="fa fa-check"></i><b>7.3.3</b> Lists</a></li>
<li class="chapter" data-level="7.3.4" data-path="r-basics.html"><a href="r-basics.html#exercise-6-2"><i class="fa fa-check"></i><b>7.3.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="r-basics.html"><a href="r-basics.html#piping-with-magrittr"><i class="fa fa-check"></i><b>7.4</b> Piping with <code>magrittr</code></a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="r-basics.html"><a href="r-basics.html#when-you-cant-use-the-pipe"><i class="fa fa-check"></i><b>7.4.1</b> When You Can’t Use the Pipe</a></li>
<li class="chapter" data-level="7.4.2" data-path="r-basics.html"><a href="r-basics.html#exercise-6-3"><i class="fa fa-check"></i><b>7.4.2</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="r-basics.html"><a href="r-basics.html#r-cleanup-other-topics"><i class="fa fa-check"></i><b>7.5</b> <code>R</code> Cleanup: Other Topics</a>
<ul>
<li class="chapter" data-level="7.5.1" data-path="r-basics.html"><a href="r-basics.html#r-projects-and-working-directories"><i class="fa fa-check"></i><b>7.5.1</b> <code>R Projects</code> and Working Directories</a></li>
<li class="chapter" data-level="7.5.2" data-path="r-basics.html"><a href="r-basics.html#r-studio-server"><i class="fa fa-check"></i><b>7.5.2</b> <code>R Studio</code> Server</a></li>
<li class="chapter" data-level="7.5.3" data-path="r-basics.html"><a href="r-basics.html#installing-r-packages"><i class="fa fa-check"></i><b>7.5.3</b> Installing <code>R</code> Packages</a></li>
<li class="chapter" data-level="7.5.4" data-path="r-basics.html"><a href="r-basics.html#exercise-6-4"><i class="fa fa-check"></i><b>7.5.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="r-basics.html"><a href="r-basics.html#chapexercise-6"><i class="fa fa-check"></i><b>7.6</b> Chapter Exercises</a></li>
<li class="chapter" data-level="7.7" data-path="r-basics.html"><a href="r-basics.html#solutions-6"><i class="fa fa-check"></i><b>7.7</b> Exercise Solutions</a>
<ul>
<li class="chapter" data-level="7.7.1" data-path="r-basics.html"><a href="r-basics.html#variable-classes-s"><i class="fa fa-check"></i><b>7.7.1</b> Variable Classes S</a></li>
<li class="chapter" data-level="7.7.2" data-path="r-basics.html"><a href="r-basics.html#classes-in-detail-s"><i class="fa fa-check"></i><b>7.7.2</b> Classes in Detail S</a></li>
<li class="chapter" data-level="7.7.3" data-path="r-basics.html"><a href="r-basics.html#object-types-s"><i class="fa fa-check"></i><b>7.7.3</b> Object Types S</a></li>
<li class="chapter" data-level="7.7.4" data-path="r-basics.html"><a href="r-basics.html#piping-s"><i class="fa fa-check"></i><b>7.7.4</b> Piping S</a></li>
<li class="chapter" data-level="7.7.5" data-path="r-basics.html"><a href="r-basics.html#other-r-topics-s"><i class="fa fa-check"></i><b>7.7.5</b> Other R Topics S</a></li>
<li class="chapter" data-level="7.7.6" data-path="r-basics.html"><a href="r-basics.html#chapexercise-6-S"><i class="fa fa-check"></i><b>7.7.6</b> Chapter Exercises S</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="factors-with-forcats.html"><a href="factors-with-forcats.html"><i class="fa fa-check"></i><b>8</b> Factors with <code>forcats</code></a>
<ul>
<li class="chapter" data-level="8.1" data-path="factors-with-forcats.html"><a href="factors-with-forcats.html#change-factor-levels"><i class="fa fa-check"></i><b>8.1</b> Change Factor Levels</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="factors-with-forcats.html"><a href="factors-with-forcats.html#fct_recode-to-rename-levels"><i class="fa fa-check"></i><b>8.1.1</b> <code>fct_recode()</code> to Rename Levels</a></li>
<li class="chapter" data-level="8.1.2" data-path="factors-with-forcats.html"><a href="factors-with-forcats.html#collapsing-many-levels-into-fewer-levels-with-fct_collapse"><i class="fa fa-check"></i><b>8.1.2</b> Collapsing Many Levels Into Fewer Levels with <code>fct_collapse()</code></a></li>
<li class="chapter" data-level="8.1.3" data-path="factors-with-forcats.html"><a href="factors-with-forcats.html#exercise-7-1"><i class="fa fa-check"></i><b>8.1.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="factors-with-forcats.html"><a href="factors-with-forcats.html#reorder-factor-levels"><i class="fa fa-check"></i><b>8.2</b> Reorder Factor Levels</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="factors-with-forcats.html"><a href="factors-with-forcats.html#change-the-order-of-levels-by-a-quantitative-variable-with-fct_reorder"><i class="fa fa-check"></i><b>8.2.1</b> Change the Order of Levels by a Quantitative Variable with <code>fct_reorder()</code></a></li>
<li class="chapter" data-level="8.2.2" data-path="factors-with-forcats.html"><a href="factors-with-forcats.html#re-leveling-by-two-quantitative-variables-with-fct_reorder2"><i class="fa fa-check"></i><b>8.2.2</b> Re-Leveling By Two Quantitative Variables with <code>fct_reorder2()</code></a></li>
<li class="chapter" data-level="8.2.3" data-path="factors-with-forcats.html"><a href="factors-with-forcats.html#reordering-levels-manually-with-fct_relevel"><i class="fa fa-check"></i><b>8.2.3</b> Reordering Levels Manually with <code>fct_relevel()</code></a></li>
<li class="chapter" data-level="8.2.4" data-path="factors-with-forcats.html"><a href="factors-with-forcats.html#exercise-7-2"><i class="fa fa-check"></i><b>8.2.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="factors-with-forcats.html"><a href="factors-with-forcats.html#chapexercise-7"><i class="fa fa-check"></i><b>8.3</b> Chapter Exercises</a></li>
<li class="chapter" data-level="8.4" data-path="factors-with-forcats.html"><a href="factors-with-forcats.html#solutions-7"><i class="fa fa-check"></i><b>8.4</b> Exercise Solutions</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="factors-with-forcats.html"><a href="factors-with-forcats.html#change-factor-levels-s"><i class="fa fa-check"></i><b>8.4.1</b> Change Factor Levels S</a></li>
<li class="chapter" data-level="8.4.2" data-path="factors-with-forcats.html"><a href="factors-with-forcats.html#reorder-factor-levels-s"><i class="fa fa-check"></i><b>8.4.2</b> Reorder Factor Levels S</a></li>
<li class="chapter" data-level="8.4.3" data-path="factors-with-forcats.html"><a href="factors-with-forcats.html#chapexercise-7-S"><i class="fa fa-check"></i><b>8.4.3</b> Chapter Exercises S</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="reprexes-and-import.html"><a href="reprexes-and-import.html"><i class="fa fa-check"></i><b>9</b> Reprexes and Import</a>
<ul>
<li class="chapter" data-level="9.1" data-path="reprexes-and-import.html"><a href="reprexes-and-import.html#reprexes-and-tibble"><i class="fa fa-check"></i><b>9.1</b> Reprexes and <code>tibble</code></a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="reprexes-and-import.html"><a href="reprexes-and-import.html#exercise-8-1"><i class="fa fa-check"></i><b>9.1.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="reprexes-and-import.html"><a href="reprexes-and-import.html#readr-to-read-in-data"><i class="fa fa-check"></i><b>9.2</b> <code>readr</code> to Read in Data</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="reprexes-and-import.html"><a href="reprexes-and-import.html#read_csv-options"><i class="fa fa-check"></i><b>9.2.1</b> <code>read_csv()</code> Options</a></li>
<li class="chapter" data-level="9.2.2" data-path="reprexes-and-import.html"><a href="reprexes-and-import.html#exercise-8-2"><i class="fa fa-check"></i><b>9.2.2</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="reprexes-and-import.html"><a href="reprexes-and-import.html#data-scraping-with-rvest"><i class="fa fa-check"></i><b>9.3</b> Data Scraping with <code>rvest</code></a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="reprexes-and-import.html"><a href="reprexes-and-import.html#exercise-8-3"><i class="fa fa-check"></i><b>9.3.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="reprexes-and-import.html"><a href="reprexes-and-import.html#json-files-with-jsonlite"><i class="fa fa-check"></i><b>9.4</b> JSON Files with <code>jsonlite</code></a>
<ul>
<li class="chapter" data-level="9.4.1" data-path="reprexes-and-import.html"><a href="reprexes-and-import.html#everything-working-well"><i class="fa fa-check"></i><b>9.4.1</b> Everything Working Well</a></li>
<li class="chapter" data-level="9.4.2" data-path="reprexes-and-import.html"><a href="reprexes-and-import.html#things-arent-always-so-easy"><i class="fa fa-check"></i><b>9.4.2</b> Things Aren’t Always So Easy</a></li>
<li class="chapter" data-level="9.4.3" data-path="reprexes-and-import.html"><a href="reprexes-and-import.html#exercise-8-4"><i class="fa fa-check"></i><b>9.4.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="reprexes-and-import.html"><a href="reprexes-and-import.html#chapexercise-8"><i class="fa fa-check"></i><b>9.5</b> Chapter Exercises</a></li>
<li class="chapter" data-level="9.6" data-path="reprexes-and-import.html"><a href="reprexes-and-import.html#solutions-8"><i class="fa fa-check"></i><b>9.6</b> Exercise Solutions</a>
<ul>
<li class="chapter" data-level="9.6.1" data-path="reprexes-and-import.html"><a href="reprexes-and-import.html#reprexes-and-tibble-s"><i class="fa fa-check"></i><b>9.6.1</b> Reprexes and <code>tibble</code> S</a></li>
<li class="chapter" data-level="9.6.2" data-path="reprexes-and-import.html"><a href="reprexes-and-import.html#readr-s"><i class="fa fa-check"></i><b>9.6.2</b> <code>readr</code> S</a></li>
<li class="chapter" data-level="9.6.3" data-path="reprexes-and-import.html"><a href="reprexes-and-import.html#rvest-and-data-scraping-s"><i class="fa fa-check"></i><b>9.6.3</b> <code>rvest</code> and Data Scraping S</a></li>
<li class="chapter" data-level="9.6.4" data-path="reprexes-and-import.html"><a href="reprexes-and-import.html#json-with-jsonlite-s"><i class="fa fa-check"></i><b>9.6.4</b> JSON with <code>jsonlite</code> S</a></li>
<li class="chapter" data-level="9.6.5" data-path="reprexes-and-import.html"><a href="reprexes-and-import.html#chapexercise-8-S"><i class="fa fa-check"></i><b>9.6.5</b> Chapter Exercises S</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="data-ethics.html"><a href="data-ethics.html"><i class="fa fa-check"></i><b>10</b> Data Ethics</a>
<ul>
<li class="chapter" data-level="10.1" data-path="data-ethics.html"><a href="data-ethics.html#ethical-examples"><i class="fa fa-check"></i><b>10.1</b> Ethical Examples</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="data-ethics.html"><a href="data-ethics.html#exercise-9-1"><i class="fa fa-check"></i><b>10.1.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="data-ethics.html"><a href="data-ethics.html#data-privacy"><i class="fa fa-check"></i><b>10.2</b> Data Privacy</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="data-ethics.html"><a href="data-ethics.html#exercise-9-2"><i class="fa fa-check"></i><b>10.2.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="data-ethics.html"><a href="data-ethics.html#hypothesis-generation-vs.-confirmation"><i class="fa fa-check"></i><b>10.3</b> Hypothesis Generation vs. Confirmation</a>
<ul>
<li class="chapter" data-level="10.3.1" data-path="data-ethics.html"><a href="data-ethics.html#exercise-9-3"><i class="fa fa-check"></i><b>10.3.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="data-ethics.html"><a href="data-ethics.html#chapexercise-9"><i class="fa fa-check"></i><b>10.4</b> Chapter Exercises</a></li>
<li class="chapter" data-level="10.5" data-path="data-ethics.html"><a href="data-ethics.html#solutions-9"><i class="fa fa-check"></i><b>10.5</b> Exercise Solutions</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="merging-with-dplyr.html"><a href="merging-with-dplyr.html"><i class="fa fa-check"></i><b>11</b> Merging with <code>dplyr</code></a>
<ul>
<li class="chapter" data-level="11.1" data-path="merging-with-dplyr.html"><a href="merging-with-dplyr.html#stacking-rows-and-appending-columns"><i class="fa fa-check"></i><b>11.1</b> Stacking Rows and Appending Columns</a>
<ul>
<li class="chapter" data-level="11.1.1" data-path="merging-with-dplyr.html"><a href="merging-with-dplyr.html#stacking-with-bind_rows"><i class="fa fa-check"></i><b>11.1.1</b> Stacking with <code>bind_rows()</code></a></li>
<li class="chapter" data-level="11.1.2" data-path="merging-with-dplyr.html"><a href="merging-with-dplyr.html#binding-columns-with-bind_cols"><i class="fa fa-check"></i><b>11.1.2</b> Binding Columns with <code>bind_cols()</code></a></li>
<li class="chapter" data-level="11.1.3" data-path="merging-with-dplyr.html"><a href="merging-with-dplyr.html#exercise-10-1"><i class="fa fa-check"></i><b>11.1.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="merging-with-dplyr.html"><a href="merging-with-dplyr.html#mutating-joins"><i class="fa fa-check"></i><b>11.2</b> Mutating Joins</a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="merging-with-dplyr.html"><a href="merging-with-dplyr.html#keep-all-rows-of-data-set-1-with-left_join"><i class="fa fa-check"></i><b>11.2.1</b> Keep All Rows of Data Set 1 with <code>left_join()</code></a></li>
<li class="chapter" data-level="11.2.2" data-path="merging-with-dplyr.html"><a href="merging-with-dplyr.html#keep-all-rows-of-data-set-2-with-right_join"><i class="fa fa-check"></i><b>11.2.2</b> Keep All Rows of Data Set 2 with <code>right_join()</code></a></li>
<li class="chapter" data-level="11.2.3" data-path="merging-with-dplyr.html"><a href="merging-with-dplyr.html#keep-all-rows-of-both-data-sets-with-full_join"><i class="fa fa-check"></i><b>11.2.3</b> Keep All Rows of Both Data Sets with <code>full_join()</code></a></li>
<li class="chapter" data-level="11.2.4" data-path="merging-with-dplyr.html"><a href="merging-with-dplyr.html#keep-only-rows-with-matching-keys-with-inner_join"><i class="fa fa-check"></i><b>11.2.4</b> Keep Only Rows with Matching Keys with <code>inner_join()</code></a></li>
<li class="chapter" data-level="11.2.5" data-path="merging-with-dplyr.html"><a href="merging-with-dplyr.html#which-xxxx_join"><i class="fa fa-check"></i><b>11.2.5</b> Which <code>xxxx_join()</code>?</a></li>
<li class="chapter" data-level="11.2.6" data-path="merging-with-dplyr.html"><a href="merging-with-dplyr.html#the-importance-of-a-good-key"><i class="fa fa-check"></i><b>11.2.6</b> The Importance of a Good Key</a></li>
<li class="chapter" data-level="11.2.7" data-path="merging-with-dplyr.html"><a href="merging-with-dplyr.html#exercise-10-2"><i class="fa fa-check"></i><b>11.2.7</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="merging-with-dplyr.html"><a href="merging-with-dplyr.html#filtering-joins"><i class="fa fa-check"></i><b>11.3</b> Filtering Joins</a>
<ul>
<li class="chapter" data-level="11.3.1" data-path="merging-with-dplyr.html"><a href="merging-with-dplyr.html#filtering-with-anti_join"><i class="fa fa-check"></i><b>11.3.1</b> Filtering with <code>anti_join()</code></a></li>
<li class="chapter" data-level="11.3.2" data-path="merging-with-dplyr.html"><a href="merging-with-dplyr.html#exercise-10-3"><i class="fa fa-check"></i><b>11.3.2</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="merging-with-dplyr.html"><a href="merging-with-dplyr.html#a-note-on-sql"><i class="fa fa-check"></i><b>11.4</b> A Note on SQL</a></li>
<li class="chapter" data-level="11.5" data-path="merging-with-dplyr.html"><a href="merging-with-dplyr.html#chapexercise-10"><i class="fa fa-check"></i><b>11.5</b> Chapter Exercises</a></li>
<li class="chapter" data-level="11.6" data-path="merging-with-dplyr.html"><a href="merging-with-dplyr.html#solutions-10"><i class="fa fa-check"></i><b>11.6</b> Exercise Solutions</a>
<ul>
<li class="chapter" data-level="11.6.1" data-path="merging-with-dplyr.html"><a href="merging-with-dplyr.html#bind_rows-and-bind_cols-s"><i class="fa fa-check"></i><b>11.6.1</b> <code>bind_rows()</code> and <code>bind_cols()</code> S</a></li>
<li class="chapter" data-level="11.6.2" data-path="merging-with-dplyr.html"><a href="merging-with-dplyr.html#mutating-joins-s"><i class="fa fa-check"></i><b>11.6.2</b> Mutating Joins S</a></li>
<li class="chapter" data-level="11.6.3" data-path="merging-with-dplyr.html"><a href="merging-with-dplyr.html#filtering-joins-s"><i class="fa fa-check"></i><b>11.6.3</b> Filtering Joins S</a></li>
<li class="chapter" data-level="11.6.4" data-path="merging-with-dplyr.html"><a href="merging-with-dplyr.html#chapexercise-10-S"><i class="fa fa-check"></i><b>11.6.4</b> Chapter Exercises S</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="dates-with-lubridate.html"><a href="dates-with-lubridate.html"><i class="fa fa-check"></i><b>12</b> Dates with <code>lubridate</code></a>
<ul>
<li class="chapter" data-level="12.1" data-path="dates-with-lubridate.html"><a href="dates-with-lubridate.html#converting-variables-to-date"><i class="fa fa-check"></i><b>12.1</b> Converting Variables to <code>&lt;date&gt;</code></a>
<ul>
<li class="chapter" data-level="12.1.1" data-path="dates-with-lubridate.html"><a href="dates-with-lubridate.html#from-chr-to-date"><i class="fa fa-check"></i><b>12.1.1</b> From <code>&lt;chr&gt;</code> to <code>&lt;date&gt;</code></a></li>
<li class="chapter" data-level="12.1.2" data-path="dates-with-lubridate.html"><a href="dates-with-lubridate.html#making-a-date-variable-from-date-components"><i class="fa fa-check"></i><b>12.1.2</b> Making a <code>&lt;date&gt;</code> variable from Date Components</a></li>
<li class="chapter" data-level="12.1.3" data-path="dates-with-lubridate.html"><a href="dates-with-lubridate.html#exercise-11-1"><i class="fa fa-check"></i><b>12.1.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="12.2" data-path="dates-with-lubridate.html"><a href="dates-with-lubridate.html#functions-for-date-variables"><i class="fa fa-check"></i><b>12.2</b> Functions for <code>&lt;date&gt;</code> Variables</a>
<ul>
<li class="chapter" data-level="12.2.1" data-path="dates-with-lubridate.html"><a href="dates-with-lubridate.html#year-month-and-mday"><i class="fa fa-check"></i><b>12.2.1</b> <code>year()</code>, <code>month()</code>, and <code>mday()</code></a></li>
<li class="chapter" data-level="12.2.2" data-path="dates-with-lubridate.html"><a href="dates-with-lubridate.html#yday-and-wday"><i class="fa fa-check"></i><b>12.2.2</b> <code>yday()</code> and <code>wday()</code></a></li>
<li class="chapter" data-level="12.2.3" data-path="dates-with-lubridate.html"><a href="dates-with-lubridate.html#exercise-11-2"><i class="fa fa-check"></i><b>12.2.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="dates-with-lubridate.html"><a href="dates-with-lubridate.html#chapexercise-11"><i class="fa fa-check"></i><b>12.3</b> Chapter Exercises</a></li>
<li class="chapter" data-level="12.4" data-path="dates-with-lubridate.html"><a href="dates-with-lubridate.html#solutions-11"><i class="fa fa-check"></i><b>12.4</b> Exercise Solutions</a>
<ul>
<li class="chapter" data-level="12.4.1" data-path="dates-with-lubridate.html"><a href="dates-with-lubridate.html#converting-variables-to-date-s"><i class="fa fa-check"></i><b>12.4.1</b> Converting Variables to <code>&lt;date&gt;</code> S</a></li>
<li class="chapter" data-level="12.4.2" data-path="dates-with-lubridate.html"><a href="dates-with-lubridate.html#functions-for-date-variables-s"><i class="fa fa-check"></i><b>12.4.2</b> Functions for <code>&lt;date&gt;</code> Variables S</a></li>
<li class="chapter" data-level="12.4.3" data-path="dates-with-lubridate.html"><a href="dates-with-lubridate.html#chapexercise-11-S"><i class="fa fa-check"></i><b>12.4.3</b> Chapter Exercises S</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="strings-with-stringr.html"><a href="strings-with-stringr.html"><i class="fa fa-check"></i><b>13</b> Strings with <code>stringr</code></a>
<ul>
<li class="chapter" data-level="13.1" data-path="strings-with-stringr.html"><a href="strings-with-stringr.html#friday-friday"><i class="fa fa-check"></i><b>13.1</b> Friday, Friday</a>
<ul>
<li class="chapter" data-level="13.1.1" data-path="strings-with-stringr.html"><a href="strings-with-stringr.html#exercise-12-1"><i class="fa fa-check"></i><b>13.1.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="13.2" data-path="strings-with-stringr.html"><a href="strings-with-stringr.html#add-second-example-here"><i class="fa fa-check"></i><b>13.2</b> Add Second Example Here</a></li>
<li class="chapter" data-level="13.3" data-path="strings-with-stringr.html"><a href="strings-with-stringr.html#chapexercise-12"><i class="fa fa-check"></i><b>13.3</b> Chapter Exercises</a></li>
<li class="chapter" data-level="13.4" data-path="strings-with-stringr.html"><a href="strings-with-stringr.html#solutions-12"><i class="fa fa-check"></i><b>13.4</b> Exercise Solutions</a>
<ul>
<li class="chapter" data-level="13.4.1" data-path="strings-with-stringr.html"><a href="strings-with-stringr.html#friday-friday-s"><i class="fa fa-check"></i><b>13.4.1</b> Friday, Friday S</a></li>
<li class="chapter" data-level="13.4.2" data-path="strings-with-stringr.html"><a href="strings-with-stringr.html#second-example-s"><i class="fa fa-check"></i><b>13.4.2</b> Second Example S</a></li>
<li class="chapter" data-level="13.4.3" data-path="strings-with-stringr.html"><a href="strings-with-stringr.html#chapexercise-12-S"><i class="fa fa-check"></i><b>13.4.3</b> Chapter Exercises S</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="14" data-path="predictive-modeling-with-knn.html"><a href="predictive-modeling-with-knn.html"><i class="fa fa-check"></i><b>14</b> Predictive Modeling with knn</a>
<ul>
<li class="chapter" data-level="14.1" data-path="predictive-modeling-with-knn.html"><a href="predictive-modeling-with-knn.html#introduction-to-classification"><i class="fa fa-check"></i><b>14.1</b> Introduction to Classification</a>
<ul>
<li class="chapter" data-level="14.1.1" data-path="predictive-modeling-with-knn.html"><a href="predictive-modeling-with-knn.html#training-and-test-data"><i class="fa fa-check"></i><b>14.1.1</b> Training and Test Data</a></li>
<li class="chapter" data-level="14.1.2" data-path="predictive-modeling-with-knn.html"><a href="predictive-modeling-with-knn.html#exercise-13-1"><i class="fa fa-check"></i><b>14.1.2</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="14.2" data-path="predictive-modeling-with-knn.html"><a href="predictive-modeling-with-knn.html#knn-introduction"><i class="fa fa-check"></i><b>14.2</b> knn Introduction</a>
<ul>
<li class="chapter" data-level="14.2.1" data-path="predictive-modeling-with-knn.html"><a href="predictive-modeling-with-knn.html#knn-with-k-1-and-1-predictor"><i class="fa fa-check"></i><b>14.2.1</b> knn with k = 1 and 1 Predictor</a></li>
<li class="chapter" data-level="14.2.2" data-path="predictive-modeling-with-knn.html"><a href="predictive-modeling-with-knn.html#knn-with-k-1-and-one-predictor"><i class="fa fa-check"></i><b>14.2.2</b> knn with k &gt; 1 and One Predictor</a></li>
<li class="chapter" data-level="14.2.3" data-path="predictive-modeling-with-knn.html"><a href="predictive-modeling-with-knn.html#knn-with-k-1-and-more-than-one-predictor"><i class="fa fa-check"></i><b>14.2.3</b> knn with k &gt; 1 and More Than One Predictor</a></li>
<li class="chapter" data-level="14.2.4" data-path="predictive-modeling-with-knn.html"><a href="predictive-modeling-with-knn.html#scaling-predictor-variables-before-using-knn"><i class="fa fa-check"></i><b>14.2.4</b> Scaling Predictor Variables before Using knn</a></li>
<li class="chapter" data-level="14.2.5" data-path="predictive-modeling-with-knn.html"><a href="predictive-modeling-with-knn.html#exercise-13-2"><i class="fa fa-check"></i><b>14.2.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="14.3" data-path="predictive-modeling-with-knn.html"><a href="predictive-modeling-with-knn.html#choosing-predictors-and-k"><i class="fa fa-check"></i><b>14.3</b> Choosing Predictors and k</a>
<ul>
<li class="chapter" data-level="14.3.1" data-path="predictive-modeling-with-knn.html"><a href="predictive-modeling-with-knn.html#the-confusion-matrix"><i class="fa fa-check"></i><b>14.3.1</b> The Confusion Matrix</a></li>
<li class="chapter" data-level="14.3.2" data-path="predictive-modeling-with-knn.html"><a href="predictive-modeling-with-knn.html#using-knn-in-r"><i class="fa fa-check"></i><b>14.3.2</b> Using knn in <code>R</code></a></li>
<li class="chapter" data-level="14.3.3" data-path="predictive-modeling-with-knn.html"><a href="predictive-modeling-with-knn.html#exercise-13-3"><i class="fa fa-check"></i><b>14.3.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="14.4" data-path="predictive-modeling-with-knn.html"><a href="predictive-modeling-with-knn.html#chapexercise-13"><i class="fa fa-check"></i><b>14.4</b> Chapter Exercises</a></li>
<li class="chapter" data-level="14.5" data-path="predictive-modeling-with-knn.html"><a href="predictive-modeling-with-knn.html#solutions-13"><i class="fa fa-check"></i><b>14.5</b> Exercise Solutions</a>
<ul>
<li class="chapter" data-level="14.5.1" data-path="predictive-modeling-with-knn.html"><a href="predictive-modeling-with-knn.html#introduction-to-classification-s"><i class="fa fa-check"></i><b>14.5.1</b> Introduction to Classification S</a></li>
<li class="chapter" data-level="14.5.2" data-path="predictive-modeling-with-knn.html"><a href="predictive-modeling-with-knn.html#knn-introduction-s"><i class="fa fa-check"></i><b>14.5.2</b> knn Introduction S</a></li>
<li class="chapter" data-level="14.5.3" data-path="predictive-modeling-with-knn.html"><a href="predictive-modeling-with-knn.html#choosing-predictors-and-k-s"><i class="fa fa-check"></i><b>14.5.3</b> Choosing Predictors and k S</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/highamm/datascience234" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">STAT 234: Data Science</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="dates-with-lubridate" class="section level1" number="12">
<h1><span class="header-section-number">Chapter 12</span> Dates with <code>lubridate</code></h1>
<p><strong>Goals</strong>:</p>
<ul>
<li>use <code>lubridate</code> functions to convert a character variable to a <code>&lt;date&gt;</code> variable.</li>
<li>use <code>lubridate</code> functions to extract useful information from a <code>&lt;date&gt;</code> variable, including the year, month, day of the week, and day of the year.</li>
</ul>
<div id="converting-variables-to-date" class="section level2" number="12.1">
<h2><span class="header-section-number">12.1</span> Converting Variables to <code>&lt;date&gt;</code></h2>
<p>The <code>lubridate</code> package is built to easily work with <code>Date</code> objects and <code>DateTime</code> objects. <code>R</code> does not actually have a class that stores <code>Time</code> objects (unless you install a separate package). Dates tend to be much more common than Times, so, we will primarily focus on Dates, but most functions we will see have easy extensions to Times.</p>
<p>To begin, install the <code>lubridate</code> package, and load the package with <code>library()</code>. The <code>today()</code> function prints today’s date while <code>now()</code> prints today’s date and time. These can sometimes be useful in other contexts, but we will just run the code to see how <code>R</code> stores dates and date-times.</p>
<div class="sourceCode" id="cb595"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb595-1"><a href="dates-with-lubridate.html#cb595-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb595-2"><a href="dates-with-lubridate.html#cb595-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb595-3"><a href="dates-with-lubridate.html#cb595-3" aria-hidden="true" tabindex="-1"></a><span class="fu">today</span>()</span></code></pre></div>
<pre><code>## [1] &quot;2021-06-24&quot;</code></pre>
<div class="sourceCode" id="cb597"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb597-1"><a href="dates-with-lubridate.html#cb597-1" aria-hidden="true" tabindex="-1"></a><span class="fu">now</span>()</span></code></pre></div>
<pre><code>## [1] &quot;2021-06-24 10:38:43 EDT&quot;</code></pre>
<p>This first section will deal with how to convert a variable in <code>R</code> to be a <code>Date</code>. We will use a data set that has the holidays of Animal Crossing from January to April. The columns in this data set are:</p>
<ul>
<li><code>Holiday</code>, the name of the holiday and</li>
<li>various other columns with different date formats</li>
</ul>
<p>Read in the data set with</p>
<div class="sourceCode" id="cb599"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb599-1"><a href="dates-with-lubridate.html#cb599-1" aria-hidden="true" tabindex="-1"></a>holiday_df <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/animal_crossing_holidays.csv&quot;</span>)</span>
<span id="cb599-2"><a href="dates-with-lubridate.html#cb599-2" aria-hidden="true" tabindex="-1"></a>holiday_df</span></code></pre></div>
<pre><code>## # A tibble: 6 x 10
##   Holiday     Date1   Date2    Date3  Date4    Date5   Month  Year   Day Month2 
##   &lt;chr&gt;       &lt;chr&gt;   &lt;chr&gt;    &lt;chr&gt;  &lt;chr&gt;    &lt;chr&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;  
## 1 New Year&#39;s… 1-Jan-… Jan-1-2… 1/1/20 1/1/20   2020 0…     1  2020     1 January
## 2 Groundhog … 2-Feb-… Feb-2-2… 2/2/20 2/2/20   2020 0…     2  2020     2 Februa…
## 3 Valentine&#39;… 14-Feb… Feb-14-… 2/14/… 2020-14… 2020 0…     2  2020    14 Februa…
## 4 Shamrock D… 17-Mar… Mar-17-… 3/17/… 2020-17… 2020 0…     3  2020    17 March  
## 5 Bunny Day   12-Apr… Apr-12-… 4/12/… 12/4/20  2020 0…     4  2020    12 April  
## 6 Earth Day   22-Apr… Apr-22-… 4/22/… 2020-22… 2020 0…     4  2020    22 April</code></pre>
<p>Which columns were specified as Dates? In this example, none of the columns have the <code>&lt;date&gt;</code> specification: all of the date columns are read in as character variables.</p>
<div id="from-chr-to-date" class="section level3" number="12.1.1">
<h3><span class="header-section-number">12.1.1</span> From <code>&lt;chr&gt;</code> to <code>&lt;date&gt;</code></h3>
<p>We will use the <code>dmy()</code> series of functions in <code>lubridate</code> to convert character variables to dates. We will typically pair this new function with a <code>mutate()</code> statement: much like the <code>forcats</code> functions, we are almost always <strong>creating</strong> a new variable.</p>
<p>There are a series of <code>dmy()</code>-type variables, each corresponding to a different Day-Month-Year order.</p>
<ul>
<li><code>dmy()</code> is used to parse a date from a character vector that has the day first, month second, and year last.</li>
<li><code>ymd()</code> is used to parse a date that has year first, month second, and date last</li>
<li><code>ydm()</code> is used to parse a date that has year first, day second, and month last,….</li>
</ul>
<p>and <code>dym()</code>, <code>mdy()</code>, and <code>myd()</code> work similarly. <code>lubridate</code> is usually “smart” and picks up dates in all kinds of different formats (e.g. it can pick up specifying <code>October</code> as the month and <code>Oct</code> as the month and <code>10</code> as the month).</p>
<p>Let’s try it out on <code>Date1</code> and <code>Date2</code>:</p>
<div class="sourceCode" id="cb601"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb601-1"><a href="dates-with-lubridate.html#cb601-1" aria-hidden="true" tabindex="-1"></a>holiday_df <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">Date_test =</span> <span class="fu">dmy</span>(Date1)) <span class="sc">%&gt;%</span></span>
<span id="cb601-2"><a href="dates-with-lubridate.html#cb601-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Date_test, <span class="fu">everything</span>())</span></code></pre></div>
<pre><code>## # A tibble: 6 x 11
##   Date_test  Holiday   Date1  Date2  Date3  Date4 Date5 Month  Year   Day Month2
##   &lt;date&gt;     &lt;chr&gt;     &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt; 
## 1 2020-01-01 New Year… 1-Jan… Jan-1… 1/1/20 1/1/… 2020…     1  2020     1 Janua…
## 2 2020-02-02 Groundho… 2-Feb… Feb-2… 2/2/20 2/2/… 2020…     2  2020     2 Febru…
## 3 2020-02-14 Valentin… 14-Fe… Feb-1… 2/14/… 2020… 2020…     2  2020    14 Febru…
## 4 2020-03-17 Shamrock… 17-Ma… Mar-1… 3/17/… 2020… 2020…     3  2020    17 March 
## 5 2020-04-12 Bunny Day 12-Ap… Apr-1… 4/12/… 12/4… 2020…     4  2020    12 April 
## 6 2020-04-22 Earth Day 22-Ap… Apr-2… 4/22/… 2020… 2020…     4  2020    22 April</code></pre>
<div class="sourceCode" id="cb603"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb603-1"><a href="dates-with-lubridate.html#cb603-1" aria-hidden="true" tabindex="-1"></a>holiday_df <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">Date_test =</span> <span class="fu">mdy</span>(Date2)) <span class="sc">%&gt;%</span></span>
<span id="cb603-2"><a href="dates-with-lubridate.html#cb603-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Date_test, <span class="fu">everything</span>())</span></code></pre></div>
<pre><code>## # A tibble: 6 x 11
##   Date_test  Holiday   Date1  Date2  Date3  Date4 Date5 Month  Year   Day Month2
##   &lt;date&gt;     &lt;chr&gt;     &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt; 
## 1 2020-01-01 New Year… 1-Jan… Jan-1… 1/1/20 1/1/… 2020…     1  2020     1 Janua…
## 2 2020-02-02 Groundho… 2-Feb… Feb-2… 2/2/20 2/2/… 2020…     2  2020     2 Febru…
## 3 2020-02-14 Valentin… 14-Fe… Feb-1… 2/14/… 2020… 2020…     2  2020    14 Febru…
## 4 2020-03-17 Shamrock… 17-Ma… Mar-1… 3/17/… 2020… 2020…     3  2020    17 March 
## 5 2020-04-12 Bunny Day 12-Ap… Apr-1… 4/12/… 12/4… 2020…     4  2020    12 April 
## 6 2020-04-22 Earth Day 22-Ap… Apr-2… 4/22/… 2020… 2020…     4  2020    22 April</code></pre>
<p><strong>A Reminder</strong>: Why do <code>&lt;date&gt;</code> objects even matter? Compare the following two plots: one made where the date is in <code>&lt;chr&gt;</code> form and the other where date is in its appropriate <code>&lt;date&gt;</code> form.</p>
<div class="sourceCode" id="cb605"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb605-1"><a href="dates-with-lubridate.html#cb605-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> holiday_df, <span class="fu">aes</span>(<span class="at">x =</span> Date1, <span class="at">y =</span> Holiday)) <span class="sc">+</span></span>
<span id="cb605-2"><a href="dates-with-lubridate.html#cb605-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code></pre></div>
<p><img src="11-lubridate_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
<div class="sourceCode" id="cb606"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb606-1"><a href="dates-with-lubridate.html#cb606-1" aria-hidden="true" tabindex="-1"></a>holiday_df <span class="ot">&lt;-</span> holiday_df <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">Date_test_plot =</span> <span class="fu">dmy</span>(Date1)) <span class="sc">%&gt;%</span></span>
<span id="cb606-2"><a href="dates-with-lubridate.html#cb606-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Date_test_plot, <span class="fu">everything</span>())</span>
<span id="cb606-3"><a href="dates-with-lubridate.html#cb606-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> holiday_df, <span class="fu">aes</span>(<span class="at">x =</span> Date_test_plot, <span class="at">y =</span> Holiday)) <span class="sc">+</span></span>
<span id="cb606-4"><a href="dates-with-lubridate.html#cb606-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code></pre></div>
<p><img src="11-lubridate_files/figure-html/unnamed-chunk-4-2.png" width="672" /></p>
<p>In which plot does the ordering on the x-axis make more sense?</p>
</div>
<div id="making-a-date-variable-from-date-components" class="section level3" number="12.1.2">
<h3><span class="header-section-number">12.1.2</span> Making a <code>&lt;date&gt;</code> variable from Date Components</h3>
<p>Another way to create a Date object is to assemble it with <code>make_date()</code> from a month, day, and year components, each stored in a separate column:</p>
<div class="sourceCode" id="cb607"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb607-1"><a href="dates-with-lubridate.html#cb607-1" aria-hidden="true" tabindex="-1"></a>holiday_df <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">Date_test2 =</span> <span class="fu">make_date</span>(<span class="at">year =</span> Year,</span>
<span id="cb607-2"><a href="dates-with-lubridate.html#cb607-2" aria-hidden="true" tabindex="-1"></a>                                             <span class="at">month =</span> Month,</span>
<span id="cb607-3"><a href="dates-with-lubridate.html#cb607-3" aria-hidden="true" tabindex="-1"></a>                                             <span class="at">day =</span> Day)) <span class="sc">%&gt;%</span></span>
<span id="cb607-4"><a href="dates-with-lubridate.html#cb607-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Date_test2, <span class="fu">everything</span>())</span></code></pre></div>
<pre><code>## # A tibble: 6 x 12
##   Date_test2 Date_test_plot Holiday  Date1  Date2  Date3 Date4 Date5 Month  Year
##   &lt;date&gt;     &lt;date&gt;         &lt;chr&gt;    &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1 2020-01-01 2020-01-01     New Yea… 1-Jan… Jan-1… 1/1/… 1/1/… 2020…     1  2020
## 2 2020-02-02 2020-02-02     Groundh… 2-Feb… Feb-2… 2/2/… 2/2/… 2020…     2  2020
## 3 2020-02-14 2020-02-14     Valenti… 14-Fe… Feb-1… 2/14… 2020… 2020…     2  2020
## 4 2020-03-17 2020-03-17     Shamroc… 17-Ma… Mar-1… 3/17… 2020… 2020…     3  2020
## 5 2020-04-12 2020-04-12     Bunny D… 12-Ap… Apr-1… 4/12… 12/4… 2020…     4  2020
## 6 2020-04-22 2020-04-22     Earth D… 22-Ap… Apr-2… 4/22… 2020… 2020…     4  2020
## # … with 2 more variables: Day &lt;dbl&gt;, Month2 &lt;chr&gt;</code></pre>
<p>But, when <code>Month</code> is stored as a character (e.g. <code>February</code>) instead of a number (e.g. <code>2</code>), problems arise with the <code>make_date()</code> function:</p>
<div class="sourceCode" id="cb609"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb609-1"><a href="dates-with-lubridate.html#cb609-1" aria-hidden="true" tabindex="-1"></a>holiday_df <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">Date_test2 =</span> <span class="fu">make_date</span>(<span class="at">year =</span> Year,</span>
<span id="cb609-2"><a href="dates-with-lubridate.html#cb609-2" aria-hidden="true" tabindex="-1"></a>                                             <span class="at">month =</span> Month2,</span>
<span id="cb609-3"><a href="dates-with-lubridate.html#cb609-3" aria-hidden="true" tabindex="-1"></a>                                             <span class="at">day =</span> Day)) <span class="sc">%&gt;%</span></span>
<span id="cb609-4"><a href="dates-with-lubridate.html#cb609-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Date_test2, <span class="fu">everything</span>())</span></code></pre></div>
<pre><code>## Warning in make_date(year = Year, month = Month2, day = Day): NAs introduced by
## coercion</code></pre>
<pre><code>## # A tibble: 6 x 12
##   Date_test2 Date_test_plot Holiday  Date1  Date2  Date3 Date4 Date5 Month  Year
##   &lt;date&gt;     &lt;date&gt;         &lt;chr&gt;    &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1 NA         2020-01-01     New Yea… 1-Jan… Jan-1… 1/1/… 1/1/… 2020…     1  2020
## 2 NA         2020-02-02     Groundh… 2-Feb… Feb-2… 2/2/… 2/2/… 2020…     2  2020
## 3 NA         2020-02-14     Valenti… 14-Fe… Feb-1… 2/14… 2020… 2020…     2  2020
## 4 NA         2020-03-17     Shamroc… 17-Ma… Mar-1… 3/17… 2020… 2020…     3  2020
## 5 NA         2020-04-12     Bunny D… 12-Ap… Apr-1… 4/12… 12/4… 2020…     4  2020
## 6 NA         2020-04-22     Earth D… 22-Ap… Apr-2… 4/22… 2020… 2020…     4  2020
## # … with 2 more variables: Day &lt;dbl&gt;, Month2 &lt;chr&gt;</code></pre>
<p>So the <code>make_date()</code> function requires a specific format for the year, month, and day columns. It may take a little pre-processing to put a particular data set in that format.</p>
</div>
<div id="exercise-11-1" class="section level3" number="12.1.3">
<h3><span class="header-section-number">12.1.3</span> Exercises</h3>
<p>Exercises marked with an * indicate that the exercise has a solution at the end of the chapter at <a href="dates-with-lubridate.html#solutions-11">12.4</a>.</p>
<ol style="list-style-type: decimal">
<li>* What’s the issue with trying to convert <code>Date4</code> to a <code>&lt;date&gt;</code> form? You may want to investigate <code>Date4</code> further to answer this question.</li>
</ol>
<div class="sourceCode" id="cb612"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb612-1"><a href="dates-with-lubridate.html#cb612-1" aria-hidden="true" tabindex="-1"></a>holiday_df <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">Date_test =</span> <span class="fu">ymd</span>(Date4)) <span class="sc">%&gt;%</span></span>
<span id="cb612-2"><a href="dates-with-lubridate.html#cb612-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Date_test, <span class="fu">everything</span>())</span></code></pre></div>
<pre><code>## Warning: 3 failed to parse.</code></pre>
<pre><code>## # A tibble: 6 x 12
##   Date_test  Date_test_plot Holiday  Date1  Date2  Date3 Date4 Date5 Month  Year
##   &lt;date&gt;     &lt;date&gt;         &lt;chr&gt;    &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1 2001-01-20 2020-01-01     New Yea… 1-Jan… Jan-1… 1/1/… 1/1/… 2020…     1  2020
## 2 2002-02-20 2020-02-02     Groundh… 2-Feb… Feb-2… 2/2/… 2/2/… 2020…     2  2020
## 3 NA         2020-02-14     Valenti… 14-Fe… Feb-1… 2/14… 2020… 2020…     2  2020
## 4 NA         2020-03-17     Shamroc… 17-Ma… Mar-1… 3/17… 2020… 2020…     3  2020
## 5 2012-04-20 2020-04-12     Bunny D… 12-Ap… Apr-1… 4/12… 12/4… 2020…     4  2020
## 6 NA         2020-04-22     Earth D… 22-Ap… Apr-2… 4/22… 2020… 2020…     4  2020
## # … with 2 more variables: Day &lt;dbl&gt;, Month2 &lt;chr&gt;</code></pre>
<ol start="2" style="list-style-type: decimal">
<li>* Practice converting <code>Date3</code> and <code>Date5</code> to <code>&lt;date&gt;</code> variables with <code>lubridate</code> functions.</li>
</ol>
</div>
</div>
<div id="functions-for-date-variables" class="section level2" number="12.2">
<h2><span class="header-section-number">12.2</span> Functions for <code>&lt;date&gt;</code> Variables</h2>
<p>Once an object is in the <code>&lt;date&gt;</code> format, there are some special functions in <code>lubridate</code> that can be used on that date variable. To investigate some of these functions, we will pull stock market data from Yahoo using the <code>quantmod</code> package. Install the package, and run the following code, which gets stock market price data on Apple, Nintendo, Chipotle, and the S &amp; P 500 Index from 2011 to now. Note that you have the ability to understand all of the code below, but we will skip over this code for now to focus more on the new information in this section (information about date functions).</p>
<div class="sourceCode" id="cb615"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb615-1"><a href="dates-with-lubridate.html#cb615-1" aria-hidden="true" tabindex="-1"></a><span class="do">## install.packages(&quot;quantmod&quot;)</span></span>
<span id="cb615-2"><a href="dates-with-lubridate.html#cb615-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(quantmod)</span>
<span id="cb615-3"><a href="dates-with-lubridate.html#cb615-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb615-4"><a href="dates-with-lubridate.html#cb615-4" aria-hidden="true" tabindex="-1"></a>start <span class="ot">&lt;-</span> <span class="fu">ymd</span>(<span class="st">&quot;2011-01-01&quot;</span>)</span>
<span id="cb615-5"><a href="dates-with-lubridate.html#cb615-5" aria-hidden="true" tabindex="-1"></a>end <span class="ot">&lt;-</span> <span class="fu">ymd</span>(<span class="st">&quot;2021-5-19&quot;</span>)</span>
<span id="cb615-6"><a href="dates-with-lubridate.html#cb615-6" aria-hidden="true" tabindex="-1"></a><span class="fu">getSymbols</span>(<span class="fu">c</span>(<span class="st">&quot;AAPL&quot;</span>, <span class="st">&quot;NTDOY&quot;</span>, <span class="st">&quot;CMG&quot;</span>, <span class="st">&quot;SPY&quot;</span>), <span class="at">src =</span> <span class="st">&quot;yahoo&quot;</span>,</span>
<span id="cb615-7"><a href="dates-with-lubridate.html#cb615-7" aria-hidden="true" tabindex="-1"></a>           <span class="at">from =</span> start, <span class="at">to =</span> end)</span></code></pre></div>
<pre><code>## [1] &quot;AAPL&quot;  &quot;NTDOY&quot; &quot;CMG&quot;   &quot;SPY&quot;</code></pre>
<div class="sourceCode" id="cb617"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb617-1"><a href="dates-with-lubridate.html#cb617-1" aria-hidden="true" tabindex="-1"></a>date_tib <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(<span class="fu">index</span>(AAPL)) <span class="sc">%&gt;%</span></span>
<span id="cb617-2"><a href="dates-with-lubridate.html#cb617-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">start_date =</span> value)</span>
<span id="cb617-3"><a href="dates-with-lubridate.html#cb617-3" aria-hidden="true" tabindex="-1"></a>app_tib <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(AAPL)</span>
<span id="cb617-4"><a href="dates-with-lubridate.html#cb617-4" aria-hidden="true" tabindex="-1"></a>nint_tib <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(NTDOY)</span>
<span id="cb617-5"><a href="dates-with-lubridate.html#cb617-5" aria-hidden="true" tabindex="-1"></a>chip_tib <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(CMG)</span>
<span id="cb617-6"><a href="dates-with-lubridate.html#cb617-6" aria-hidden="true" tabindex="-1"></a>spy_tib <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(SPY)</span>
<span id="cb617-7"><a href="dates-with-lubridate.html#cb617-7" aria-hidden="true" tabindex="-1"></a>all_stocks <span class="ot">&lt;-</span> <span class="fu">bind_cols</span>(date_tib, app_tib, nint_tib, chip_tib, spy_tib)</span>
<span id="cb617-8"><a href="dates-with-lubridate.html#cb617-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb617-9"><a href="dates-with-lubridate.html#cb617-9" aria-hidden="true" tabindex="-1"></a>stocks_long <span class="ot">&lt;-</span> all_stocks <span class="sc">%&gt;%</span></span>
<span id="cb617-10"><a href="dates-with-lubridate.html#cb617-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(start_date, AAPL.Adjusted, NTDOY.Adjusted,</span>
<span id="cb617-11"><a href="dates-with-lubridate.html#cb617-11" aria-hidden="true" tabindex="-1"></a>                      CMG.Adjusted, SPY.Adjusted) <span class="sc">%&gt;%</span></span>
<span id="cb617-12"><a href="dates-with-lubridate.html#cb617-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="dv">2</span><span class="sc">:</span><span class="dv">5</span>, <span class="at">names_to =</span> <span class="st">&quot;Stock_Type&quot;</span>, <span class="at">values_to =</span> <span class="st">&quot;Price&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb617-13"><a href="dates-with-lubridate.html#cb617-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Stock_Type =</span> <span class="fu">fct_recode</span>(Stock_Type,</span>
<span id="cb617-14"><a href="dates-with-lubridate.html#cb617-14" aria-hidden="true" tabindex="-1"></a>                                 <span class="at">Apple =</span> <span class="st">&quot;AAPL.Adjusted&quot;</span>,</span>
<span id="cb617-15"><a href="dates-with-lubridate.html#cb617-15" aria-hidden="true" tabindex="-1"></a>                                 <span class="at">Nintendo =</span> <span class="st">&quot;NTDOY.Adjusted&quot;</span>,</span>
<span id="cb617-16"><a href="dates-with-lubridate.html#cb617-16" aria-hidden="true" tabindex="-1"></a>                                 <span class="at">Chipotle =</span> <span class="st">&quot;CMG.Adjusted&quot;</span>,</span>
<span id="cb617-17"><a href="dates-with-lubridate.html#cb617-17" aria-hidden="true" tabindex="-1"></a>                                 <span class="st">`</span><span class="at">S &amp; P 500</span><span class="st">`</span> <span class="ot">=</span> <span class="st">&quot;SPY.Adjusted&quot;</span></span>
<span id="cb617-18"><a href="dates-with-lubridate.html#cb617-18" aria-hidden="true" tabindex="-1"></a>                                 ))</span>
<span id="cb617-19"><a href="dates-with-lubridate.html#cb617-19" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span>(stocks_long)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 3
##   start_date Stock_Type  Price
##   &lt;date&gt;     &lt;fct&gt;       &lt;dbl&gt;
## 1 2021-05-17 Chipotle   1332. 
## 2 2021-05-17 S &amp; P 500   416. 
## 3 2021-05-18 Apple       125. 
## 4 2021-05-18 Nintendo     70.4
## 5 2021-05-18 Chipotle   1325. 
## 6 2021-05-18 S &amp; P 500   412.</code></pre>
<p>You’ll have a chance in the Exercises to choose your own stocks to investigate. For now, I’ve made a data set with three variables:</p>
<ul>
<li><code>start_date</code>, the opening date for the stock market</li>
<li><code>Stock_Type</code>, a factor with 4 levels: <code>Apple</code>, <code>Nintendo</code>, <code>Chipotle</code>, and <code>S &amp; P 500</code></li>
<li><code>Price</code>, the price of the stock?</li>
</ul>
<p>First, let’s make a line plot that shows how the S &amp; P 500 has changed over time:</p>
<div class="sourceCode" id="cb619"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb619-1"><a href="dates-with-lubridate.html#cb619-1" aria-hidden="true" tabindex="-1"></a>stocks_sp <span class="ot">&lt;-</span> stocks_long <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Stock_Type <span class="sc">==</span> <span class="st">&quot;S &amp; P 500&quot;</span>)</span>
<span id="cb619-2"><a href="dates-with-lubridate.html#cb619-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> stocks_sp, <span class="fu">aes</span>(<span class="at">x =</span> start_date, <span class="at">y =</span> Price)) <span class="sc">+</span></span>
<span id="cb619-3"><a href="dates-with-lubridate.html#cb619-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>()</span></code></pre></div>
<p><img src="11-lubridate_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
<p>But, there’s other information that we can get from the <code>start_date</code> variable. We might be interested in things like day of the week, monthly trends, or yearly trends. To extract variables like “weekday” and “month” from a <code>&lt;date&gt;</code> variable, there are a series of functions that are fairly straightforward to use. We will discuss the <code>year()</code> <code>month()</code>, <code>mday()</code>, <code>yday()</code>, and <code>wday()</code> functions.</p>
<div id="year-month-and-mday" class="section level3" number="12.2.1">
<h3><span class="header-section-number">12.2.1</span> <code>year()</code>, <code>month()</code>, and <code>mday()</code></h3>
<p>The functions <code>year()</code>, <code>month()</code>, and <code>mday()</code> can grab the year, month, and day of the month, respectively, from a <code>&lt;date&gt;</code> variable. Like the <code>forcats</code> functions, these will almost always be paired with a <code>mutate()</code> statement because they will create a new variable:</p>
<div class="sourceCode" id="cb620"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb620-1"><a href="dates-with-lubridate.html#cb620-1" aria-hidden="true" tabindex="-1"></a>stocks_long <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">year_stock =</span> <span class="fu">year</span>(start_date))</span>
<span id="cb620-2"><a href="dates-with-lubridate.html#cb620-2" aria-hidden="true" tabindex="-1"></a>stocks_long <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">month_stock =</span> <span class="fu">month</span>(start_date))</span>
<span id="cb620-3"><a href="dates-with-lubridate.html#cb620-3" aria-hidden="true" tabindex="-1"></a>stocks_long <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">day_stock =</span> <span class="fu">mday</span>(start_date))</span></code></pre></div>
</div>
<div id="yday-and-wday" class="section level3" number="12.2.2">
<h3><span class="header-section-number">12.2.2</span> <code>yday()</code> and <code>wday()</code></h3>
<p>The <code>yday()</code> function grabs the day of the year from a <code>&lt;date&gt;</code> object. For example,</p>
<div class="sourceCode" id="cb621"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb621-1"><a href="dates-with-lubridate.html#cb621-1" aria-hidden="true" tabindex="-1"></a>test <span class="ot">&lt;-</span> <span class="fu">mdy</span>(<span class="st">&quot;November 4, 2020&quot;</span>)</span>
<span id="cb621-2"><a href="dates-with-lubridate.html#cb621-2" aria-hidden="true" tabindex="-1"></a><span class="fu">yday</span>(test)</span></code></pre></div>
<pre><code>## [1] 309</code></pre>
<p>returns <code>309</code>, indicating that November 4th is the 309th day of the year 2020. Using this function in a <code>mutate()</code> statement creates a new variable that has <code>yday</code> for each observation:</p>
<div class="sourceCode" id="cb623"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb623-1"><a href="dates-with-lubridate.html#cb623-1" aria-hidden="true" tabindex="-1"></a>stocks_long <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">day_in_year =</span> <span class="fu">yday</span>(start_date))</span></code></pre></div>
<pre><code>## # A tibble: 10,444 x 4
##    start_date Stock_Type Price day_in_year
##    &lt;date&gt;     &lt;fct&gt;      &lt;dbl&gt;       &lt;dbl&gt;
##  1 2011-01-03 Apple       10.1           3
##  2 2011-01-03 Nintendo    36.7           3
##  3 2011-01-03 Chipotle   224.            3
##  4 2011-01-03 S &amp; P 500  104.            3
##  5 2011-01-04 Apple       10.2           4
##  6 2011-01-04 Nintendo    35.5           4
##  7 2011-01-04 Chipotle   222.            4
##  8 2011-01-04 S &amp; P 500  104.            4
##  9 2011-01-05 Apple       10.3           5
## 10 2011-01-05 Nintendo    34.6           5
## # … with 10,434 more rows</code></pre>
<p>Finally, the function <code>wday()</code> grabs the day of the week from a <code>&lt;date&gt;</code>. By default, <code>wday()</code> puts the day of the week as a numeric, but I find this confusing, as I can’t ever remember whether a <code>1</code> means <code>Sunday</code> or a <code>1</code> means <code>Monday</code>. Adding, <code>label = TRUE</code> creates the weekday variable as <code>Sunday</code>, <code>Monday</code>, <code>Tuesday</code>, etc.:</p>
<div class="sourceCode" id="cb625"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb625-1"><a href="dates-with-lubridate.html#cb625-1" aria-hidden="true" tabindex="-1"></a>stocks_long <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">day_of_week =</span> <span class="fu">wday</span>(start_date))</span>
<span id="cb625-2"><a href="dates-with-lubridate.html#cb625-2" aria-hidden="true" tabindex="-1"></a>stocks_long <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">day_of_week =</span> <span class="fu">wday</span>(start_date,</span>
<span id="cb625-3"><a href="dates-with-lubridate.html#cb625-3" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">label =</span> <span class="cn">TRUE</span>, <span class="at">abbr =</span> <span class="cn">FALSE</span>))</span></code></pre></div>
<p>Possible uses for these functions are:</p>
<ul>
<li><p>you want to look at differences between years (with <code>year()</code>)</p></li>
<li><p>you want to look at differences between months (with <code>month()</code>)</p></li>
<li><p>you want to look at differences between days of the week (with <code>wday()</code>)</p></li>
<li><p>you want to see whether there are yearly trends <strong>within years</strong> (with <code>yday()</code>)</p></li>
</ul>
<p><strong>Note</strong>: Working with times is extremely similar to working with dates. Instead of <code>ymd()</code>, <code>mdy()</code>, etc., you tack on a few extra letters to specify the order that the hour, minute, and seconds appear in the variable: <code>ymd_hms()</code> converts a character vector that has the order year, month, day, hour, minute, second to a <code>&lt;datetime&gt;</code>.</p>
<p>Additionally, the functions <code>hour()</code>, <code>minute()</code>, and <code>second()</code> grab the hour, minute, and second from a <code>&lt;datetime&gt;</code> variable.</p>
<p><strong>Note on Complications</strong>: Things can get complicated, especially if you start to consider things like time <strong>duration</strong>. The reason is that our time system is inherently confusing. Consider how the following might affect an analysis involving time duration:</p>
<ul>
<li>time zones</li>
<li>leap years (not all years have the same number of days)</li>
<li>differing number of days in a given month</li>
<li>daylight saving time (not all days have the same number of hours)</li>
</ul>
</div>
<div id="exercise-11-2" class="section level3" number="12.2.3">
<h3><span class="header-section-number">12.2.3</span> Exercises</h3>
<p>Exercises marked with an * indicate that the exercise has a solution at the end of the chapter at <a href="dates-with-lubridate.html#solutions-11">12.4</a>.</p>
<ol style="list-style-type: decimal">
<li>The <code>month()</code> function gives the numbers corresponding to each month by default. Type <code>?month</code> and figure out which argument you would need to change to get the <strong>names</strong> (January, February, etc.) instead of the month numbers. What about the <strong>abbreviations</strong> (Jan, Feb, etc.) of each month instead of the month numbers? Try making the changes in the <code>mutate()</code> statement below.</li>
</ol>
<div class="sourceCode" id="cb626"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb626-1"><a href="dates-with-lubridate.html#cb626-1" aria-hidden="true" tabindex="-1"></a>stocks_long <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">month_stock =</span> <span class="fu">month</span>(start_date))</span></code></pre></div>
</div>
</div>
<div id="chapexercise-11" class="section level2" number="12.3">
<h2><span class="header-section-number">12.3</span> Chapter Exercises</h2>
<p>Exercises marked with an * indicate that the exercise has a solution at the end of the chapter at <a href="dates-with-lubridate.html#solutions-11">12.4</a>.</p>
<p>The <code>truncated</code> argument to <code>ymd()</code>, <code>dmy()</code>, <code>mdy()</code>, etc. will allow <code>R</code> to parse dates that aren’t actually complete. For example,</p>
<div class="sourceCode" id="cb627"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb627-1"><a href="dates-with-lubridate.html#cb627-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb627-2"><a href="dates-with-lubridate.html#cb627-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ymd</span>(<span class="st">&quot;2019&quot;</span>, <span class="at">truncated =</span> <span class="dv">2</span>)</span></code></pre></div>
<pre><code>## [1] &quot;2019-01-01&quot;</code></pre>
<p>parses <code>2019</code> to be January 1, 2019 when the month and day are missing. The <code>2</code> means that the last two parts of the date (in this case, month and day) are allowed to be missing. Similarly,</p>
<div class="sourceCode" id="cb629"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb629-1"><a href="dates-with-lubridate.html#cb629-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dmy</span>(<span class="st">&quot;19-10&quot;</span>, <span class="at">truncated =</span> <span class="dv">1</span>)</span></code></pre></div>
<pre><code>## [1] &quot;0000-10-19&quot;</code></pre>
<p>truncates the year (which is given as 0000). The truncate function is usually most useful in the context of the first example with a truncated month and/or day.</p>
<p>Examine the <code>ds_google.csv</code>, which contains</p>
<ul>
<li><code>Month</code>, the year and month from 2004 to now</li>
<li><code>Data_Science</code>, the relative popularity of data science (Google keeps how it calculates “popularity” as somewhat of a mystery but it is likely based off of the number of times people search for the term “Data Science”)</li>
</ul>
<div class="sourceCode" id="cb631"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb631-1"><a href="dates-with-lubridate.html#cb631-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb631-2"><a href="dates-with-lubridate.html#cb631-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb631-3"><a href="dates-with-lubridate.html#cb631-3" aria-hidden="true" tabindex="-1"></a>ds_df <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/ds_google.csv&quot;</span>)</span>
<span id="cb631-4"><a href="dates-with-lubridate.html#cb631-4" aria-hidden="true" tabindex="-1"></a>ds_df</span></code></pre></div>
<pre><code>## # A tibble: 202 x 2
##    Month   Data_Science
##    &lt;chr&gt;          &lt;dbl&gt;
##  1 2004-01           14
##  2 2004-02            8
##  3 2004-03           16
##  4 2004-04           11
##  5 2004-05            5
##  6 2004-06            8
##  7 2004-07            7
##  8 2004-08            9
##  9 2004-09           13
## 10 2004-10           11
## # … with 192 more rows</code></pre>
<ol style="list-style-type: decimal">
<li><p>* Use a <code>lubridate</code> function with the <code>truncated</code> option to convert the <code>Month</code> variable to be in the <code>&lt;date&gt;</code> format.</p></li>
<li><p>* Make a plot of the popularity of Data Science through Time. Add a smoother to your plot. What patterns do you notice?</p></li>
</ol>
<p>The data was obtained from Google Trends: <a href="https://trends.google.com/trends/?geo=US" target="_blank">Google Trends</a>. Google Trends is incredibly cool to explore, even without <code>R</code>.</p>
<ol start="3" style="list-style-type: decimal">
<li>* On Google Trends, Enter in a search term, and change the Time dropdown menu to be 2004-present. Then, enter in a second search term that you want to compare. You can also change the country if you want to (or, you can keep the country as United States).</li>
</ol>
<p>My search terms will be “super smash” and “animal crossing,” but yours should be something that interests you!</p>
<p>In the top-right window of the graph, you should click the down arrow to download the data set. Delete the first two rows of your data set (either in Excel or <code>R</code>), read in the data set, and change the date variable so that it’s in a Date format.</p>
<ol start="4" style="list-style-type: decimal">
<li><p>* Make a plot of your Popularity variables through time. <strong>Hint</strong>: Does the data set need to be tidied at all first?</p></li>
<li><p>* Using your data set that explored a variable or two from 2004 through now, make a table of the <strong>average</strong> popularity for each year. <strong>Hint</strong>: You’ll need a lubridate function to extract the year variable from the date object.</p></li>
<li><p>* Clear your search and now enter a search term that you’d like to investigate for the past 90 days. Mine will be “pittsburgh steelers” but, again, yours should be something that interests you.</p></li>
</ol>
<p>Again, click the download button again and read in the data to <code>R</code>. Convert the date variable to be in <code>&lt;date&gt;</code> format.</p>
<ol start="7" style="list-style-type: decimal">
<li><p>* Make a plot of your popularity variable through time, adding a smoother.</p></li>
<li><p>Using your data set that explored a variable from the past 90 days, construct a table that compares the <strong>average</strong> popularity on each day of the week (Monday through Saturday).</p></li>
<li><p>Examine the <code>ds_df</code> data set again, the data set on data science in Google Trends, and suppose that you have an observation for <strong>each</strong> day of every year (not just one observation per month). You want to look at whether data science is more popular on certain days of the week. Explain why the following strategy <strong>wouldn’t</strong> really work that well.</p></li>
</ol>
<ul>
<li>create a weekday variable with <code>wday()</code></li>
<li>use <code>summarise()</code> and <code>group_by()</code> to find the average popularity for each day of the week</li>
</ul>
<ol start="10" style="list-style-type: decimal">
<li>Use the code in the tutorial section on the Stocks data to get a data frame on stock prices for a couple of different stocks that interest you. The start and end date that you use are completely up to you.</li>
</ol>
<p>Explore the stock data that you chose, constructing a line plot of the price through time, as well as any graphs or summaries that show interesting patterns across years, months, days, days of the week, etc.</p>
<ol start="11" style="list-style-type: decimal">
<li>Use the <code>lag()</code> function to create a new variable that is the previous day’s stock price. Can you predict the current stock price based on the previous day’s stock price accurately? Why or why not? Use either graphical or numerical evidence.</li>
</ol>
</div>
<div id="solutions-11" class="section level2" number="12.4">
<h2><span class="header-section-number">12.4</span> Exercise Solutions</h2>
<div id="converting-variables-to-date-s" class="section level3" number="12.4.1">
<h3><span class="header-section-number">12.4.1</span> Converting Variables to <code>&lt;date&gt;</code> S</h3>
<ol style="list-style-type: decimal">
<li>* What’s the issue with trying to convert <code>Date4</code> to a <code>&lt;date&gt;</code> form?</li>
</ol>
<div class="sourceCode" id="cb633"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb633-1"><a href="dates-with-lubridate.html#cb633-1" aria-hidden="true" tabindex="-1"></a>holiday_df <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">Date_test =</span> <span class="fu">ymd</span>(Date4)) <span class="sc">%&gt;%</span></span>
<span id="cb633-2"><a href="dates-with-lubridate.html#cb633-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Date_test, <span class="fu">everything</span>())</span></code></pre></div>
<pre><code>## Warning: 3 failed to parse.</code></pre>
<pre><code>## # A tibble: 6 x 12
##   Date_test  Date_test_plot Holiday  Date1  Date2  Date3 Date4 Date5 Month  Year
##   &lt;date&gt;     &lt;date&gt;         &lt;chr&gt;    &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1 2001-01-20 2020-01-01     New Yea… 1-Jan… Jan-1… 1/1/… 1/1/… 2020…     1  2020
## 2 2002-02-20 2020-02-02     Groundh… 2-Feb… Feb-2… 2/2/… 2/2/… 2020…     2  2020
## 3 NA         2020-02-14     Valenti… 14-Fe… Feb-1… 2/14… 2020… 2020…     2  2020
## 4 NA         2020-03-17     Shamroc… 17-Ma… Mar-1… 3/17… 2020… 2020…     3  2020
## 5 2012-04-20 2020-04-12     Bunny D… 12-Ap… Apr-1… 4/12… 12/4… 2020…     4  2020
## 6 NA         2020-04-22     Earth D… 22-Ap… Apr-2… 4/22… 2020… 2020…     4  2020
## # … with 2 more variables: Day &lt;dbl&gt;, Month2 &lt;chr&gt;</code></pre>
<div class="sourceCode" id="cb636"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb636-1"><a href="dates-with-lubridate.html#cb636-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Date4 has two __different__ formats, </span></span>
<span id="cb636-2"><a href="dates-with-lubridate.html#cb636-2" aria-hidden="true" tabindex="-1"></a><span class="do">## which creates problems for `lubridate` functions</span></span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>* Practice converting <code>Date3</code> and <code>Date5</code> to date objects with <code>lubridate</code> functions.</li>
</ol>
<div class="sourceCode" id="cb637"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb637-1"><a href="dates-with-lubridate.html#cb637-1" aria-hidden="true" tabindex="-1"></a>holiday_df <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">Date_test =</span> <span class="fu">mdy</span>(Date3)) <span class="sc">%&gt;%</span></span>
<span id="cb637-2"><a href="dates-with-lubridate.html#cb637-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Date_test, <span class="fu">everything</span>())</span></code></pre></div>
<pre><code>## # A tibble: 6 x 12
##   Date_test  Date_test_plot Holiday  Date1  Date2  Date3 Date4 Date5 Month  Year
##   &lt;date&gt;     &lt;date&gt;         &lt;chr&gt;    &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1 2020-01-01 2020-01-01     New Yea… 1-Jan… Jan-1… 1/1/… 1/1/… 2020…     1  2020
## 2 2020-02-02 2020-02-02     Groundh… 2-Feb… Feb-2… 2/2/… 2/2/… 2020…     2  2020
## 3 2020-02-14 2020-02-14     Valenti… 14-Fe… Feb-1… 2/14… 2020… 2020…     2  2020
## 4 2020-03-17 2020-03-17     Shamroc… 17-Ma… Mar-1… 3/17… 2020… 2020…     3  2020
## 5 2020-04-12 2020-04-12     Bunny D… 12-Ap… Apr-1… 4/12… 12/4… 2020…     4  2020
## 6 2020-04-22 2020-04-22     Earth D… 22-Ap… Apr-2… 4/22… 2020… 2020…     4  2020
## # … with 2 more variables: Day &lt;dbl&gt;, Month2 &lt;chr&gt;</code></pre>
<div class="sourceCode" id="cb639"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb639-1"><a href="dates-with-lubridate.html#cb639-1" aria-hidden="true" tabindex="-1"></a>holiday_df <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">Date_test =</span> <span class="fu">ymd</span>(Date5)) <span class="sc">%&gt;%</span></span>
<span id="cb639-2"><a href="dates-with-lubridate.html#cb639-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Date_test, <span class="fu">everything</span>())</span></code></pre></div>
<pre><code>## # A tibble: 6 x 12
##   Date_test  Date_test_plot Holiday  Date1  Date2  Date3 Date4 Date5 Month  Year
##   &lt;date&gt;     &lt;date&gt;         &lt;chr&gt;    &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1 2020-01-01 2020-01-01     New Yea… 1-Jan… Jan-1… 1/1/… 1/1/… 2020…     1  2020
## 2 2020-02-02 2020-02-02     Groundh… 2-Feb… Feb-2… 2/2/… 2/2/… 2020…     2  2020
## 3 2020-02-14 2020-02-14     Valenti… 14-Fe… Feb-1… 2/14… 2020… 2020…     2  2020
## 4 2020-03-17 2020-03-17     Shamroc… 17-Ma… Mar-1… 3/17… 2020… 2020…     3  2020
## 5 2020-04-12 2020-04-12     Bunny D… 12-Ap… Apr-1… 4/12… 12/4… 2020…     4  2020
## 6 2020-04-22 2020-04-22     Earth D… 22-Ap… Apr-2… 4/22… 2020… 2020…     4  2020
## # … with 2 more variables: Day &lt;dbl&gt;, Month2 &lt;chr&gt;</code></pre>
</div>
<div id="functions-for-date-variables-s" class="section level3" number="12.4.2">
<h3><span class="header-section-number">12.4.2</span> Functions for <code>&lt;date&gt;</code> Variables S</h3>
</div>
<div id="chapexercise-11-S" class="section level3" number="12.4.3">
<h3><span class="header-section-number">12.4.3</span> Chapter Exercises S</h3>
<ol style="list-style-type: decimal">
<li>* Use a <code>lubridate</code> function with the <code>truncated</code> option to convert the <code>Month</code> variable to be in the <code>&lt;date&gt;</code> format.</li>
</ol>
<div class="sourceCode" id="cb641"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb641-1"><a href="dates-with-lubridate.html#cb641-1" aria-hidden="true" tabindex="-1"></a>ds_df <span class="ot">&lt;-</span> ds_df <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">Month =</span> <span class="fu">ymd</span>(Month, <span class="at">truncated =</span> <span class="dv">1</span>))</span>
<span id="cb641-2"><a href="dates-with-lubridate.html#cb641-2" aria-hidden="true" tabindex="-1"></a>ds_df</span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>* Make a plot of the popularity of Data Science through Time. Add a smoother to your plot. What patterns do you notice?</li>
</ol>
<div class="sourceCode" id="cb642"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb642-1"><a href="dates-with-lubridate.html#cb642-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> ds_df, <span class="fu">aes</span>(<span class="at">x =</span> Month, <span class="at">y =</span> Data_Science)) <span class="sc">+</span></span>
<span id="cb642-2"><a href="dates-with-lubridate.html#cb642-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb642-3"><a href="dates-with-lubridate.html#cb642-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<pre><code>## `geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;</code></pre>
<p><img src="11-lubridate_files/figure-html/unnamed-chunk-28-1.png" width="672" /></p>
<div class="sourceCode" id="cb644"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb644-1"><a href="dates-with-lubridate.html#cb644-1" aria-hidden="true" tabindex="-1"></a><span class="do">## it&#39;s like super popular!!!!</span></span></code></pre></div>
<ol start="3" style="list-style-type: decimal">
<li>* On Google Trends, Enter in a search term, and change the Time dropdown menu to be 2004-present. Then, enter in a second search term that you want to compare. You can also change the country if you want to (or, you can keep the country as United States).</li>
</ol>
<p>My search terms will be “super smash” and “animal crossing,” but yours should be something that interests you!</p>
<p>In the top-right window of the graph, you should click the down arrow to download the data set. Delete the first two rows of your data set (either in Excel or <code>R</code>), read in the data set, and change the date variable so that it’s in a Date format.</p>
<div class="sourceCode" id="cb645"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb645-1"><a href="dates-with-lubridate.html#cb645-1" aria-hidden="true" tabindex="-1"></a>videogame_df <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/smash_animal_crossing.csv&quot;</span>)</span></code></pre></div>
<pre><code>## Parsed with column specification:
## cols(
##   Month = col_character(),
##   super_smash = col_double(),
##   animal_crossing = col_double()
## )</code></pre>
<div class="sourceCode" id="cb647"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb647-1"><a href="dates-with-lubridate.html#cb647-1" aria-hidden="true" tabindex="-1"></a>videogame_df <span class="ot">&lt;-</span> videogame_df <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">date =</span> <span class="fu">ymd</span>(Month, <span class="at">truncated =</span> <span class="dv">1</span>))</span></code></pre></div>
<ol start="4" style="list-style-type: decimal">
<li>* Make a plot of your Popularity variables through time. <strong>Hint</strong>: Does the data set need to be tidied at all first?</li>
</ol>
<div class="sourceCode" id="cb648"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb648-1"><a href="dates-with-lubridate.html#cb648-1" aria-hidden="true" tabindex="-1"></a>videogame_long <span class="ot">&lt;-</span> videogame_df <span class="sc">%&gt;%</span></span>
<span id="cb648-2"><a href="dates-with-lubridate.html#cb648-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">c</span>(<span class="st">&quot;super_smash&quot;</span>, <span class="st">&quot;animal_crossing&quot;</span>),</span>
<span id="cb648-3"><a href="dates-with-lubridate.html#cb648-3" aria-hidden="true" tabindex="-1"></a>                              <span class="at">names_to =</span> <span class="st">&quot;game&quot;</span>,</span>
<span id="cb648-4"><a href="dates-with-lubridate.html#cb648-4" aria-hidden="true" tabindex="-1"></a>                              <span class="at">values_to =</span> <span class="st">&quot;popularity&quot;</span>)</span>
<span id="cb648-5"><a href="dates-with-lubridate.html#cb648-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> videogame_long, <span class="fu">aes</span>(<span class="at">x =</span> date, </span>
<span id="cb648-6"><a href="dates-with-lubridate.html#cb648-6" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">y =</span> popularity,</span>
<span id="cb648-7"><a href="dates-with-lubridate.html#cb648-7" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">colour =</span> game)) <span class="sc">+</span></span>
<span id="cb648-8"><a href="dates-with-lubridate.html#cb648-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb648-9"><a href="dates-with-lubridate.html#cb648-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_colour_viridis_d</span>(<span class="at">begin =</span> <span class="dv">0</span>, <span class="at">end =</span> <span class="fl">0.9</span>)</span></code></pre></div>
<p><img src="11-lubridate_files/figure-html/unnamed-chunk-30-1.png" width="672" /></p>
<ol start="5" style="list-style-type: decimal">
<li><p>* Using your data set that explored a variable or two from 2004 through now, make a table of the <strong>average</strong> popularity for each year. <strong>Hint</strong>: You’ll need a lubridate function to extract the year variable from the date object.</p></li>
<li><p>* Clear your search and now enter a search term that you’d like to investigate for the past 90 days. Mine will be “pittsburgh steelers” but, again, yours should be something that interests you.</p></li>
</ol>
<p>Again, click the download button again and read in the data to <code>R</code>. Convert the date variable to be in <code>&lt;date&gt;</code> format.</p>
<div class="sourceCode" id="cb649"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb649-1"><a href="dates-with-lubridate.html#cb649-1" aria-hidden="true" tabindex="-1"></a>steelers_df <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/steelers.csv&quot;</span>)</span></code></pre></div>
<pre><code>## Parsed with column specification:
## cols(
##   Day = col_character(),
##   Steelers = col_double()
## )</code></pre>
<div class="sourceCode" id="cb651"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb651-1"><a href="dates-with-lubridate.html#cb651-1" aria-hidden="true" tabindex="-1"></a>steelers_df <span class="ot">&lt;-</span> steelers_df <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">day_var =</span> <span class="fu">mdy</span>(Day))</span></code></pre></div>
<ol start="7" style="list-style-type: decimal">
<li>* Make a plot of your popularity variable through time, adding a smoother.</li>
</ol>
<div class="sourceCode" id="cb652"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb652-1"><a href="dates-with-lubridate.html#cb652-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> steelers_df, <span class="fu">aes</span>(<span class="at">x =</span> day_var, <span class="at">y =</span> Steelers)) <span class="sc">+</span></span>
<span id="cb652-2"><a href="dates-with-lubridate.html#cb652-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>() <span class="sc">+</span> </span>
<span id="cb652-3"><a href="dates-with-lubridate.html#cb652-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb652-4"><a href="dates-with-lubridate.html#cb652-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">&quot;Popularity&quot;</span>)</span></code></pre></div>
<pre><code>## `geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;</code></pre>
<p><img src="11-lubridate_files/figure-html/unnamed-chunk-32-1.png" width="672" /></p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="merging-with-dplyr.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="strings-with-stringr.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": false,
"whatsapp": false
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub"],
"toc": {
"collapse": "section",
"scroll_highlight": true
},
"info": true
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
