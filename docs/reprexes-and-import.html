<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 9 Reprexes and Import | STAT 234: Data Science</title>
  <meta name="description" content="This book contains all examples for SLU’s Introduction to Data Science course." />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 9 Reprexes and Import | STAT 234: Data Science" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This book contains all examples for SLU’s Introduction to Data Science course." />
  <meta name="github-repo" content="highamm/datascience234" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 9 Reprexes and Import | STAT 234: Data Science" />
  
  <meta name="twitter:description" content="This book contains all examples for SLU’s Introduction to Data Science course." />
  

<meta name="author" content="Matt Higham" />


<meta name="date" content="2021-06-24" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="factors-with-forcats.html"/>
<link rel="next" href="data-ethics.html"/>
<script src="libs/header-attrs-2.6/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">STAT 234: Data Science</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Syllabus and Course Information</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#general-information"><i class="fa fa-check"></i><b>1.1</b> General Information</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#course-information"><i class="fa fa-check"></i><b>1.2</b> Course Information</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#general-course-outcomes"><i class="fa fa-check"></i><b>1.3</b> General Course Outcomes</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="index.html"><a href="index.html#use-of-r-and-rstudio"><i class="fa fa-check"></i><b>1.3.1</b> Use of <code>R</code> and <code>RStudio</code></a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#how-you-will-be-assessed"><i class="fa fa-check"></i><b>1.4</b> How You Will Be Assessed</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="index.html"><a href="index.html#breakdown"><i class="fa fa-check"></i><b>1.4.1</b> Breakdown</a></li>
<li class="chapter" data-level="1.4.2" data-path="index.html"><a href="index.html#grading-scale"><i class="fa fa-check"></i><b>1.4.2</b> Grading Scale</a></li>
<li class="chapter" data-level="1.4.3" data-path="index.html"><a href="index.html#rules-for-collaboration"><i class="fa fa-check"></i><b>1.4.3</b> Rules for Collaboration</a></li>
<li class="chapter" data-level="1.4.4" data-path="index.html"><a href="index.html#diversity-statement"><i class="fa fa-check"></i><b>1.4.4</b> Diversity Statement</a></li>
<li class="chapter" data-level="1.4.5" data-path="index.html"><a href="index.html#accessibility-statement"><i class="fa fa-check"></i><b>1.4.5</b> Accessibility Statement</a></li>
<li class="chapter" data-level="1.4.6" data-path="index.html"><a href="index.html#academic-dishonesty"><i class="fa fa-check"></i><b>1.4.6</b> Academic Dishonesty</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="index.html"><a href="index.html#tentative-schedule"><i class="fa fa-check"></i><b>1.5</b> Tentative Schedule</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>2</b> Getting Started with <code>R</code> and <code>R Studio</code></a>
<ul>
<li class="chapter" data-level="2.1" data-path="intro.html"><a href="intro.html#intro-to-r-and-r-studio"><i class="fa fa-check"></i><b>2.1</b> Intro to <code>R</code> and <code>R Studio</code></a></li>
<li class="chapter" data-level="2.2" data-path="intro.html"><a href="intro.html#what-are-r-r-studio-and-r-markdown"><i class="fa fa-check"></i><b>2.2</b> What are <code>R</code>, <code>R Studio</code>, and <code>R Markdown</code>?</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="intro.html"><a href="intro.html#r-packages-and-the-tidyverse"><i class="fa fa-check"></i><b>2.2.1</b> <code>R</code> Packages and the <code>tidyverse</code></a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="intro.html"><a href="intro.html#putting-code-in-a-.rmd-file"><i class="fa fa-check"></i><b>2.3</b> Putting Code in a <code>.Rmd</code> File</a></li>
<li class="chapter" data-level="2.4" data-path="intro.html"><a href="intro.html#alcohol-data-example"><i class="fa fa-check"></i><b>2.4</b> Alcohol Data Example</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="intro.html"><a href="intro.html#exercise-1-1"><i class="fa fa-check"></i><b>2.4.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="intro.html"><a href="intro.html#athlete-data-example"><i class="fa fa-check"></i><b>2.5</b> Athlete Data Example</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="intro.html"><a href="intro.html#exercise-1-2"><i class="fa fa-check"></i><b>2.5.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="intro.html"><a href="intro.html#finishing-up-common-errors-in-r"><i class="fa fa-check"></i><b>2.6</b> Finishing Up: Common Errors in <code>R</code></a></li>
<li class="chapter" data-level="2.7" data-path="intro.html"><a href="intro.html#chapexercise-1"><i class="fa fa-check"></i><b>2.7</b> Chapter Exercises</a></li>
<li class="chapter" data-level="2.8" data-path="intro.html"><a href="intro.html#solutions-1"><i class="fa fa-check"></i><b>2.8</b> Exercise Solutions</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="ggplot2.html"><a href="ggplot2.html"><i class="fa fa-check"></i><b>3</b> Plotting with <code>ggplot2</code></a>
<ul>
<li class="chapter" data-level="3.1" data-path="ggplot2.html"><a href="ggplot2.html#introduction-and-basic-terminology"><i class="fa fa-check"></i><b>3.1</b> Introduction and Basic Terminology</a></li>
<li class="chapter" data-level="3.2" data-path="ggplot2.html"><a href="ggplot2.html#basic-plot-structure"><i class="fa fa-check"></i><b>3.2</b> Basic Plot Structure</a></li>
<li class="chapter" data-level="3.3" data-path="ggplot2.html"><a href="ggplot2.html#graphing-a-single-variable"><i class="fa fa-check"></i><b>3.3</b> Graphing a Single Variable</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="ggplot2.html"><a href="ggplot2.html#histograms-and-frequency-plots-for-a-quantitative-variable"><i class="fa fa-check"></i><b>3.3.1</b> Histograms and Frequency Plots for a Quantitative Variable</a></li>
<li class="chapter" data-level="3.3.2" data-path="ggplot2.html"><a href="ggplot2.html#r-code-style"><i class="fa fa-check"></i><b>3.3.2</b> <code>R</code> Code Style</a></li>
<li class="chapter" data-level="3.3.3" data-path="ggplot2.html"><a href="ggplot2.html#bar-plots-for-a-categorical-variable"><i class="fa fa-check"></i><b>3.3.3</b> Bar Plots for a Categorical Variable</a></li>
<li class="chapter" data-level="3.3.4" data-path="ggplot2.html"><a href="ggplot2.html#exercise-2-1"><i class="fa fa-check"></i><b>3.3.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="ggplot2.html"><a href="ggplot2.html#graphing-two-quantitative-variables-faceting-and-aes-options"><i class="fa fa-check"></i><b>3.4</b> Graphing Two Quantitative Variables, Faceting, and <code>aes()</code> Options</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="ggplot2.html"><a href="ggplot2.html#scatterplots"><i class="fa fa-check"></i><b>3.4.1</b> Scatterplots</a></li>
<li class="chapter" data-level="3.4.2" data-path="ggplot2.html"><a href="ggplot2.html#aesthetics-in-aes"><i class="fa fa-check"></i><b>3.4.2</b> Aesthetics in <code>aes()</code></a></li>
<li class="chapter" data-level="3.4.3" data-path="ggplot2.html"><a href="ggplot2.html#using-more-than-one-geom"><i class="fa fa-check"></i><b>3.4.3</b> Using More Than One <code>geom()</code></a></li>
<li class="chapter" data-level="3.4.4" data-path="ggplot2.html"><a href="ggplot2.html#line-plots-with-geom_line"><i class="fa fa-check"></i><b>3.4.4</b> Line Plots with <code>geom_line()</code></a></li>
<li class="chapter" data-level="3.4.5" data-path="ggplot2.html"><a href="ggplot2.html#faceting"><i class="fa fa-check"></i><b>3.4.5</b> Faceting</a></li>
<li class="chapter" data-level="3.4.6" data-path="ggplot2.html"><a href="ggplot2.html#exercise-2-2"><i class="fa fa-check"></i><b>3.4.6</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="ggplot2.html"><a href="ggplot2.html#boxplots-stacked-barplots-and-others"><i class="fa fa-check"></i><b>3.5</b> Boxplots, Stacked Barplots and Others</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="ggplot2.html"><a href="ggplot2.html#graphing-a-quant.-variable-vs.-a-cat.-variable"><i class="fa fa-check"></i><b>3.5.1</b> Graphing a Quant. Variable vs. a Cat. Variable</a></li>
<li class="chapter" data-level="3.5.2" data-path="ggplot2.html"><a href="ggplot2.html#graphing-two-categorical-variables"><i class="fa fa-check"></i><b>3.5.2</b> Graphing Two Categorical Variables</a></li>
<li class="chapter" data-level="3.5.3" data-path="ggplot2.html"><a href="ggplot2.html#exercise-2-3"><i class="fa fa-check"></i><b>3.5.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="ggplot2.html"><a href="ggplot2.html#chapexercise-2"><i class="fa fa-check"></i><b>3.6</b> Chapter Exercises</a></li>
<li class="chapter" data-level="3.7" data-path="ggplot2.html"><a href="ggplot2.html#solutions-2"><i class="fa fa-check"></i><b>3.7</b> Exercise Solutions</a>
<ul>
<li class="chapter" data-level="3.7.1" data-path="ggplot2.html"><a href="ggplot2.html#introduction-etc.-s"><i class="fa fa-check"></i><b>3.7.1</b> Introduction etc. S</a></li>
<li class="chapter" data-level="3.7.2" data-path="ggplot2.html"><a href="ggplot2.html#basic-plot-structure-s"><i class="fa fa-check"></i><b>3.7.2</b> Basic Plot Structure S</a></li>
<li class="chapter" data-level="3.7.3" data-path="ggplot2.html"><a href="ggplot2.html#graphing-a-single-variable-s"><i class="fa fa-check"></i><b>3.7.3</b> Graphing a Single Variable S</a></li>
<li class="chapter" data-level="3.7.4" data-path="ggplot2.html"><a href="ggplot2.html#graphing-two-quant.-etc.-s"><i class="fa fa-check"></i><b>3.7.4</b> Graphing Two Quant. etc. S</a></li>
<li class="chapter" data-level="3.7.5" data-path="ggplot2.html"><a href="ggplot2.html#boxplots-stacked-etc.-s"><i class="fa fa-check"></i><b>3.7.5</b> Boxplots, Stacked, etc. S</a></li>
<li class="chapter" data-level="3.7.6" data-path="ggplot2.html"><a href="ggplot2.html#chapexercise-2-S"><i class="fa fa-check"></i><b>3.7.6</b> Chapter Exercises S</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="dplyr.html"><a href="dplyr.html"><i class="fa fa-check"></i><b>4</b> Wrangling with <code>dplyr</code></a>
<ul>
<li class="chapter" data-level="4.1" data-path="dplyr.html"><a href="dplyr.html#mutate-create-variables"><i class="fa fa-check"></i><b>4.1</b> <code>mutate()</code>: Create Variables</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="dplyr.html"><a href="dplyr.html#a-little-more-on-piping"><i class="fa fa-check"></i><b>4.1.1</b> A Little More on Piping</a></li>
<li class="chapter" data-level="4.1.2" data-path="dplyr.html"><a href="dplyr.html#if_else-and-case_when"><i class="fa fa-check"></i><b>4.1.2</b> <code>if_else()</code> and <code>case_when()</code></a></li>
<li class="chapter" data-level="4.1.3" data-path="dplyr.html"><a href="dplyr.html#exercise-3-1"><i class="fa fa-check"></i><b>4.1.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="dplyr.html"><a href="dplyr.html#arrange-select-and-slice-and-filter"><i class="fa fa-check"></i><b>4.2</b> <code>arrange()</code>, <code>select()</code>, and <code>slice()</code>, and <code>filter()</code></a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="dplyr.html"><a href="dplyr.html#arrange-ordering-rows"><i class="fa fa-check"></i><b>4.2.1</b> <code>arrange()</code>: Ordering Rows</a></li>
<li class="chapter" data-level="4.2.2" data-path="dplyr.html"><a href="dplyr.html#select-choose-columns"><i class="fa fa-check"></i><b>4.2.2</b> <code>select()</code> Choose Columns</a></li>
<li class="chapter" data-level="4.2.3" data-path="dplyr.html"><a href="dplyr.html#slice-and-filter-choose-rows"><i class="fa fa-check"></i><b>4.2.3</b> <code>slice()</code> and <code>filter()</code>: Choose Rows</a></li>
<li class="chapter" data-level="4.2.4" data-path="dplyr.html"><a href="dplyr.html#exercise-3-2"><i class="fa fa-check"></i><b>4.2.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="dplyr.html"><a href="dplyr.html#summarise-and-group_by-create-summaries"><i class="fa fa-check"></i><b>4.3</b> <code>summarise()</code> and <code>group_by()</code>: Create Summaries</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="dplyr.html"><a href="dplyr.html#group_by-groups"><i class="fa fa-check"></i><b>4.3.1</b> <code>group_by()</code>: Groups</a></li>
<li class="chapter" data-level="4.3.2" data-path="dplyr.html"><a href="dplyr.html#exercise-3-3"><i class="fa fa-check"></i><b>4.3.2</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="dplyr.html"><a href="dplyr.html#missing-values"><i class="fa fa-check"></i><b>4.4</b> Missing Values</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="dplyr.html"><a href="dplyr.html#exercise-3-4"><i class="fa fa-check"></i><b>4.4.1</b> Exercises</a></li>
<li class="chapter" data-level="4.4.2" data-path="dplyr.html"><a href="dplyr.html#removing-missing-values"><i class="fa fa-check"></i><b>4.4.2</b> Removing Missing Values</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="dplyr.html"><a href="dplyr.html#chapexercise-3"><i class="fa fa-check"></i><b>4.5</b> Chapter Exercises</a></li>
<li class="chapter" data-level="4.6" data-path="dplyr.html"><a href="dplyr.html#solutions-3"><i class="fa fa-check"></i><b>4.6</b> Exercise Solutions</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="dplyr.html"><a href="dplyr.html#mutate-s"><i class="fa fa-check"></i><b>4.6.1</b> <code>mutate()</code> S</a></li>
<li class="chapter" data-level="4.6.2" data-path="dplyr.html"><a href="dplyr.html#arrange-select-.-s"><i class="fa fa-check"></i><b>4.6.2</b> <code>arrange()</code>, <code>select()</code>, …. S</a></li>
<li class="chapter" data-level="4.6.3" data-path="dplyr.html"><a href="dplyr.html#summarise-and-group_by-s"><i class="fa fa-check"></i><b>4.6.3</b> <code>summarise()</code> and <code>group_by()</code> S</a></li>
<li class="chapter" data-level="4.6.4" data-path="dplyr.html"><a href="dplyr.html#missing-values-s"><i class="fa fa-check"></i><b>4.6.4</b> Missing Values S</a></li>
<li class="chapter" data-level="4.6.5" data-path="dplyr.html"><a href="dplyr.html#chapexercise-3-S"><i class="fa fa-check"></i><b>4.6.5</b> Chapter Exercises S</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="tidying-with-tidyr.html"><a href="tidying-with-tidyr.html"><i class="fa fa-check"></i><b>5</b> Tidying with <code>tidyr</code></a>
<ul>
<li class="chapter" data-level="5.1" data-path="tidying-with-tidyr.html"><a href="tidying-with-tidyr.html#what-is-tidy-data"><i class="fa fa-check"></i><b>5.1</b> What is Tidy Data?</a></li>
<li class="chapter" data-level="5.2" data-path="tidying-with-tidyr.html"><a href="tidying-with-tidyr.html#separate-and-unite-columns"><i class="fa fa-check"></i><b>5.2</b> <code>separate()</code> and <code>unite()</code> Columns</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="tidying-with-tidyr.html"><a href="tidying-with-tidyr.html#separate-a-column"><i class="fa fa-check"></i><b>5.2.1</b> <code>separate()</code> a Column</a></li>
<li class="chapter" data-level="5.2.2" data-path="tidying-with-tidyr.html"><a href="tidying-with-tidyr.html#unite-columns"><i class="fa fa-check"></i><b>5.2.2</b> <code>unite()</code> Columns</a></li>
<li class="chapter" data-level="5.2.3" data-path="tidying-with-tidyr.html"><a href="tidying-with-tidyr.html#column-names-and-rename"><i class="fa fa-check"></i><b>5.2.3</b> Column Names and <code>rename()</code></a></li>
<li class="chapter" data-level="5.2.4" data-path="tidying-with-tidyr.html"><a href="tidying-with-tidyr.html#exercise-4-1"><i class="fa fa-check"></i><b>5.2.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="tidying-with-tidyr.html"><a href="tidying-with-tidyr.html#reshaping-with-pivot_"><i class="fa fa-check"></i><b>5.3</b> Reshaping with <code>pivot_()</code></a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="tidying-with-tidyr.html"><a href="tidying-with-tidyr.html#pivot_longer-to-gather-columns"><i class="fa fa-check"></i><b>5.3.1</b> <code>pivot_longer()</code> to Gather Columns</a></li>
<li class="chapter" data-level="5.3.2" data-path="tidying-with-tidyr.html"><a href="tidying-with-tidyr.html#pivot_wider-to-spread-to-multiple-columns"><i class="fa fa-check"></i><b>5.3.2</b> <code>pivot_wider()</code> to Spread to Multiple Columns</a></li>
<li class="chapter" data-level="5.3.3" data-path="tidying-with-tidyr.html"><a href="tidying-with-tidyr.html#exercise-4-2"><i class="fa fa-check"></i><b>5.3.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="tidying-with-tidyr.html"><a href="tidying-with-tidyr.html#skimming-data-with-skimr"><i class="fa fa-check"></i><b>5.4</b> Skimming Data with <code>skimr</code></a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="tidying-with-tidyr.html"><a href="tidying-with-tidyr.html#exercises-exercise-4-3"><i class="fa fa-check"></i><b>5.4.1</b> Exercises {exercise-4-3}</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="tidying-with-tidyr.html"><a href="tidying-with-tidyr.html#chapexercise-4"><i class="fa fa-check"></i><b>5.5</b> Chapter Exercises</a></li>
<li class="chapter" data-level="5.6" data-path="tidying-with-tidyr.html"><a href="tidying-with-tidyr.html#solutions-4"><i class="fa fa-check"></i><b>5.6</b> Exercise Solutions</a>
<ul>
<li class="chapter" data-level="5.6.1" data-path="tidying-with-tidyr.html"><a href="tidying-with-tidyr.html#what-is-tidy-data-s"><i class="fa fa-check"></i><b>5.6.1</b> What is Tidy Data? S</a></li>
<li class="chapter" data-level="5.6.2" data-path="tidying-with-tidyr.html"><a href="tidying-with-tidyr.html#separate-and-unite-s"><i class="fa fa-check"></i><b>5.6.2</b> <code>separate()</code> and <code>unite()</code> S</a></li>
<li class="chapter" data-level="5.6.3" data-path="tidying-with-tidyr.html"><a href="tidying-with-tidyr.html#pivot_-s"><i class="fa fa-check"></i><b>5.6.3</b> <code>pivot_()</code> S</a></li>
<li class="chapter" data-level="5.6.4" data-path="tidying-with-tidyr.html"><a href="tidying-with-tidyr.html#skimming-data-with-skimr-s"><i class="fa fa-check"></i><b>5.6.4</b> Skimming Data with <code>skimr()</code> S</a></li>
<li class="chapter" data-level="5.6.5" data-path="tidying-with-tidyr.html"><a href="tidying-with-tidyr.html#chapexercise-4-S"><i class="fa fa-check"></i><b>5.6.5</b> Chapter Exercises S</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="communication-with-rmarkdown.html"><a href="communication-with-rmarkdown.html"><i class="fa fa-check"></i><b>6</b> Communication with <code>RMarkdown</code></a>
<ul>
<li class="chapter" data-level="6.1" data-path="communication-with-rmarkdown.html"><a href="communication-with-rmarkdown.html#reproducbility"><i class="fa fa-check"></i><b>6.1</b> Reproducbility</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="communication-with-rmarkdown.html"><a href="communication-with-rmarkdown.html#r-scripts-vs.-r-markdown"><i class="fa fa-check"></i><b>6.1.1</b> <code>R</code> Scripts vs. <code>R Markdown</code></a></li>
<li class="chapter" data-level="6.1.2" data-path="communication-with-rmarkdown.html"><a href="communication-with-rmarkdown.html#spell-checking"><i class="fa fa-check"></i><b>6.1.2</b> Spell-Checking</a></li>
<li class="chapter" data-level="6.1.3" data-path="communication-with-rmarkdown.html"><a href="communication-with-rmarkdown.html#exercise-5-1"><i class="fa fa-check"></i><b>6.1.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="communication-with-rmarkdown.html"><a href="communication-with-rmarkdown.html#r-markdown-files"><i class="fa fa-check"></i><b>6.2</b> <code>R Markdown</code> Files</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="communication-with-rmarkdown.html"><a href="communication-with-rmarkdown.html#code-chunk-options"><i class="fa fa-check"></i><b>6.2.1</b> Code Chunk Options</a></li>
<li class="chapter" data-level="6.2.2" data-path="communication-with-rmarkdown.html"><a href="communication-with-rmarkdown.html#figures-and-tables"><i class="fa fa-check"></i><b>6.2.2</b> Figures and Tables</a></li>
<li class="chapter" data-level="6.2.3" data-path="communication-with-rmarkdown.html"><a href="communication-with-rmarkdown.html#non-code-options"><i class="fa fa-check"></i><b>6.2.3</b> Non-Code Options</a></li>
<li class="chapter" data-level="6.2.4" data-path="communication-with-rmarkdown.html"><a href="communication-with-rmarkdown.html#yaml"><i class="fa fa-check"></i><b>6.2.4</b> YAML</a></li>
<li class="chapter" data-level="6.2.5" data-path="communication-with-rmarkdown.html"><a href="communication-with-rmarkdown.html#exercise-5-2"><i class="fa fa-check"></i><b>6.2.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="communication-with-rmarkdown.html"><a href="communication-with-rmarkdown.html#ggplot2-communication"><i class="fa fa-check"></i><b>6.3</b> <code>ggplot2</code> Communication</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="communication-with-rmarkdown.html"><a href="communication-with-rmarkdown.html#change-labels-and-titles"><i class="fa fa-check"></i><b>6.3.1</b> Change Labels and Titles</a></li>
<li class="chapter" data-level="6.3.2" data-path="communication-with-rmarkdown.html"><a href="communication-with-rmarkdown.html#changing-x-and-y-axis-limits"><i class="fa fa-check"></i><b>6.3.2</b> Changing x and y axis Limits</a></li>
<li class="chapter" data-level="6.3.3" data-path="communication-with-rmarkdown.html"><a href="communication-with-rmarkdown.html#changing-a-colour-scale"><i class="fa fa-check"></i><b>6.3.3</b> Changing A Colour Scale</a></li>
<li class="chapter" data-level="6.3.4" data-path="communication-with-rmarkdown.html"><a href="communication-with-rmarkdown.html#labeling-points-or-lines-of-interest"><i class="fa fa-check"></i><b>6.3.4</b> Labeling Points or Lines of Interest</a></li>
<li class="chapter" data-level="6.3.5" data-path="communication-with-rmarkdown.html"><a href="communication-with-rmarkdown.html#plot-themes"><i class="fa fa-check"></i><b>6.3.5</b> Plot Themes</a></li>
<li class="chapter" data-level="6.3.6" data-path="communication-with-rmarkdown.html"><a href="communication-with-rmarkdown.html#exercise-5-3"><i class="fa fa-check"></i><b>6.3.6</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="communication-with-rmarkdown.html"><a href="communication-with-rmarkdown.html#chapexercise-5"><i class="fa fa-check"></i><b>6.4</b> Chapter Exercises</a></li>
<li class="chapter" data-level="6.5" data-path="communication-with-rmarkdown.html"><a href="communication-with-rmarkdown.html#solutions-5"><i class="fa fa-check"></i><b>6.5</b> Exercise Solutions</a>
<ul>
<li class="chapter" data-level="6.5.1" data-path="communication-with-rmarkdown.html"><a href="communication-with-rmarkdown.html#reproducibility-s"><i class="fa fa-check"></i><b>6.5.1</b> Reproducibility S</a></li>
<li class="chapter" data-level="6.5.2" data-path="communication-with-rmarkdown.html"><a href="communication-with-rmarkdown.html#r-markdown-files-s"><i class="fa fa-check"></i><b>6.5.2</b> <code>R Markdown</code> Files S</a></li>
<li class="chapter" data-level="6.5.3" data-path="communication-with-rmarkdown.html"><a href="communication-with-rmarkdown.html#ggplot2-communication-s"><i class="fa fa-check"></i><b>6.5.3</b> <code>ggplot2</code> Communication S</a></li>
<li class="chapter" data-level="6.5.4" data-path="communication-with-rmarkdown.html"><a href="communication-with-rmarkdown.html#chapexercise-5-S"><i class="fa fa-check"></i><b>6.5.4</b> Chapter Exercises S</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="r-basics.html"><a href="r-basics.html"><i class="fa fa-check"></i><b>7</b> <code>R</code> Basics</a>
<ul>
<li class="chapter" data-level="7.1" data-path="r-basics.html"><a href="r-basics.html#variable-classes-in-r"><i class="fa fa-check"></i><b>7.1</b> Variable Classes in <code>R</code></a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="r-basics.html"><a href="r-basics.html#referencing-variables-and-using-str"><i class="fa fa-check"></i><b>7.1.1</b> Referencing Variables and Using <code>str()</code></a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="r-basics.html"><a href="r-basics.html#classes-in-detail"><i class="fa fa-check"></i><b>7.2</b> Classes in Detail</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="r-basics.html"><a href="r-basics.html#chr-and-fct-class"><i class="fa fa-check"></i><b>7.2.1</b> <code>&lt;chr&gt;</code> and <code>&lt;fct&gt;</code> Class</a></li>
<li class="chapter" data-level="7.2.2" data-path="r-basics.html"><a href="r-basics.html#date-class"><i class="fa fa-check"></i><b>7.2.2</b> <code>&lt;date&gt;</code> Class</a></li>
<li class="chapter" data-level="7.2.3" data-path="r-basics.html"><a href="r-basics.html#dbl-and-int-class"><i class="fa fa-check"></i><b>7.2.3</b> <code>&lt;dbl&gt;</code> and <code>&lt;int&gt;</code> Class</a></li>
<li class="chapter" data-level="7.2.4" data-path="r-basics.html"><a href="r-basics.html#lgl-class"><i class="fa fa-check"></i><b>7.2.4</b> <code>&lt;lgl&gt;</code> Class</a></li>
<li class="chapter" data-level="7.2.5" data-path="r-basics.html"><a href="r-basics.html#exercise-6-1"><i class="fa fa-check"></i><b>7.2.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="r-basics.html"><a href="r-basics.html#object-types-and-subsetting"><i class="fa fa-check"></i><b>7.3</b> Object Types and Subsetting</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="r-basics.html"><a href="r-basics.html#tibble-and-data.frame"><i class="fa fa-check"></i><b>7.3.1</b> <code>tibble</code> and <code>data.frame</code></a></li>
<li class="chapter" data-level="7.3.2" data-path="r-basics.html"><a href="r-basics.html#vectors"><i class="fa fa-check"></i><b>7.3.2</b> Vectors</a></li>
<li class="chapter" data-level="7.3.3" data-path="r-basics.html"><a href="r-basics.html#lists"><i class="fa fa-check"></i><b>7.3.3</b> Lists</a></li>
<li class="chapter" data-level="7.3.4" data-path="r-basics.html"><a href="r-basics.html#exercise-6-2"><i class="fa fa-check"></i><b>7.3.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="r-basics.html"><a href="r-basics.html#piping-with-magrittr"><i class="fa fa-check"></i><b>7.4</b> Piping with <code>magrittr</code></a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="r-basics.html"><a href="r-basics.html#when-you-cant-use-the-pipe"><i class="fa fa-check"></i><b>7.4.1</b> When You Can’t Use the Pipe</a></li>
<li class="chapter" data-level="7.4.2" data-path="r-basics.html"><a href="r-basics.html#exercise-6-3"><i class="fa fa-check"></i><b>7.4.2</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="r-basics.html"><a href="r-basics.html#r-cleanup-other-topics"><i class="fa fa-check"></i><b>7.5</b> <code>R</code> Cleanup: Other Topics</a>
<ul>
<li class="chapter" data-level="7.5.1" data-path="r-basics.html"><a href="r-basics.html#r-projects-and-working-directories"><i class="fa fa-check"></i><b>7.5.1</b> <code>R Projects</code> and Working Directories</a></li>
<li class="chapter" data-level="7.5.2" data-path="r-basics.html"><a href="r-basics.html#r-studio-server"><i class="fa fa-check"></i><b>7.5.2</b> <code>R Studio</code> Server</a></li>
<li class="chapter" data-level="7.5.3" data-path="r-basics.html"><a href="r-basics.html#installing-r-packages"><i class="fa fa-check"></i><b>7.5.3</b> Installing <code>R</code> Packages</a></li>
<li class="chapter" data-level="7.5.4" data-path="r-basics.html"><a href="r-basics.html#exercise-6-4"><i class="fa fa-check"></i><b>7.5.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="r-basics.html"><a href="r-basics.html#chapexercise-6"><i class="fa fa-check"></i><b>7.6</b> Chapter Exercises</a></li>
<li class="chapter" data-level="7.7" data-path="r-basics.html"><a href="r-basics.html#solutions-6"><i class="fa fa-check"></i><b>7.7</b> Exercise Solutions</a>
<ul>
<li class="chapter" data-level="7.7.1" data-path="r-basics.html"><a href="r-basics.html#variable-classes-s"><i class="fa fa-check"></i><b>7.7.1</b> Variable Classes S</a></li>
<li class="chapter" data-level="7.7.2" data-path="r-basics.html"><a href="r-basics.html#classes-in-detail-s"><i class="fa fa-check"></i><b>7.7.2</b> Classes in Detail S</a></li>
<li class="chapter" data-level="7.7.3" data-path="r-basics.html"><a href="r-basics.html#object-types-s"><i class="fa fa-check"></i><b>7.7.3</b> Object Types S</a></li>
<li class="chapter" data-level="7.7.4" data-path="r-basics.html"><a href="r-basics.html#piping-s"><i class="fa fa-check"></i><b>7.7.4</b> Piping S</a></li>
<li class="chapter" data-level="7.7.5" data-path="r-basics.html"><a href="r-basics.html#other-r-topics-s"><i class="fa fa-check"></i><b>7.7.5</b> Other R Topics S</a></li>
<li class="chapter" data-level="7.7.6" data-path="r-basics.html"><a href="r-basics.html#chapexercise-6-S"><i class="fa fa-check"></i><b>7.7.6</b> Chapter Exercises S</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="factors-with-forcats.html"><a href="factors-with-forcats.html"><i class="fa fa-check"></i><b>8</b> Factors with <code>forcats</code></a>
<ul>
<li class="chapter" data-level="8.1" data-path="factors-with-forcats.html"><a href="factors-with-forcats.html#change-factor-levels"><i class="fa fa-check"></i><b>8.1</b> Change Factor Levels</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="factors-with-forcats.html"><a href="factors-with-forcats.html#fct_recode-to-rename-levels"><i class="fa fa-check"></i><b>8.1.1</b> <code>fct_recode()</code> to Rename Levels</a></li>
<li class="chapter" data-level="8.1.2" data-path="factors-with-forcats.html"><a href="factors-with-forcats.html#collapsing-many-levels-into-fewer-levels-with-fct_collapse"><i class="fa fa-check"></i><b>8.1.2</b> Collapsing Many Levels Into Fewer Levels with <code>fct_collapse()</code></a></li>
<li class="chapter" data-level="8.1.3" data-path="factors-with-forcats.html"><a href="factors-with-forcats.html#exercise-7-1"><i class="fa fa-check"></i><b>8.1.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="factors-with-forcats.html"><a href="factors-with-forcats.html#reorder-factor-levels"><i class="fa fa-check"></i><b>8.2</b> Reorder Factor Levels</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="factors-with-forcats.html"><a href="factors-with-forcats.html#change-the-order-of-levels-by-a-quantitative-variable-with-fct_reorder"><i class="fa fa-check"></i><b>8.2.1</b> Change the Order of Levels by a Quantitative Variable with <code>fct_reorder()</code></a></li>
<li class="chapter" data-level="8.2.2" data-path="factors-with-forcats.html"><a href="factors-with-forcats.html#re-leveling-by-two-quantitative-variables-with-fct_reorder2"><i class="fa fa-check"></i><b>8.2.2</b> Re-Leveling By Two Quantitative Variables with <code>fct_reorder2()</code></a></li>
<li class="chapter" data-level="8.2.3" data-path="factors-with-forcats.html"><a href="factors-with-forcats.html#reordering-levels-manually-with-fct_relevel"><i class="fa fa-check"></i><b>8.2.3</b> Reordering Levels Manually with <code>fct_relevel()</code></a></li>
<li class="chapter" data-level="8.2.4" data-path="factors-with-forcats.html"><a href="factors-with-forcats.html#exercise-7-2"><i class="fa fa-check"></i><b>8.2.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="factors-with-forcats.html"><a href="factors-with-forcats.html#chapexercise-7"><i class="fa fa-check"></i><b>8.3</b> Chapter Exercises</a></li>
<li class="chapter" data-level="8.4" data-path="factors-with-forcats.html"><a href="factors-with-forcats.html#solutions-7"><i class="fa fa-check"></i><b>8.4</b> Exercise Solutions</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="factors-with-forcats.html"><a href="factors-with-forcats.html#change-factor-levels-s"><i class="fa fa-check"></i><b>8.4.1</b> Change Factor Levels S</a></li>
<li class="chapter" data-level="8.4.2" data-path="factors-with-forcats.html"><a href="factors-with-forcats.html#reorder-factor-levels-s"><i class="fa fa-check"></i><b>8.4.2</b> Reorder Factor Levels S</a></li>
<li class="chapter" data-level="8.4.3" data-path="factors-with-forcats.html"><a href="factors-with-forcats.html#chapexercise-7-S"><i class="fa fa-check"></i><b>8.4.3</b> Chapter Exercises S</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="reprexes-and-import.html"><a href="reprexes-and-import.html"><i class="fa fa-check"></i><b>9</b> Reprexes and Import</a>
<ul>
<li class="chapter" data-level="9.1" data-path="reprexes-and-import.html"><a href="reprexes-and-import.html#reprexes-and-tibble"><i class="fa fa-check"></i><b>9.1</b> Reprexes and <code>tibble</code></a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="reprexes-and-import.html"><a href="reprexes-and-import.html#exercise-8-1"><i class="fa fa-check"></i><b>9.1.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="reprexes-and-import.html"><a href="reprexes-and-import.html#readr-to-read-in-data"><i class="fa fa-check"></i><b>9.2</b> <code>readr</code> to Read in Data</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="reprexes-and-import.html"><a href="reprexes-and-import.html#read_csv-options"><i class="fa fa-check"></i><b>9.2.1</b> <code>read_csv()</code> Options</a></li>
<li class="chapter" data-level="9.2.2" data-path="reprexes-and-import.html"><a href="reprexes-and-import.html#exercise-8-2"><i class="fa fa-check"></i><b>9.2.2</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="reprexes-and-import.html"><a href="reprexes-and-import.html#data-scraping-with-rvest"><i class="fa fa-check"></i><b>9.3</b> Data Scraping with <code>rvest</code></a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="reprexes-and-import.html"><a href="reprexes-and-import.html#exercise-8-3"><i class="fa fa-check"></i><b>9.3.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="reprexes-and-import.html"><a href="reprexes-and-import.html#json-files-with-jsonlite"><i class="fa fa-check"></i><b>9.4</b> JSON Files with <code>jsonlite</code></a>
<ul>
<li class="chapter" data-level="9.4.1" data-path="reprexes-and-import.html"><a href="reprexes-and-import.html#everything-working-well"><i class="fa fa-check"></i><b>9.4.1</b> Everything Working Well</a></li>
<li class="chapter" data-level="9.4.2" data-path="reprexes-and-import.html"><a href="reprexes-and-import.html#things-arent-always-so-easy"><i class="fa fa-check"></i><b>9.4.2</b> Things Aren’t Always So Easy</a></li>
<li class="chapter" data-level="9.4.3" data-path="reprexes-and-import.html"><a href="reprexes-and-import.html#exercise-8-4"><i class="fa fa-check"></i><b>9.4.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="reprexes-and-import.html"><a href="reprexes-and-import.html#chapexercise-8"><i class="fa fa-check"></i><b>9.5</b> Chapter Exercises</a></li>
<li class="chapter" data-level="9.6" data-path="reprexes-and-import.html"><a href="reprexes-and-import.html#solutions-8"><i class="fa fa-check"></i><b>9.6</b> Exercise Solutions</a>
<ul>
<li class="chapter" data-level="9.6.1" data-path="reprexes-and-import.html"><a href="reprexes-and-import.html#reprexes-and-tibble-s"><i class="fa fa-check"></i><b>9.6.1</b> Reprexes and <code>tibble</code> S</a></li>
<li class="chapter" data-level="9.6.2" data-path="reprexes-and-import.html"><a href="reprexes-and-import.html#readr-s"><i class="fa fa-check"></i><b>9.6.2</b> <code>readr</code> S</a></li>
<li class="chapter" data-level="9.6.3" data-path="reprexes-and-import.html"><a href="reprexes-and-import.html#rvest-and-data-scraping-s"><i class="fa fa-check"></i><b>9.6.3</b> <code>rvest</code> and Data Scraping S</a></li>
<li class="chapter" data-level="9.6.4" data-path="reprexes-and-import.html"><a href="reprexes-and-import.html#json-with-jsonlite-s"><i class="fa fa-check"></i><b>9.6.4</b> JSON with <code>jsonlite</code> S</a></li>
<li class="chapter" data-level="9.6.5" data-path="reprexes-and-import.html"><a href="reprexes-and-import.html#chapexercise-8-S"><i class="fa fa-check"></i><b>9.6.5</b> Chapter Exercises S</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="data-ethics.html"><a href="data-ethics.html"><i class="fa fa-check"></i><b>10</b> Data Ethics</a>
<ul>
<li class="chapter" data-level="10.1" data-path="data-ethics.html"><a href="data-ethics.html#ethical-examples"><i class="fa fa-check"></i><b>10.1</b> Ethical Examples</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="data-ethics.html"><a href="data-ethics.html#exercise-9-1"><i class="fa fa-check"></i><b>10.1.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="data-ethics.html"><a href="data-ethics.html#data-privacy"><i class="fa fa-check"></i><b>10.2</b> Data Privacy</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="data-ethics.html"><a href="data-ethics.html#exercise-9-2"><i class="fa fa-check"></i><b>10.2.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="data-ethics.html"><a href="data-ethics.html#hypothesis-generation-vs.-confirmation"><i class="fa fa-check"></i><b>10.3</b> Hypothesis Generation vs. Confirmation</a>
<ul>
<li class="chapter" data-level="10.3.1" data-path="data-ethics.html"><a href="data-ethics.html#exercise-9-3"><i class="fa fa-check"></i><b>10.3.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="data-ethics.html"><a href="data-ethics.html#chapexercise-9"><i class="fa fa-check"></i><b>10.4</b> Chapter Exercises</a></li>
<li class="chapter" data-level="10.5" data-path="data-ethics.html"><a href="data-ethics.html#solutions-9"><i class="fa fa-check"></i><b>10.5</b> Exercise Solutions</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="merging-with-dplyr.html"><a href="merging-with-dplyr.html"><i class="fa fa-check"></i><b>11</b> Merging with <code>dplyr</code></a>
<ul>
<li class="chapter" data-level="11.1" data-path="merging-with-dplyr.html"><a href="merging-with-dplyr.html#stacking-rows-and-appending-columns"><i class="fa fa-check"></i><b>11.1</b> Stacking Rows and Appending Columns</a>
<ul>
<li class="chapter" data-level="11.1.1" data-path="merging-with-dplyr.html"><a href="merging-with-dplyr.html#stacking-with-bind_rows"><i class="fa fa-check"></i><b>11.1.1</b> Stacking with <code>bind_rows()</code></a></li>
<li class="chapter" data-level="11.1.2" data-path="merging-with-dplyr.html"><a href="merging-with-dplyr.html#binding-columns-with-bind_cols"><i class="fa fa-check"></i><b>11.1.2</b> Binding Columns with <code>bind_cols()</code></a></li>
<li class="chapter" data-level="11.1.3" data-path="merging-with-dplyr.html"><a href="merging-with-dplyr.html#exercise-10-1"><i class="fa fa-check"></i><b>11.1.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="merging-with-dplyr.html"><a href="merging-with-dplyr.html#mutating-joins"><i class="fa fa-check"></i><b>11.2</b> Mutating Joins</a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="merging-with-dplyr.html"><a href="merging-with-dplyr.html#keep-all-rows-of-data-set-1-with-left_join"><i class="fa fa-check"></i><b>11.2.1</b> Keep All Rows of Data Set 1 with <code>left_join()</code></a></li>
<li class="chapter" data-level="11.2.2" data-path="merging-with-dplyr.html"><a href="merging-with-dplyr.html#keep-all-rows-of-data-set-2-with-right_join"><i class="fa fa-check"></i><b>11.2.2</b> Keep All Rows of Data Set 2 with <code>right_join()</code></a></li>
<li class="chapter" data-level="11.2.3" data-path="merging-with-dplyr.html"><a href="merging-with-dplyr.html#keep-all-rows-of-both-data-sets-with-full_join"><i class="fa fa-check"></i><b>11.2.3</b> Keep All Rows of Both Data Sets with <code>full_join()</code></a></li>
<li class="chapter" data-level="11.2.4" data-path="merging-with-dplyr.html"><a href="merging-with-dplyr.html#keep-only-rows-with-matching-keys-with-inner_join"><i class="fa fa-check"></i><b>11.2.4</b> Keep Only Rows with Matching Keys with <code>inner_join()</code></a></li>
<li class="chapter" data-level="11.2.5" data-path="merging-with-dplyr.html"><a href="merging-with-dplyr.html#which-xxxx_join"><i class="fa fa-check"></i><b>11.2.5</b> Which <code>xxxx_join()</code>?</a></li>
<li class="chapter" data-level="11.2.6" data-path="merging-with-dplyr.html"><a href="merging-with-dplyr.html#the-importance-of-a-good-key"><i class="fa fa-check"></i><b>11.2.6</b> The Importance of a Good Key</a></li>
<li class="chapter" data-level="11.2.7" data-path="merging-with-dplyr.html"><a href="merging-with-dplyr.html#exercise-10-2"><i class="fa fa-check"></i><b>11.2.7</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="merging-with-dplyr.html"><a href="merging-with-dplyr.html#filtering-joins"><i class="fa fa-check"></i><b>11.3</b> Filtering Joins</a>
<ul>
<li class="chapter" data-level="11.3.1" data-path="merging-with-dplyr.html"><a href="merging-with-dplyr.html#filtering-with-anti_join"><i class="fa fa-check"></i><b>11.3.1</b> Filtering with <code>anti_join()</code></a></li>
<li class="chapter" data-level="11.3.2" data-path="merging-with-dplyr.html"><a href="merging-with-dplyr.html#exercise-10-3"><i class="fa fa-check"></i><b>11.3.2</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="merging-with-dplyr.html"><a href="merging-with-dplyr.html#a-note-on-sql"><i class="fa fa-check"></i><b>11.4</b> A Note on SQL</a></li>
<li class="chapter" data-level="11.5" data-path="merging-with-dplyr.html"><a href="merging-with-dplyr.html#chapexercise-10"><i class="fa fa-check"></i><b>11.5</b> Chapter Exercises</a></li>
<li class="chapter" data-level="11.6" data-path="merging-with-dplyr.html"><a href="merging-with-dplyr.html#solutions-10"><i class="fa fa-check"></i><b>11.6</b> Exercise Solutions</a>
<ul>
<li class="chapter" data-level="11.6.1" data-path="merging-with-dplyr.html"><a href="merging-with-dplyr.html#bind_rows-and-bind_cols-s"><i class="fa fa-check"></i><b>11.6.1</b> <code>bind_rows()</code> and <code>bind_cols()</code> S</a></li>
<li class="chapter" data-level="11.6.2" data-path="merging-with-dplyr.html"><a href="merging-with-dplyr.html#mutating-joins-s"><i class="fa fa-check"></i><b>11.6.2</b> Mutating Joins S</a></li>
<li class="chapter" data-level="11.6.3" data-path="merging-with-dplyr.html"><a href="merging-with-dplyr.html#filtering-joins-s"><i class="fa fa-check"></i><b>11.6.3</b> Filtering Joins S</a></li>
<li class="chapter" data-level="11.6.4" data-path="merging-with-dplyr.html"><a href="merging-with-dplyr.html#chapexercise-10-S"><i class="fa fa-check"></i><b>11.6.4</b> Chapter Exercises S</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="dates-with-lubridate.html"><a href="dates-with-lubridate.html"><i class="fa fa-check"></i><b>12</b> Dates with <code>lubridate</code></a>
<ul>
<li class="chapter" data-level="12.1" data-path="dates-with-lubridate.html"><a href="dates-with-lubridate.html#converting-variables-to-date"><i class="fa fa-check"></i><b>12.1</b> Converting Variables to <code>&lt;date&gt;</code></a>
<ul>
<li class="chapter" data-level="12.1.1" data-path="dates-with-lubridate.html"><a href="dates-with-lubridate.html#from-chr-to-date"><i class="fa fa-check"></i><b>12.1.1</b> From <code>&lt;chr&gt;</code> to <code>&lt;date&gt;</code></a></li>
<li class="chapter" data-level="12.1.2" data-path="dates-with-lubridate.html"><a href="dates-with-lubridate.html#making-a-date-variable-from-date-components"><i class="fa fa-check"></i><b>12.1.2</b> Making a <code>&lt;date&gt;</code> variable from Date Components</a></li>
<li class="chapter" data-level="12.1.3" data-path="dates-with-lubridate.html"><a href="dates-with-lubridate.html#exercise-11-1"><i class="fa fa-check"></i><b>12.1.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="12.2" data-path="dates-with-lubridate.html"><a href="dates-with-lubridate.html#functions-for-date-variables"><i class="fa fa-check"></i><b>12.2</b> Functions for <code>&lt;date&gt;</code> Variables</a>
<ul>
<li class="chapter" data-level="12.2.1" data-path="dates-with-lubridate.html"><a href="dates-with-lubridate.html#year-month-and-mday"><i class="fa fa-check"></i><b>12.2.1</b> <code>year()</code>, <code>month()</code>, and <code>mday()</code></a></li>
<li class="chapter" data-level="12.2.2" data-path="dates-with-lubridate.html"><a href="dates-with-lubridate.html#yday-and-wday"><i class="fa fa-check"></i><b>12.2.2</b> <code>yday()</code> and <code>wday()</code></a></li>
<li class="chapter" data-level="12.2.3" data-path="dates-with-lubridate.html"><a href="dates-with-lubridate.html#exercise-11-2"><i class="fa fa-check"></i><b>12.2.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="dates-with-lubridate.html"><a href="dates-with-lubridate.html#chapexercise-11"><i class="fa fa-check"></i><b>12.3</b> Chapter Exercises</a></li>
<li class="chapter" data-level="12.4" data-path="dates-with-lubridate.html"><a href="dates-with-lubridate.html#solutions-11"><i class="fa fa-check"></i><b>12.4</b> Exercise Solutions</a>
<ul>
<li class="chapter" data-level="12.4.1" data-path="dates-with-lubridate.html"><a href="dates-with-lubridate.html#converting-variables-to-date-s"><i class="fa fa-check"></i><b>12.4.1</b> Converting Variables to <code>&lt;date&gt;</code> S</a></li>
<li class="chapter" data-level="12.4.2" data-path="dates-with-lubridate.html"><a href="dates-with-lubridate.html#functions-for-date-variables-s"><i class="fa fa-check"></i><b>12.4.2</b> Functions for <code>&lt;date&gt;</code> Variables S</a></li>
<li class="chapter" data-level="12.4.3" data-path="dates-with-lubridate.html"><a href="dates-with-lubridate.html#chapexercise-11-S"><i class="fa fa-check"></i><b>12.4.3</b> Chapter Exercises S</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="strings-with-stringr.html"><a href="strings-with-stringr.html"><i class="fa fa-check"></i><b>13</b> Strings with <code>stringr</code></a>
<ul>
<li class="chapter" data-level="13.1" data-path="strings-with-stringr.html"><a href="strings-with-stringr.html#friday-friday"><i class="fa fa-check"></i><b>13.1</b> Friday, Friday</a>
<ul>
<li class="chapter" data-level="13.1.1" data-path="strings-with-stringr.html"><a href="strings-with-stringr.html#exercise-12-1"><i class="fa fa-check"></i><b>13.1.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="13.2" data-path="strings-with-stringr.html"><a href="strings-with-stringr.html#add-second-example-here"><i class="fa fa-check"></i><b>13.2</b> Add Second Example Here</a></li>
<li class="chapter" data-level="13.3" data-path="strings-with-stringr.html"><a href="strings-with-stringr.html#chapexercise-12"><i class="fa fa-check"></i><b>13.3</b> Chapter Exercises</a></li>
<li class="chapter" data-level="13.4" data-path="strings-with-stringr.html"><a href="strings-with-stringr.html#solutions-12"><i class="fa fa-check"></i><b>13.4</b> Exercise Solutions</a>
<ul>
<li class="chapter" data-level="13.4.1" data-path="strings-with-stringr.html"><a href="strings-with-stringr.html#friday-friday-s"><i class="fa fa-check"></i><b>13.4.1</b> Friday, Friday S</a></li>
<li class="chapter" data-level="13.4.2" data-path="strings-with-stringr.html"><a href="strings-with-stringr.html#second-example-s"><i class="fa fa-check"></i><b>13.4.2</b> Second Example S</a></li>
<li class="chapter" data-level="13.4.3" data-path="strings-with-stringr.html"><a href="strings-with-stringr.html#chapexercise-12-S"><i class="fa fa-check"></i><b>13.4.3</b> Chapter Exercises S</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="14" data-path="predictive-modeling-with-knn.html"><a href="predictive-modeling-with-knn.html"><i class="fa fa-check"></i><b>14</b> Predictive Modeling with knn</a>
<ul>
<li class="chapter" data-level="14.1" data-path="predictive-modeling-with-knn.html"><a href="predictive-modeling-with-knn.html#introduction-to-classification"><i class="fa fa-check"></i><b>14.1</b> Introduction to Classification</a>
<ul>
<li class="chapter" data-level="14.1.1" data-path="predictive-modeling-with-knn.html"><a href="predictive-modeling-with-knn.html#training-and-test-data"><i class="fa fa-check"></i><b>14.1.1</b> Training and Test Data</a></li>
<li class="chapter" data-level="14.1.2" data-path="predictive-modeling-with-knn.html"><a href="predictive-modeling-with-knn.html#exercise-13-1"><i class="fa fa-check"></i><b>14.1.2</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="14.2" data-path="predictive-modeling-with-knn.html"><a href="predictive-modeling-with-knn.html#knn-introduction"><i class="fa fa-check"></i><b>14.2</b> knn Introduction</a>
<ul>
<li class="chapter" data-level="14.2.1" data-path="predictive-modeling-with-knn.html"><a href="predictive-modeling-with-knn.html#knn-with-k-1-and-1-predictor"><i class="fa fa-check"></i><b>14.2.1</b> knn with k = 1 and 1 Predictor</a></li>
<li class="chapter" data-level="14.2.2" data-path="predictive-modeling-with-knn.html"><a href="predictive-modeling-with-knn.html#knn-with-k-1-and-one-predictor"><i class="fa fa-check"></i><b>14.2.2</b> knn with k &gt; 1 and One Predictor</a></li>
<li class="chapter" data-level="14.2.3" data-path="predictive-modeling-with-knn.html"><a href="predictive-modeling-with-knn.html#knn-with-k-1-and-more-than-one-predictor"><i class="fa fa-check"></i><b>14.2.3</b> knn with k &gt; 1 and More Than One Predictor</a></li>
<li class="chapter" data-level="14.2.4" data-path="predictive-modeling-with-knn.html"><a href="predictive-modeling-with-knn.html#scaling-predictor-variables-before-using-knn"><i class="fa fa-check"></i><b>14.2.4</b> Scaling Predictor Variables before Using knn</a></li>
<li class="chapter" data-level="14.2.5" data-path="predictive-modeling-with-knn.html"><a href="predictive-modeling-with-knn.html#exercise-13-2"><i class="fa fa-check"></i><b>14.2.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="14.3" data-path="predictive-modeling-with-knn.html"><a href="predictive-modeling-with-knn.html#choosing-predictors-and-k"><i class="fa fa-check"></i><b>14.3</b> Choosing Predictors and k</a>
<ul>
<li class="chapter" data-level="14.3.1" data-path="predictive-modeling-with-knn.html"><a href="predictive-modeling-with-knn.html#the-confusion-matrix"><i class="fa fa-check"></i><b>14.3.1</b> The Confusion Matrix</a></li>
<li class="chapter" data-level="14.3.2" data-path="predictive-modeling-with-knn.html"><a href="predictive-modeling-with-knn.html#using-knn-in-r"><i class="fa fa-check"></i><b>14.3.2</b> Using knn in <code>R</code></a></li>
<li class="chapter" data-level="14.3.3" data-path="predictive-modeling-with-knn.html"><a href="predictive-modeling-with-knn.html#exercise-13-3"><i class="fa fa-check"></i><b>14.3.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="14.4" data-path="predictive-modeling-with-knn.html"><a href="predictive-modeling-with-knn.html#chapexercise-13"><i class="fa fa-check"></i><b>14.4</b> Chapter Exercises</a></li>
<li class="chapter" data-level="14.5" data-path="predictive-modeling-with-knn.html"><a href="predictive-modeling-with-knn.html#solutions-13"><i class="fa fa-check"></i><b>14.5</b> Exercise Solutions</a>
<ul>
<li class="chapter" data-level="14.5.1" data-path="predictive-modeling-with-knn.html"><a href="predictive-modeling-with-knn.html#introduction-to-classification-s"><i class="fa fa-check"></i><b>14.5.1</b> Introduction to Classification S</a></li>
<li class="chapter" data-level="14.5.2" data-path="predictive-modeling-with-knn.html"><a href="predictive-modeling-with-knn.html#knn-introduction-s"><i class="fa fa-check"></i><b>14.5.2</b> knn Introduction S</a></li>
<li class="chapter" data-level="14.5.3" data-path="predictive-modeling-with-knn.html"><a href="predictive-modeling-with-knn.html#choosing-predictors-and-k-s"><i class="fa fa-check"></i><b>14.5.3</b> Choosing Predictors and k S</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/highamm/datascience234" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">STAT 234: Data Science</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="reprexes-and-import" class="section level1" number="9">
<h1><span class="header-section-number">Chapter 9</span> Reprexes and Import</h1>
<p><strong>Goals:</strong></p>
<ul>
<li><p>Use <code>tibble</code> to create data sets in <code>R</code>, and describe the benefits of <strong>reprexes</strong>.</p></li>
<li><p>Use <code>readr</code> to read in data to <code>R</code> from .csv, .txt, and .tsv files.</p></li>
<li><p>Use <code>rvest</code> to scrape data from public websites.</p></li>
<li><p>Use <code>jsonlite</code> to read in data in JSON (Java Script Object Notation) files.</p></li>
</ul>
<div id="reprexes-and-tibble" class="section level2" number="9.1">
<h2><span class="header-section-number">9.1</span> Reprexes and <code>tibble</code></h2>
<p>We can also create a data set directly within <code>R</code> with the <code>tibble()</code> function in the <code>tibble</code> package. This is most useful when we want to make a small reproducible example so that someone else may help with our code.</p>
<p>A <em>reproducible example</em>, or <strong>reprex</strong>, is a chunk of code that we can give to someone else that runs without any outside data. These are used often on StackExchange. The following code chunk is <strong>not</strong> a reprex because people would not necessarily have the data set <code>parsedf.csv</code>.</p>
<div class="sourceCode" id="cb459"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb459-1"><a href="reprexes-and-import.html#cb459-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Hello! How do I get rid of the units from the values in</span></span>
<span id="cb459-2"><a href="reprexes-and-import.html#cb459-2" aria-hidden="true" tabindex="-1"></a><span class="do">## my variable `x`? Thanks!</span></span>
<span id="cb459-3"><a href="reprexes-and-import.html#cb459-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb459-4"><a href="reprexes-and-import.html#cb459-4" aria-hidden="true" tabindex="-1"></a>test_df <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/parsedf.csv&quot;</span>)</span>
<span id="cb459-5"><a href="reprexes-and-import.html#cb459-5" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(test_df)</span></code></pre></div>
<pre><code>## # A tibble: 3 x 2
##   x                   y
##   &lt;chr&gt;           &lt;dbl&gt;
## 1 20,000 dollars      1
## 2 40 dollars          2
## 3 only 13 dollars     3</code></pre>
<p>We want to post on StackExchange for someone to help us convert a variable from a character vector with units to a numeric vector without units. We want to be able to give any possible helpers a small example data set to work with. For this, we can create our own tiny data set with <code>tibble()</code>:</p>
<div class="sourceCode" id="cb461"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb461-1"><a href="reprexes-and-import.html#cb461-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Hello! How do I get rid of the units from the values in</span></span>
<span id="cb461-2"><a href="reprexes-and-import.html#cb461-2" aria-hidden="true" tabindex="-1"></a><span class="do">## my variable `xvar`? Thanks!</span></span>
<span id="cb461-3"><a href="reprexes-and-import.html#cb461-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb461-4"><a href="reprexes-and-import.html#cb461-4" aria-hidden="true" tabindex="-1"></a>test_df2 <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">xvar =</span> <span class="fu">c</span>(<span class="st">&quot;20,000 dollars&quot;</span>, <span class="st">&quot;40 dollars&quot;</span>),</span>
<span id="cb461-5"><a href="reprexes-and-import.html#cb461-5" aria-hidden="true" tabindex="-1"></a>                   <span class="at">yvar =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>))</span>
<span id="cb461-6"><a href="reprexes-and-import.html#cb461-6" aria-hidden="true" tabindex="-1"></a>test_df2</span></code></pre></div>
<pre><code>## # A tibble: 2 x 2
##   xvar            yvar
##   &lt;chr&gt;          &lt;dbl&gt;
## 1 20,000 dollars     1
## 2 40 dollars         2</code></pre>
<p>Why is <code>library(tidyverse)</code> necessary in the code chunk above for my reprex?</p>
<p>We can copy and paste the code chunk above to our question: it’s code that anyone can run as long as they have the <code>tidyverse</code> package installed, and really encourages more people to help.</p>
<div id="exercise-8-1" class="section level3" number="9.1.1">
<h3><span class="header-section-number">9.1.1</span> Exercises</h3>
<p>Exercises marked with an * indicate that the exercise has a solution at the end of the chapter at <a href="reprexes-and-import.html#solutions-8">9.6</a>.</p>
<p>For Project 2, we will work with some course evaluation data for a professor at SLU. Overall, you’ll answer some questions about how the professor can improve their courses at SLU by looking at course evaluation data. The variables and data set will be described in more detail in the project description.</p>
<ol style="list-style-type: decimal">
<li>* Suppose that you can’t figure out how to create a semester variable and a year variable from <code>Term</code> in <code>evals_prof_S21.csv</code>. (You want to split the <code>Term</code> variable into two variables: <code>Semester</code> with levels <code>F</code> and <code>S</code> and <code>Year</code> with levels <code>19</code>, <code>20</code>, and <code>21</code>).</li>
</ol>
<div class="sourceCode" id="cb463"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb463-1"><a href="reprexes-and-import.html#cb463-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb463-2"><a href="reprexes-and-import.html#cb463-2" aria-hidden="true" tabindex="-1"></a>evals_df <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/evals_prof_S21.csv&quot;</span>)</span>
<span id="cb463-3"><a href="reprexes-and-import.html#cb463-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(evals_df)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 10
##   Term  Course Question          `Agree strongly` Agree `Agree Somewhat` Neutral
##   &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt;                        &lt;dbl&gt; &lt;dbl&gt;            &lt;dbl&gt;   &lt;dbl&gt;
## 1 F19   113-02 1. Course has be…                9     9                1       5
## 2 F19   113-02 2. Effectively O…               12     8                1       2
## 3 F19   113-02 3. Environment C…               11     8                2       3
## 4 F19   113-02 5a. Fair Assessm…                5    13                3       1
## 5 F19   113-02 5b. Timely Asses…                8    12                1       2
## 6 F19   113-02 5c. Constructive…                5     8                4       6
## # … with 3 more variables: Disagree Somewhat &lt;dbl&gt;, Disagree &lt;dbl&gt;,
## #   Disagree Strongly &lt;dbl&gt;</code></pre>
<p>Put together a reprex using <code>tibble()</code> that someone would be able to run to help you figure out your question.</p>
<ol start="2" style="list-style-type: decimal">
<li>* You should actually be able to answer your own question using a function that we learned a couple of weeks ago. Do so, creating a <code>Semester</code> and <code>Year</code> variable.</li>
</ol>
</div>
</div>
<div id="readr-to-read-in-data" class="section level2" number="9.2">
<h2><span class="header-section-number">9.2</span> <code>readr</code> to Read in Data</h2>
<p>Up to now, we have mostly worked with data that was “<code>R</code> Ready”: meaning that it was in a nice .csv file that could be read into <code>R</code> easily with <code>read_csv()</code> from the <code>readr</code> package. We will begin by looking at some options in the <code>read_csv()</code> function and then move into formats other than .csv that data are commonly stored in.</p>
<div id="read_csv-options" class="section level3" number="9.2.1">
<h3><span class="header-section-number">9.2.1</span> <code>read_csv()</code> Options</h3>
<p>The <code>mtcarsex.csv</code> has observattions on different car models with variables that include things like gas mileage, number of cylinders, etc. Read in the <code>mtcarsex.csv</code> data set with the following code. Then, examine the data set with <code>head()</code>.</p>
<div class="sourceCode" id="cb465"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb465-1"><a href="reprexes-and-import.html#cb465-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb465-2"><a href="reprexes-and-import.html#cb465-2" aria-hidden="true" tabindex="-1"></a>cars_df <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/mtcarsex.csv&quot;</span>)</span>
<span id="cb465-3"><a href="reprexes-and-import.html#cb465-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(cars_df)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 11
##   `This is a data s… X2    X3    X4    X5    X6    X7    X8    X9    X10   X11  
##   &lt;chr&gt;              &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;
## 1 &quot;I&#39;m a na\x95ve d… &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt; 
## 2 &quot;mpg&quot;              cyl   disp  hp    drat  wt    qsec  vs    am    gear  carb 
## 3  &lt;NA&gt;              &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt; 
## 4  &lt;NA&gt;              &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt; 
## 5 &quot;-999&quot;             6     160   110   3.9   2.62  16.46 0     1     4     4    
## 6 &quot;21&quot;               6     160   110   3.9   2.875 17.02 0     1     4     4</code></pre>
<p>What do you notice about the data set that seems odd? Open the .csv file with Excel or some other program to examine the data set outside of <code>R</code>.</p>
<p>Type in <code>?read_csv</code> in the bottom-left window and look at some of the options in <code>read_csv()</code>. In particular, we will use the <code>na</code> and the <code>skip</code> arguments to fix up our reading.</p>
<p>Let’s start with <code>skip</code> so that we aren’t reading in the first two rows of the data set:</p>
<div class="sourceCode" id="cb467"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb467-1"><a href="reprexes-and-import.html#cb467-1" aria-hidden="true" tabindex="-1"></a>cars_df <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/mtcarsex.csv&quot;</span>, <span class="at">skip =</span> <span class="dv">2</span>)</span>
<span id="cb467-2"><a href="reprexes-and-import.html#cb467-2" aria-hidden="true" tabindex="-1"></a><span class="do">## first two lines will be skipped</span></span>
<span id="cb467-3"><a href="reprexes-and-import.html#cb467-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(cars_df)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 11
##      mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb
##    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1   NA      NA    NA    NA NA    NA     NA      NA    NA    NA    NA
## 2   NA      NA    NA    NA NA    NA     NA      NA    NA    NA    NA
## 3 -999       6   160   110  3.9   2.62  16.5     0     1     4     4
## 4   21       6   160   110  3.9   2.88  17.0     0     1     4     4
## 5   22.8     4   108    93  3.85  2.32  18.6     1     1     4     1
## 6   21.4     6   258   110  3.08  3.22  19.4     1     0     3     1</code></pre>
<p>That looks better, but there are still a couple of problems. What do you notice?</p>
<p>Go the help and read about the <code>na</code> argument. Let’s add that as an option to fix the missing value issue.</p>
<div class="sourceCode" id="cb469"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb469-1"><a href="reprexes-and-import.html#cb469-1" aria-hidden="true" tabindex="-1"></a>cars_df <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/mtcarsex.csv&quot;</span>, <span class="at">na =</span> <span class="fu">c</span>(<span class="cn">NA</span>, <span class="st">&quot;-999&quot;</span>), <span class="at">skip =</span> <span class="dv">2</span>)</span>
<span id="cb469-2"><a href="reprexes-and-import.html#cb469-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(cars_df)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 11
##     mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb
##   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1  NA      NA    NA    NA NA    NA     NA      NA    NA    NA    NA
## 2  NA      NA    NA    NA NA    NA     NA      NA    NA    NA    NA
## 3  NA       6   160   110  3.9   2.62  16.5     0     1     4     4
## 4  21       6   160   110  3.9   2.88  17.0     0     1     4     4
## 5  22.8     4   108    93  3.85  2.32  18.6     1     1     4     1
## 6  21.4     6   258   110  3.08  3.22  19.4     1     0     3     1</code></pre>
<p>Now look at the classes of each variable. Which classes look like they are incorrect?</p>
<p>We’ve talked about how to re-specify classes of variables using <code>mutate()</code> and the <code>as.factor()</code> or <code>as.Date()</code> or <code>as.numeric()</code> functions, but sometimes it’s easier just to respecify the class when we are reading in the data. Notice how, when we use <code>read_csv()</code>, <code>R</code> gives us a message about each of the column types. This is actually an argument in <code>read_csv()</code> called <code>col_types</code>. <code>R</code> prints it so that it’s easy for us to copy and paste it into <code>read_csv()</code> and change any classes. For example, notice how <code>cyl = col_double()</code> is changed to <code>cyl = col_factor()</code> in the code chunk below:</p>
<div class="sourceCode" id="cb471"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb471-1"><a href="reprexes-and-import.html#cb471-1" aria-hidden="true" tabindex="-1"></a>cars_df <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/mtcarsex.csv&quot;</span>, <span class="at">na =</span> <span class="fu">c</span>(<span class="cn">NA</span>, <span class="st">&quot;-999&quot;</span>), <span class="at">skip =</span> <span class="dv">2</span>,</span>
<span id="cb471-2"><a href="reprexes-and-import.html#cb471-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">col_types =</span> <span class="fu">cols</span>(</span>
<span id="cb471-3"><a href="reprexes-and-import.html#cb471-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">mpg =</span> <span class="fu">col_double</span>(),</span>
<span id="cb471-4"><a href="reprexes-and-import.html#cb471-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">cyl =</span> <span class="fu">col_factor</span>(),</span>
<span id="cb471-5"><a href="reprexes-and-import.html#cb471-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">disp =</span> <span class="fu">col_double</span>(),</span>
<span id="cb471-6"><a href="reprexes-and-import.html#cb471-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">hp =</span> <span class="fu">col_double</span>(),</span>
<span id="cb471-7"><a href="reprexes-and-import.html#cb471-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">drat =</span> <span class="fu">col_double</span>(),</span>
<span id="cb471-8"><a href="reprexes-and-import.html#cb471-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">wt =</span> <span class="fu">col_double</span>(),</span>
<span id="cb471-9"><a href="reprexes-and-import.html#cb471-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">qsec =</span> <span class="fu">col_double</span>(),</span>
<span id="cb471-10"><a href="reprexes-and-import.html#cb471-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">vs =</span> <span class="fu">col_factor</span>(),</span>
<span id="cb471-11"><a href="reprexes-and-import.html#cb471-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">am =</span> <span class="fu">col_double</span>(),</span>
<span id="cb471-12"><a href="reprexes-and-import.html#cb471-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">gear =</span> <span class="fu">col_double</span>(),</span>
<span id="cb471-13"><a href="reprexes-and-import.html#cb471-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">carb =</span> <span class="fu">col_double</span>()</span>
<span id="cb471-14"><a href="reprexes-and-import.html#cb471-14" aria-hidden="true" tabindex="-1"></a>))</span></code></pre></div>
<p>Finally, there are two rows with all missing values. These aren’t providing anything useful so we can <code>slice()</code> them out:</p>
<div class="sourceCode" id="cb472"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb472-1"><a href="reprexes-and-import.html#cb472-1" aria-hidden="true" tabindex="-1"></a>cars_df <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/mtcarsex.csv&quot;</span>, <span class="at">na =</span> <span class="fu">c</span>(<span class="cn">NA</span>, <span class="st">&quot;-999&quot;</span>), <span class="at">skip =</span> <span class="dv">2</span>,</span>
<span id="cb472-2"><a href="reprexes-and-import.html#cb472-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">col_types =</span> <span class="fu">cols</span>(</span>
<span id="cb472-3"><a href="reprexes-and-import.html#cb472-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">mpg =</span> <span class="fu">col_double</span>(),</span>
<span id="cb472-4"><a href="reprexes-and-import.html#cb472-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">cyl =</span> <span class="fu">col_factor</span>(),</span>
<span id="cb472-5"><a href="reprexes-and-import.html#cb472-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">disp =</span> <span class="fu">col_double</span>(),</span>
<span id="cb472-6"><a href="reprexes-and-import.html#cb472-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">hp =</span> <span class="fu">col_double</span>(),</span>
<span id="cb472-7"><a href="reprexes-and-import.html#cb472-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">drat =</span> <span class="fu">col_double</span>(),</span>
<span id="cb472-8"><a href="reprexes-and-import.html#cb472-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">wt =</span> <span class="fu">col_double</span>(),</span>
<span id="cb472-9"><a href="reprexes-and-import.html#cb472-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">qsec =</span> <span class="fu">col_double</span>(),</span>
<span id="cb472-10"><a href="reprexes-and-import.html#cb472-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">vs =</span> <span class="fu">col_factor</span>(),</span>
<span id="cb472-11"><a href="reprexes-and-import.html#cb472-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">am =</span> <span class="fu">col_double</span>(),</span>
<span id="cb472-12"><a href="reprexes-and-import.html#cb472-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">gear =</span> <span class="fu">col_double</span>(),</span>
<span id="cb472-13"><a href="reprexes-and-import.html#cb472-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">carb =</span> <span class="fu">col_double</span>()</span>
<span id="cb472-14"><a href="reprexes-and-import.html#cb472-14" aria-hidden="true" tabindex="-1"></a>)) <span class="sc">%&gt;%</span></span>
<span id="cb472-15"><a href="reprexes-and-import.html#cb472-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="sc">-</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>))</span>
<span id="cb472-16"><a href="reprexes-and-import.html#cb472-16" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(cars_df)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 11
##     mpg cyl    disp    hp  drat    wt  qsec vs       am  gear  carb
##   &lt;dbl&gt; &lt;fct&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;fct&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1  NA   6       160   110  3.9   2.62  16.5 0         1     4     4
## 2  21   6       160   110  3.9   2.88  17.0 0         1     4     4
## 3  22.8 4       108    93  3.85  2.32  18.6 1         1     4     1
## 4  21.4 6       258   110  3.08  3.22  19.4 1         0     3     1
## 5  NA   8       360   175  3.15  3.44  17.0 0         0     3     2
## 6  18.1 6       225   105  2.76  3.46  20.2 1         0     3     1</code></pre>
<p>There are <strong>many</strong> other possible file formats for data storage. For example, there is a data set called <code>oscars.tsv</code>, which is a tab-separated file. You can read it in with <code>read_tsv()</code> instead of <code>read_csv()</code>.</p>
<div class="sourceCode" id="cb474"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb474-1"><a href="reprexes-and-import.html#cb474-1" aria-hidden="true" tabindex="-1"></a>oscars_df <span class="ot">&lt;-</span> <span class="fu">read_tsv</span>(<span class="st">&quot;data/oscars.tsv&quot;</span>)</span>
<span id="cb474-2"><a href="reprexes-and-import.html#cb474-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(oscars_df)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 51
##   FilmName     OscarYear Duration Rating DirectorName DirectorGender OscarWinner
##   &lt;chr&gt;            &lt;dbl&gt;    &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;                 &lt;dbl&gt;       &lt;dbl&gt;
## 1 Crash             2006      113      4 Haggis                    0           1
## 2 Brokeback M…      2006      134      4 Lee                       0           0
## 3 Capote            2006      114      4 Miller                    0           0
## 4 Good Night,…      2006       93      2 Clooney                   0           0
## 5 Munich            2006      164      4 Spielberg                 0           0
## 6 The Departed      2007      151      4 Scorsese                  0           1
## # … with 44 more variables: GenreName &lt;chr&gt;, Genre_Drama &lt;dbl&gt;,
## #   Genre_Bio &lt;dbl&gt;, CountryName &lt;chr&gt;, ForeignandUSA &lt;dbl&gt;,
## #   ProductionName &lt;chr&gt;, ProductionCompany &lt;dbl&gt;, BudgetRevised &lt;chr&gt;,
## #   Budget &lt;chr&gt;, DomesticBoxOffice &lt;dbl&gt;, WorldwideRevised &lt;dbl&gt;,
## #   WorldwideBoxOffice &lt;dbl&gt;, DomesticPercent &lt;dbl&gt;, LimitedOpeningWnd &lt;dbl&gt;,
## #   LimitedTheaters &lt;dbl&gt;, LimitedAveragePThtr &lt;dbl&gt;, WideOpeningWkd &lt;dbl&gt;,
## #   WideTheaters &lt;dbl&gt;, WideTheaterAverage &lt;dbl&gt;, WidestTheaters &lt;dbl&gt;,
## #   Days &lt;chr&gt;, Rotten &lt;dbl&gt;, Metacritic &lt;dbl&gt;, IMDb &lt;dbl&gt;,
## #   CriticAverage &lt;dbl&gt;, MPrinicpalCast &lt;dbl&gt;, FPrincipalCast &lt;dbl&gt;,
## #   FPercentPrincipalCast &lt;dbl&gt;, MLeadTime &lt;dbl&gt;, FLeadTime &lt;dbl&gt;,
## #   GuestMLeadTIme &lt;dbl&gt;, GuestFLEadTime &lt;dbl&gt;, MLeadPercentinFilm &lt;dbl&gt;,
## #   FLeadPercentinFilm &lt;dbl&gt;, GMLeadPerinFilm &lt;chr&gt;, GFLeadPerinFilm &lt;chr&gt;,
## #   M/FDifference &lt;dbl&gt;, F/MRatio &lt;dbl&gt;, M/FPercentMore &lt;dbl&gt;, FHighLow &lt;dbl&gt;,
## #   LeadTime &lt;dbl&gt;, MorF &lt;dbl&gt;, MaleLAA &lt;dbl&gt;, FemaleLAA &lt;dbl&gt;</code></pre>
<p>You’ll be able to work with .txt files and Excel files in the Exercises. Check out <a href="https://rawgit.com/rstudio/cheatsheets/master/data-import.pdf" target="_blank">https://rawgit.com/rstudio/cheatsheets/master/data-import.pdf</a> for a data import cheatsheet.</p>
<p>The final issue that we will discuss in this section occurs when a data set has units within its cells. Consider the earlier example that we used in the reprex section:</p>
<div class="sourceCode" id="cb476"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb476-1"><a href="reprexes-and-import.html#cb476-1" aria-hidden="true" tabindex="-1"></a>test_df <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/parsedf.csv&quot;</span>)</span>
<span id="cb476-2"><a href="reprexes-and-import.html#cb476-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(test_df)</span></code></pre></div>
<pre><code>## # A tibble: 3 x 2
##   x                   y
##   &lt;chr&gt;           &lt;dbl&gt;
## 1 20,000 dollars      1
## 2 40 dollars          2
## 3 only 13 dollars     3</code></pre>
<p>The <code>parse_number()</code> function is really useful if you just want the number (no commas, no units, etc.). The function is often paired with <code>mutate()</code> since we are creating a new variable:</p>
<div class="sourceCode" id="cb478"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb478-1"><a href="reprexes-and-import.html#cb478-1" aria-hidden="true" tabindex="-1"></a>test_df <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">x2 =</span> <span class="fu">parse_number</span>(x))</span></code></pre></div>
<pre><code>## # A tibble: 3 x 3
##   x                   y    x2
##   &lt;chr&gt;           &lt;dbl&gt; &lt;dbl&gt;
## 1 20,000 dollars      1 20000
## 2 40 dollars          2    40
## 3 only 13 dollars     3    13</code></pre>
</div>
<div id="exercise-8-2" class="section level3" number="9.2.2">
<h3><span class="header-section-number">9.2.2</span> Exercises</h3>
<p>Exercises marked with an * indicate that the exercise has a solution at the end of the chapter at <a href="reprexes-and-import.html#solutions-8">9.6</a>.</p>
<ol style="list-style-type: decimal">
<li>* The <code>birthdays.txt</code> file has information on the birthdays of various animals on my Animal Crossing island. There are also columns for the Animal’s Name, Animal Type, and how long the animal has lived on the island (in weeks). Click on the file to open it to look at the format of the data.</li>
</ol>
<p>Start with the following code chunk and use the options of <code>read_delim()</code> to read in the data (<code>?read_delim</code>). The <code>delim</code> argument that’s already provided specifies that the delimeter (separator) that you’ll use is a <code>-</code>, as opposed to, for example, a <code>,</code> in a .csv file. Arguments that you may need to change include</p>
<ul>
<li><code>skip</code></li>
<li><code>col_names</code></li>
<li><code>na</code></li>
<li><code>trim_ws</code></li>
<li><code>col_types</code></li>
</ul>
<div class="sourceCode" id="cb480"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb480-1"><a href="reprexes-and-import.html#cb480-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb480-2"><a href="reprexes-and-import.html#cb480-2" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">read_delim</span>(<span class="st">&quot;data/birthdays.txt&quot;</span>, <span class="at">delim =</span> <span class="st">&quot; - &quot;</span>)</span>
<span id="cb480-3"><a href="reprexes-and-import.html#cb480-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(df)</span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li><p>* Another common format for data to be stored in is an Excel file. Often, it’s easiest just to save the Excel file as a .csv file and read it in using <code>read_csv()</code>. But, sometimes this route can be difficult (for example, if your Excel file has thousands of sheets). To read in directly from Excel, you’ll need to install the <code>readxl</code> with <code>install.packages("readxl")</code>. Once installed, load the package with <code>library(readxl)</code>, and read in the first sheet <code>evals_prof.xlsx</code> data set, the data set used for Project 2, with the <code>read_excel()</code> function.</p></li>
<li><p>* Now, read in the second sheet in the Excel file, using the help file for <code>?read_excel</code> to change one of the arguments.</p></li>
</ol>
</div>
</div>
<div id="data-scraping-with-rvest" class="section level2" number="9.3">
<h2><span class="header-section-number">9.3</span> Data Scraping with <code>rvest</code></h2>
<p>Sometimes, you might want data from a public website that <strong>isn’t</strong> provided in a file format. To obtain this data, you’ll need to use web scraping, a term which just means “getting data from a website.” The easiest way to do this in <code>R</code> is with the <code>rvest</code> package. Note that we could spend an entire semester talking about web scraping, but we will focus only on websites where the scraping of data is “easy” and won’t give us any major errors.</p>
<p>Go to the following website and suppose that you wanted the table of gun violence statistics in <code>R</code>: <a href="https://en.wikipedia.org/wiki/Gun_violence_in_the_United_States_by_state" target="_blank">https://en.wikipedia.org/wiki/Gun_violence_in_the_United_States_by_state</a>. You could try copy-pasting the table into Excel and reading the data set in with <code>read_excel()</code>. Depending on the format of the table, that strategy may work but it may not. Another way is to scrape it directly with <code>rvest</code>. Additionally, if the website continually updates (standings for a sports league, enrollment data for a school, best-selling products for a company, etc.), then scraping is much more convenient, as you don’t need to continually copy-paste for updated data.</p>
<p>In the following code chunk, <code>read_html()</code> reads in the entire html file from the url provided while <code>html_nodes()</code> extracts only the tables on the website.</p>
<div class="sourceCode" id="cb481"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb481-1"><a href="reprexes-and-import.html#cb481-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb481-2"><a href="reprexes-and-import.html#cb481-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rvest)</span>
<span id="cb481-3"><a href="reprexes-and-import.html#cb481-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb481-4"><a href="reprexes-and-import.html#cb481-4" aria-hidden="true" tabindex="-1"></a><span class="do">## provide the URL and name it something (in this case, url).</span></span>
<span id="cb481-5"><a href="reprexes-and-import.html#cb481-5" aria-hidden="true" tabindex="-1"></a>url <span class="ot">&lt;-</span> <span class="st">&quot;https://en.wikipedia.org/wiki/Gun_violence_in_the_United_States_by_state&quot;</span></span>
<span id="cb481-6"><a href="reprexes-and-import.html#cb481-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb481-7"><a href="reprexes-and-import.html#cb481-7" aria-hidden="true" tabindex="-1"></a><span class="do">## convert the html code into something R can read</span></span>
<span id="cb481-8"><a href="reprexes-and-import.html#cb481-8" aria-hidden="true" tabindex="-1"></a>h <span class="ot">&lt;-</span> <span class="fu">read_html</span>(url)</span>
<span id="cb481-9"><a href="reprexes-and-import.html#cb481-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb481-10"><a href="reprexes-and-import.html#cb481-10" aria-hidden="true" tabindex="-1"></a><span class="do">## grabs the tables</span></span>
<span id="cb481-11"><a href="reprexes-and-import.html#cb481-11" aria-hidden="true" tabindex="-1"></a>tab <span class="ot">&lt;-</span> h <span class="sc">%&gt;%</span> <span class="fu">html_nodes</span>(<span class="st">&quot;table&quot;</span>)</span></code></pre></div>
<p>You’ll see that, for this example, there are 3 tables provided. The tables are stored in a <code>list</code> and we can reference the first table using <code>[[1]]</code>, the second table using <code>[[2]]</code>, etc. For the purposes of this class, we will figure out which of the 3 tables is the one we actually want using trial and error.</p>
<p>The <code>html_table()</code> function converts the table into a <code>data.frame</code> object.</p>
<div class="sourceCode" id="cb482"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb482-1"><a href="reprexes-and-import.html#cb482-1" aria-hidden="true" tabindex="-1"></a>test1 <span class="ot">&lt;-</span> tab[[<span class="dv">1</span>]] <span class="sc">%&gt;%</span> <span class="fu">html_table</span>()</span>
<span id="cb482-2"><a href="reprexes-and-import.html#cb482-2" aria-hidden="true" tabindex="-1"></a>test2 <span class="ot">&lt;-</span> tab[[<span class="dv">2</span>]] <span class="sc">%&gt;%</span> <span class="fu">html_table</span>()</span>
<span id="cb482-3"><a href="reprexes-and-import.html#cb482-3" aria-hidden="true" tabindex="-1"></a>test3 <span class="ot">&lt;-</span> tab[[<span class="dv">3</span>]] <span class="sc">%&gt;%</span> <span class="fu">html_table</span>()</span>
<span id="cb482-4"><a href="reprexes-and-import.html#cb482-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb482-5"><a href="reprexes-and-import.html#cb482-5" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(test1)</span>
<span id="cb482-6"><a href="reprexes-and-import.html#cb482-6" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(test2)</span>
<span id="cb482-7"><a href="reprexes-and-import.html#cb482-7" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(test3)</span></code></pre></div>
<p>Which of the 3 tables is the one that we would want to use for an analysis on gun violence in the United States?</p>
<p>As another example, consider scraping data from SLU’s athletics page. In particular, suppose we want to do an analysis on SLU’s baseball team.</p>
<p>Go to the following website to look at the table of data that we want to scrape: <a href="https://saintsathletics.com/sports/baseball/stats/2021" target="_blank">https://saintsathletics.com/sports/baseball/stats/2021</a>.</p>
<p>After looking at the website, use the following code to scrape the data set.</p>
<div class="sourceCode" id="cb483"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb483-1"><a href="reprexes-and-import.html#cb483-1" aria-hidden="true" tabindex="-1"></a>url <span class="ot">&lt;-</span> <span class="st">&quot;https://saintsathletics.com/sports/baseball/stats/2021&quot;</span></span>
<span id="cb483-2"><a href="reprexes-and-import.html#cb483-2" aria-hidden="true" tabindex="-1"></a>h <span class="ot">&lt;-</span> <span class="fu">read_html</span>(url)</span>
<span id="cb483-3"><a href="reprexes-and-import.html#cb483-3" aria-hidden="true" tabindex="-1"></a>tab <span class="ot">&lt;-</span> h <span class="sc">%&gt;%</span> <span class="fu">html_nodes</span>(<span class="st">&quot;table&quot;</span>)</span>
<span id="cb483-4"><a href="reprexes-and-import.html#cb483-4" aria-hidden="true" tabindex="-1"></a>tab</span>
<span id="cb483-5"><a href="reprexes-and-import.html#cb483-5" aria-hidden="true" tabindex="-1"></a>obj <span class="ot">&lt;-</span> tab[[<span class="dv">1</span>]] <span class="sc">%&gt;%</span> <span class="fu">html_table</span>(<span class="at">fill =</span> <span class="cn">TRUE</span>)</span>
<span id="cb483-6"><a href="reprexes-and-import.html#cb483-6" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(obj)</span>
<span id="cb483-7"><a href="reprexes-and-import.html#cb483-7" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span>(obj)</span>
<span id="cb483-8"><a href="reprexes-and-import.html#cb483-8" aria-hidden="true" tabindex="-1"></a>obj2 <span class="ot">&lt;-</span> tab[[<span class="dv">2</span>]] <span class="sc">%&gt;%</span> <span class="fu">html_table</span>(<span class="at">fill =</span> <span class="cn">TRUE</span>)</span>
<span id="cb483-9"><a href="reprexes-and-import.html#cb483-9" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(obj2)</span>
<span id="cb483-10"><a href="reprexes-and-import.html#cb483-10" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span>(obj2)</span></code></pre></div>
<p>There’s now 72 different tables! See if you can figure out where the first few tables are coming from on the website.</p>
<div id="exercise-8-3" class="section level3" number="9.3.1">
<h3><span class="header-section-number">9.3.1</span> Exercises</h3>
<p>Exercises marked with an * indicate that the exercise has a solution at the end of the chapter at <a href="reprexes-and-import.html#solutions-8">9.6</a>.</p>
<ol style="list-style-type: decimal">
<li><p>Choose a topic/person/place/etc. that interests you that has tables on Wikipedia and scrape the table that is related to that topic.</p></li>
<li><p>* SLU keeps track of diversity of faculty through time and makes this data public on the following website: <a href="https://www.stlawu.edu/ir/diversity/faculty" target="_blank">https://www.stlawu.edu/ir/diversity/faculty</a>. Use <code>rvest</code> to scrape the data tables into <code>R</code>.</p></li>
</ol>
<p><strong>Hint</strong>: You may need to use an extra argument in <code>html_table()</code> like <code>fill</code>.</p>
</div>
</div>
<div id="json-files-with-jsonlite" class="section level2" number="9.4">
<h2><span class="header-section-number">9.4</span> JSON Files with <code>jsonlite</code></h2>
<p>A final common data format that we will discuss is JSON (JavaScript Object Notation). We will only cover the very basics of JSON data and use the <code>jsonlite</code> package in <code>R</code> to read in some .json files. JSON files are read in to <code>R</code> as a <code>list</code> object.</p>
<div id="everything-working-well" class="section level3" number="9.4.1">
<h3><span class="header-section-number">9.4.1</span> Everything Working Well</h3>
<p>First, consider data from the mobile game Clash Royale. Install the <code>jsonlite</code> package and then use it to read in the <code>json</code> file with the function <code>fromJSON()</code>:</p>
<div class="sourceCode" id="cb484"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb484-1"><a href="reprexes-and-import.html#cb484-1" aria-hidden="true" tabindex="-1"></a><span class="do">## install.packages(&quot;jsonlite&quot;)</span></span>
<span id="cb484-2"><a href="reprexes-and-import.html#cb484-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(jsonlite)</span>
<span id="cb484-3"><a href="reprexes-and-import.html#cb484-3" aria-hidden="true" tabindex="-1"></a>cr_cards <span class="ot">&lt;-</span> <span class="fu">fromJSON</span>(<span class="st">&quot;data/clash_royale_card_info.json&quot;</span>)</span></code></pre></div>
<p>You should get a warning message, which we will investigate in class.</p>
<p>Next, type <code>View(cr_cards)</code> in your console (bottom-left) window to look at the data. See if you can pull out the data set by clicking on some things in the <code>View()</code> window.</p>
<p>The following give a couple of ways to grab the data using code. The <code>as_tibble()</code> function converts a rectangular object into our familiar <code>tibble</code>.</p>
<p>The first option specifies the name of the table that’s in the JSON file (in this case, the name is <code>"cards"</code>):</p>
<div class="sourceCode" id="cb485"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb485-1"><a href="reprexes-and-import.html#cb485-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb485-2"><a href="reprexes-and-import.html#cb485-2" aria-hidden="true" tabindex="-1"></a>cr_cards_flat <span class="ot">&lt;-</span> cr_cards[[<span class="st">&quot;cards&quot;</span>]]</span>
<span id="cb485-3"><a href="reprexes-and-import.html#cb485-3" aria-hidden="true" tabindex="-1"></a>cr_cards_df <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(cr_cards_flat)</span>
<span id="cb485-4"><a href="reprexes-and-import.html#cb485-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(cr_cards_df)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 8
##   key    name    elixir type  rarity arena description                        id
##   &lt;chr&gt;  &lt;chr&gt;    &lt;int&gt; &lt;chr&gt; &lt;chr&gt;  &lt;int&gt; &lt;chr&gt;                           &lt;int&gt;
## 1 knight Knight       3 Troop Common     0 A tough melee fighter. The Ba… 2.6 e7
## 2 arche… Archers      3 Troop Common     0 A pair of lightly armored ran… 2.60e7
## 3 gobli… Goblins      2 Troop Common     1 Three fast, unarmored melee a… 2.60e7
## 4 giant  Giant        5 Troop Rare       0 Slow but durable, only attack… 2.60e7
## 5 pekka  P.E.K.…      7 Troop Epic       4 A heavily armored, slow melee… 2.60e7
## 6 minio… Minions      3 Troop Common     0 Three fast, unarmored flying … 2.60e7</code></pre>
<p>The second method uses the <code>flatten()</code> function from the <code>purrr</code> package, the only package in the core <code>tidyverse</code> that we do not talk about in detail in this class. There is also a different <code>flatten()</code> function in the <code>jsonlite</code> package. In the code below, we specify that we want to use <code>flatten()</code> from <code>purrr</code> with <code>purrr::flatten()</code>. If we wanted to use <code>flatten()</code> from <code>jsonlite</code>, we’d use <code>jsonlite::flatten()</code></p>
<div class="sourceCode" id="cb487"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb487-1"><a href="reprexes-and-import.html#cb487-1" aria-hidden="true" tabindex="-1"></a>cr_cards_flat2 <span class="ot">&lt;-</span> purrr<span class="sc">::</span><span class="fu">flatten</span>(cr_cards)</span>
<span id="cb487-2"><a href="reprexes-and-import.html#cb487-2" aria-hidden="true" tabindex="-1"></a>cr_cards_df2 <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(cr_cards_flat2)</span>
<span id="cb487-3"><a href="reprexes-and-import.html#cb487-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(cr_cards_df2)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 8
##   key    name    elixir type  rarity arena description                        id
##   &lt;chr&gt;  &lt;chr&gt;    &lt;int&gt; &lt;chr&gt; &lt;chr&gt;  &lt;int&gt; &lt;chr&gt;                           &lt;int&gt;
## 1 knight Knight       3 Troop Common     0 A tough melee fighter. The Ba… 2.6 e7
## 2 arche… Archers      3 Troop Common     0 A pair of lightly armored ran… 2.60e7
## 3 gobli… Goblins      2 Troop Common     1 Three fast, unarmored melee a… 2.60e7
## 4 giant  Giant        5 Troop Rare       0 Slow but durable, only attack… 2.60e7
## 5 pekka  P.E.K.…      7 Troop Epic       4 A heavily armored, slow melee… 2.60e7
## 6 minio… Minions      3 Troop Common     0 Three fast, unarmored flying … 2.60e7</code></pre>
<p>Both methods give a <code>tibble</code> that we can then use our usual <code>tidyverse</code> tools <code>ggplot2</code>, <code>dplyr</code>, <code>tidyr</code>, etc. on.</p>
</div>
<div id="things-arent-always-so-easy" class="section level3" number="9.4.2">
<h3><span class="header-section-number">9.4.2</span> Things Aren’t Always So Easy</h3>
<p>Now let’s try to look at some animal crossing data that were obtained from <a href="https://github.com/jefflomacy/villagerdb" target="_blank">https://github.com/jefflomacy/villagerdb</a>. We first just want to look at the data from one individual villager (ace) in the file <code>ace.json</code>.</p>
<div class="sourceCode" id="cb489"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb489-1"><a href="reprexes-and-import.html#cb489-1" aria-hidden="true" tabindex="-1"></a>acedata <span class="ot">&lt;-</span> <span class="fu">fromJSON</span>(<span class="st">&quot;data/ace.json&quot;</span>)</span>
<span id="cb489-2"><a href="reprexes-and-import.html#cb489-2" aria-hidden="true" tabindex="-1"></a>aceflat <span class="ot">&lt;-</span> purrr<span class="sc">::</span><span class="fu">flatten</span>(acedata)</span>
<span id="cb489-3"><a href="reprexes-and-import.html#cb489-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(aceflat)</span></code></pre></div>
<pre><code>## $gender
## [1] &quot;male&quot;
## 
## $species
## [1] &quot;bird&quot;
## 
## $birthday
## [1] &quot;3-13&quot;
## 
## $ac
## $ac$personality
## [1] &quot;jock&quot;
## 
## $ac$clothes
## [1] &quot;spade-shirt&quot;
## 
## $ac$song
## [1] &quot;K.K. Parade&quot;
## 
## $ac$phrase
## [1] &quot;ace&quot;
## 
## 
## $`afe+`
## $`afe+`$personality
## [1] &quot;jock&quot;
## 
## $`afe+`$clothes
## [1] &quot;spade-shirt&quot;
## 
## $`afe+`$song
## [1] &quot;K.K. Parade&quot;
## 
## 
## $name
## [1] &quot;Ace&quot;</code></pre>
<p>Things are now….more complicated. This example is just to show that it’s not always easy working with JSON data. Lists can be nested and that creates problems when trying to convert a deeply nested list into our “rectangular” format that’s easy to work with.</p>
<p>There’s also the added problem of reading in the <code>.json</code> files from all villagers at the same time We could do this with a for loop or a mapping function from <code>purrr</code> to download and read in the JSON files for all villagers. We won’t delve any more deeply into this, but there’s a lot more to all of the file formats that we’ve discussed this week, particularly web scraping and .json files.</p>
</div>
<div id="exercise-8-4" class="section level3" number="9.4.3">
<h3><span class="header-section-number">9.4.3</span> Exercises</h3>
<p>Exercises marked with an * indicate that the exercise has a solution at the end of the chapter at <a href="reprexes-and-import.html#solutions-8">9.6</a>.</p>
<ol style="list-style-type: decimal">
<li><p>* Read in the <code>pokedex.json</code> file, a data set that has information on the 151 original Pokemon. Then, use the <code>flatten()</code> function from <code>purrr</code> to flatten the list.</p></li>
<li><p>* Use <code>as_tibble()</code> to convert your flattened list to a <code>tibble</code>.</p></li>
<li><p>* Use <code>parse_number()</code> with <code>mutate()</code> to tidy two of the variables in the data set.</p></li>
<li><p>* Look at the <code>type</code> variable. What looks odd about it? What happens when you try to use it, either in a plot, or using a <code>dplyr</code> function?</p></li>
</ol>
<p>You can <code>unnest()</code> the <code>Type</code> variable with the <code>unnest()</code> function from <code>tidyr</code>. We didn’t discuss this function but feel free to read about it with <code>?unnest</code></p>
<div class="sourceCode" id="cb491"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb491-1"><a href="reprexes-and-import.html#cb491-1" aria-hidden="true" tabindex="-1"></a>pokemon_unnest <span class="ot">&lt;-</span> <span class="fu">unnest</span>(pokemon_df, <span class="at">cols =</span> <span class="fu">c</span>(type))</span></code></pre></div>
<ol start="5" style="list-style-type: decimal">
<li><p>There are 6 pokemon with a <code>spawn_chance</code> of 0. Figure out what these 6 pokemon are.</p></li>
<li><p>Figure out what the 5 most common Pokemon types are in the first generation (you’ll need to use the <code>unnest()</code>-ed data set for this: why?).</p></li>
</ol>
</div>
</div>
<div id="chapexercise-8" class="section level2" number="9.5">
<h2><span class="header-section-number">9.5</span> Chapter Exercises</h2>
<p>Exercises marked with an * indicate that the exercise has a solution at the end of the chapter at <a href="reprexes-and-import.html#solutions-8">9.6</a>.</p>
<ol style="list-style-type: decimal">
<li>Choose a sports team at SLU, and go to that team’s website (by simply googling SLU name_of_sport). Scrape the data tables from the “Results” or “Statistics” section of this sport. After you scrape the data, tidy the data set. Then, choose one of the following options (different options might make more/less sense for different sports)</li>
</ol>
<p>(a). Summarise different <strong>team</strong> statistics, either numerically or graphically. Perhaps make some graphs showing different statistics through time.</p>
<p>(b). Summarise different <strong>individual</strong> statistics, either numerically or graphically.</p>
<p>(c). Ask and answer any other questions that make sense for the particular sport that you are looking at!</p>
<p><strong>Note</strong>: A few sports (men’s and women’s golf, for example), give results in PDF format. PDF format is generally a horrible way to record and share data, as it’s very difficult to read in to almost any program. Therefore, avoid sports with PDF results for the purposes of this exercise.</p>
</div>
<div id="solutions-8" class="section level2" number="9.6">
<h2><span class="header-section-number">9.6</span> Exercise Solutions</h2>
<div id="reprexes-and-tibble-s" class="section level3" number="9.6.1">
<h3><span class="header-section-number">9.6.1</span> Reprexes and <code>tibble</code> S</h3>
<ol style="list-style-type: decimal">
<li>* Suppose that you can’t figure out how to create a semester variable and a year variable from <code>Term</code> in <code>evals_prof_S21.csv</code>. (You want to split the <code>Term</code> variable into two variables: <code>Semester</code> with levels <code>F</code> and <code>S</code> and <code>Year</code> with levels <code>19</code>, <code>20</code>, and <code>21</code>).</li>
</ol>
<div class="sourceCode" id="cb492"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb492-1"><a href="reprexes-and-import.html#cb492-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb492-2"><a href="reprexes-and-import.html#cb492-2" aria-hidden="true" tabindex="-1"></a>evals_df <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/evals_prof_S21.csv&quot;</span>)</span>
<span id="cb492-3"><a href="reprexes-and-import.html#cb492-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(evals_df)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 10
##   Term  Course Question          `Agree strongly` Agree `Agree Somewhat` Neutral
##   &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt;                        &lt;dbl&gt; &lt;dbl&gt;            &lt;dbl&gt;   &lt;dbl&gt;
## 1 F19   113-02 1. Course has be…                9     9                1       5
## 2 F19   113-02 2. Effectively O…               12     8                1       2
## 3 F19   113-02 3. Environment C…               11     8                2       3
## 4 F19   113-02 5a. Fair Assessm…                5    13                3       1
## 5 F19   113-02 5b. Timely Asses…                8    12                1       2
## 6 F19   113-02 5c. Constructive…                5     8                4       6
## # … with 3 more variables: Disagree Somewhat &lt;dbl&gt;, Disagree &lt;dbl&gt;,
## #   Disagree Strongly &lt;dbl&gt;</code></pre>
<p>Put together a reprex using <code>tibble()</code> that someone would be able to run to help you figure out your question.</p>
<div class="sourceCode" id="cb494"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb494-1"><a href="reprexes-and-import.html#cb494-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb494-2"><a href="reprexes-and-import.html#cb494-2" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">Term =</span> <span class="fu">c</span>(<span class="st">&quot;F19&quot;</span>, <span class="st">&quot;S20&quot;</span>), <span class="at">x =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>))</span>
<span id="cb494-3"><a href="reprexes-and-import.html#cb494-3" aria-hidden="true" tabindex="-1"></a><span class="do">## Hello! I need help creating a variable that has F/S and </span></span>
<span id="cb494-4"><a href="reprexes-and-import.html#cb494-4" aria-hidden="true" tabindex="-1"></a><span class="do">## a separate year variable that has 19 and 20 from the data set above.</span></span>
<span id="cb494-5"><a href="reprexes-and-import.html#cb494-5" aria-hidden="true" tabindex="-1"></a><span class="do">## Thanks!</span></span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>* You should actually be able to answer your own question using a function that we learned a couple of weeks ago. Do so, creating a <code>Semester</code> and <code>Year</code> variable.</li>
</ol>
<div class="sourceCode" id="cb495"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb495-1"><a href="reprexes-and-import.html#cb495-1" aria-hidden="true" tabindex="-1"></a>new_df <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> <span class="fu">separate</span>(Term, <span class="at">sep =</span> <span class="dv">1</span>, <span class="at">into =</span> <span class="fu">c</span>(<span class="st">&quot;Semester&quot;</span>, <span class="st">&quot;Year&quot;</span>))</span></code></pre></div>
</div>
<div id="readr-s" class="section level3" number="9.6.2">
<h3><span class="header-section-number">9.6.2</span> <code>readr</code> S</h3>
<ol style="list-style-type: decimal">
<li>* The <code>birthdays.txt</code> file has information on the birthdays of various animals on my Animal Crossing island. There are also columns for the Animal’s Name, Animal Type, and how long the animal has lived on the island (in weeks). Click on the file to open it to look at the format of the data.</li>
</ol>
<p>Start with the following code chunk and use the options of <code>read_delim()</code> to read in the data (<code>?read_delim</code>). The <code>delim</code> argument that’s already provided specifies that the delimeter (separator) that you’ll use is a <code>-</code>, as opposed to, for example, a <code>,</code> in a .csv file. Arguments that you may to change include</p>
<ul>
<li><code>skip</code></li>
<li><code>col_names</code></li>
<li><code>na</code></li>
<li><code>trim_ws</code></li>
<li><code>col_types</code></li>
</ul>
<div class="sourceCode" id="cb496"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb496-1"><a href="reprexes-and-import.html#cb496-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb496-2"><a href="reprexes-and-import.html#cb496-2" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">read_delim</span>(<span class="st">&quot;data/birthdays.txt&quot;</span>, <span class="at">delim =</span> <span class="st">&quot; - &quot;</span>)</span>
<span id="cb496-3"><a href="reprexes-and-import.html#cb496-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(df)</span></code></pre></div>
<div class="sourceCode" id="cb497"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb497-1"><a href="reprexes-and-import.html#cb497-1" aria-hidden="true" tabindex="-1"></a><span class="fu">read_delim</span>(<span class="st">&quot;data/birthdays.txt&quot;</span>, <span class="at">delim =</span> <span class="st">&quot;-&quot;</span>, <span class="at">skip =</span> <span class="dv">4</span>,</span>
<span id="cb497-2"><a href="reprexes-and-import.html#cb497-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">col_names =</span> <span class="fu">c</span>(<span class="st">&quot;Birthday&quot;</span>, <span class="st">&quot;Name&quot;</span>,</span>
<span id="cb497-3"><a href="reprexes-and-import.html#cb497-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;Animal&quot;</span>, <span class="st">&quot;Island&quot;</span>),</span>
<span id="cb497-4"><a href="reprexes-and-import.html#cb497-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">na =</span> <span class="fu">c</span>(<span class="st">&quot;N/A&quot;</span>, <span class="st">&quot;?&quot;</span>),</span>
<span id="cb497-5"><a href="reprexes-and-import.html#cb497-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">trim_ws =</span> <span class="cn">TRUE</span>,</span>
<span id="cb497-6"><a href="reprexes-and-import.html#cb497-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">col_types =</span> <span class="fu">list</span>(</span>
<span id="cb497-7"><a href="reprexes-and-import.html#cb497-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">col_character</span>(), <span class="fu">col_character</span>(), <span class="fu">col_character</span>(), <span class="fu">col_number</span>()</span>
<span id="cb497-8"><a href="reprexes-and-import.html#cb497-8" aria-hidden="true" tabindex="-1"></a>  ))</span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>* Another common format for data to be stored in is an Excel file. Often, it’s easiest just to save the Excel file as a .csv file and read it in using <code>read_csv()</code>. But, sometimes this route can be difficult (for example, if your Excel file has thousands of sheets). To read in directly from Excel, you’ll need to install the <code>readxl</code> with <code>install.packages("readxl")</code>. Once installed, load the package with <code>library(readxl)</code>, and read in the first sheet <code>evals_prof.xlsx</code> data set, the data set used for Project 2, with the <code>read_excel()</code> function.</li>
</ol>
<div class="sourceCode" id="cb498"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb498-1"><a href="reprexes-and-import.html#cb498-1" aria-hidden="true" tabindex="-1"></a><span class="do">## install.packages(&quot;readxl&quot;)</span></span>
<span id="cb498-2"><a href="reprexes-and-import.html#cb498-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb498-3"><a href="reprexes-and-import.html#cb498-3" aria-hidden="true" tabindex="-1"></a><span class="fu">read_excel</span>(<span class="st">&quot;data/evals_prof.xlsx&quot;</span>)</span></code></pre></div>
<ol start="3" style="list-style-type: decimal">
<li>* Now, read in the second sheet, using the help file for <code>?read_excel</code> to change one of the arguments.</li>
</ol>
<div class="sourceCode" id="cb499"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb499-1"><a href="reprexes-and-import.html#cb499-1" aria-hidden="true" tabindex="-1"></a><span class="fu">read_excel</span>(<span class="st">&quot;data/evals_prof.xlsx&quot;</span>, <span class="at">sheet =</span> <span class="dv">2</span>)</span></code></pre></div>
</div>
<div id="rvest-and-data-scraping-s" class="section level3" number="9.6.3">
<h3><span class="header-section-number">9.6.3</span> <code>rvest</code> and Data Scraping S</h3>
<ol start="2" style="list-style-type: decimal">
<li>* SLU keeps track of diversity of faculty through time and makes this data public on the following website: <a href="https://www.stlawu.edu/ir/diversity/faculty" target="_blank">https://www.stlawu.edu/ir/diversity/faculty</a>. Use <code>rvest</code> to scrape the data tables into <code>R</code>.</li>
</ol>
<div class="sourceCode" id="cb500"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb500-1"><a href="reprexes-and-import.html#cb500-1" aria-hidden="true" tabindex="-1"></a>url <span class="ot">&lt;-</span> <span class="st">&quot;https://www.stlawu.edu/ir/diversity/faculty&quot;</span></span>
<span id="cb500-2"><a href="reprexes-and-import.html#cb500-2" aria-hidden="true" tabindex="-1"></a>h <span class="ot">&lt;-</span> <span class="fu">read_html</span>(url)</span>
<span id="cb500-3"><a href="reprexes-and-import.html#cb500-3" aria-hidden="true" tabindex="-1"></a>tab <span class="ot">&lt;-</span> h <span class="sc">%&gt;%</span> <span class="fu">html_nodes</span>(<span class="st">&quot;table&quot;</span>)</span>
<span id="cb500-4"><a href="reprexes-and-import.html#cb500-4" aria-hidden="true" tabindex="-1"></a>obj <span class="ot">&lt;-</span> tab[[<span class="dv">1</span>]] <span class="sc">%&gt;%</span> <span class="fu">html_table</span>(<span class="at">fill =</span> <span class="cn">TRUE</span>)</span>
<span id="cb500-5"><a href="reprexes-and-import.html#cb500-5" aria-hidden="true" tabindex="-1"></a>obj</span></code></pre></div>
</div>
<div id="json-with-jsonlite-s" class="section level3" number="9.6.4">
<h3><span class="header-section-number">9.6.4</span> JSON with <code>jsonlite</code> S</h3>
<ol style="list-style-type: decimal">
<li>* Read in the <code>pokedex.json</code> file, a data set that has information on the 151 original Pokemon. Then, use the <code>flatten()</code> function from <code>purrr</code> to flatten the list.</li>
</ol>
<div class="sourceCode" id="cb501"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb501-1"><a href="reprexes-and-import.html#cb501-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(jsonlite)</span>
<span id="cb501-2"><a href="reprexes-and-import.html#cb501-2" aria-hidden="true" tabindex="-1"></a>pokedex <span class="ot">&lt;-</span> <span class="fu">fromJSON</span>(<span class="st">&quot;data/pokedex.json&quot;</span>)</span>
<span id="cb501-3"><a href="reprexes-and-import.html#cb501-3" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> purrr<span class="sc">::</span><span class="fu">flatten</span>(pokedex)</span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>* Use <code>as_tibble()</code> to convert your flattened list to a <code>tibble</code>.</li>
</ol>
<div class="sourceCode" id="cb502"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb502-1"><a href="reprexes-and-import.html#cb502-1" aria-hidden="true" tabindex="-1"></a>pokemon_df <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(df)</span></code></pre></div>
<ol start="3" style="list-style-type: decimal">
<li>* Use <code>parse_number()</code> with <code>mutate()</code> to tidy two of the variables in the data set.</li>
</ol>
<div class="sourceCode" id="cb503"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb503-1"><a href="reprexes-and-import.html#cb503-1" aria-hidden="true" tabindex="-1"></a>pokemon_df <span class="ot">&lt;-</span> pokemon_df <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">height =</span> <span class="fu">parse_number</span>(height),</span>
<span id="cb503-2"><a href="reprexes-and-import.html#cb503-2" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">weight =</span> <span class="fu">parse_number</span>(weight))</span></code></pre></div>
<ol start="4" style="list-style-type: decimal">
<li>* Look at the <code>type</code> variable. What looks odd about it? What happens when you try to use it, either in a plot, or using a <code>dplyr</code> function?</li>
</ol>
<div class="sourceCode" id="cb504"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb504-1"><a href="reprexes-and-import.html#cb504-1" aria-hidden="true" tabindex="-1"></a><span class="do">## it&#39;s a variable of lists....this is happening because some </span></span>
<span id="cb504-2"><a href="reprexes-and-import.html#cb504-2" aria-hidden="true" tabindex="-1"></a><span class="do">## pokemon have more than one type.</span></span>
<span id="cb504-3"><a href="reprexes-and-import.html#cb504-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb504-4"><a href="reprexes-and-import.html#cb504-4" aria-hidden="true" tabindex="-1"></a><span class="do">## most ggplot() and dplyr() functions won&#39;t work, or</span></span>
<span id="cb504-5"><a href="reprexes-and-import.html#cb504-5" aria-hidden="true" tabindex="-1"></a><span class="do">## won&#39;t work as you&#39;d expect</span></span></code></pre></div>
<p>You can <code>unnest()</code> the <code>Type</code> variable with the <code>unnest()</code> function from <code>tidyr</code>. We didn’t discuss this function but feel free to read about it with <code>?unnest</code></p>
<div class="sourceCode" id="cb505"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb505-1"><a href="reprexes-and-import.html#cb505-1" aria-hidden="true" tabindex="-1"></a>pokemon_unnest <span class="ot">&lt;-</span> <span class="fu">unnest</span>(pokemon_df, <span class="at">cols =</span> <span class="fu">c</span>(type))</span></code></pre></div>
</div>
<div id="chapexercise-8-S" class="section level3" number="9.6.5">
<h3><span class="header-section-number">9.6.5</span> Chapter Exercises S</h3>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="factors-with-forcats.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="data-ethics.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": false,
"whatsapp": false
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section",
"scroll_highlight": true
},
"info": true
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
