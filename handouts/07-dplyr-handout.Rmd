---
title: "Week 8: Combining Data Sets with `dplyr`"
output: pdf_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE, warning = FALSE, message = FALSE)
```

Suppose you have the following two data sets. The first, `df1` has the variables `id_numb` and `xvar`. The second, `df2` has the variables `id` and `yvar`. `id_numb` and `id` serve as identification variables, possibly with duplicates, where observations from the first data set with `id_numb = 1` correspond to observations in the second data set with `id = 1`.

```{r}
library(tidyverse)
df1 <- tibble(id_numb = c(1, 1, 2, 4),
  xvar = c(16, -1, 11, 13))
df2 <- tibble(id = c(1, 2, 2, 3),
              yvar = c(-1, -4, 0, -9))
library(pander)
df1 %>% pander()
df2 %>% pander()
```

```{r, results = "hide"}
## mutate joins
left_join(df1, df2, by = c("id_numb" = "id"))
left_join(df2, df1, by = c("id" = "id_numb")) ## equivalent to right_join
inner_join(df1, df2, by = c("id_numb" = "id"))
full_join(df1, df2, by = c("id_numb" = "id"))

## filter joins
anti_join(df1, df2, by = c("id_numb" = "id"))
semi_join(df1, df2, by = c("id_numb" = "id"))

## difference between left_join() and semi_join()
## difference between full_join() and inner_join()
```

##### Mutating Joins

* `left_join()`

&nbsp;

&nbsp;

&nbsp;

&nbsp;

&nbsp;

* `right_join()`

&nbsp;

&nbsp;

&nbsp;

&nbsp;

&nbsp;

* `inner_join()`

\pagebreak

```{r}
df1 %>% pander()
df2 %>% pander()
```

* `full_join()`

&nbsp;

&nbsp;

&nbsp;

&nbsp;

##### Filtering Joins

* `semi_join()`

&nbsp;

&nbsp;

&nbsp;

&nbsp;

&nbsp;

* `anti_join()`